/*!
 * esper.js
 * 
 * Compiled: Tue Apr 30 2019 16:58:34 GMT-0700 (PDT)
 * Target  : web (umd)
 * Profile : modern
 * Version : 4036339-dirty
 * 
 * 
 * The MIT License (MIT)
 * Copyright (c) 2016 Robert Blanckaert
 * 
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 * 
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * 
 * 
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("esper")):"function"==typeof define&&define.amd?define(["esper"],e):"object"==typeof exports?exports["esper-plugin-lang-python"]=e(require("esper")):t["esper-plugin-lang-python"]=e(t.esper)}("undefined"!=typeof self?self:this,function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){var r=n(1),i=n(2);r._registerPlugin(i)},function(e,n){e.exports=t},function(t,e,n){"use strict";const r=n(3);let i;const o=n(4);let s,u=t.exports={name:"lang-python",skulpty:r,parser:function(t,e){e=e||{};let n=r.parse(t,{locations:!0,ranges:!0});return n.body.unshift({type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:{type:"Identifier",name:"self"},init:{type:"ThisExpression"}}],kind:"var",userCode:!1}),n},init:function(t){(i=t).languages.python=u,s=i.languages.javascript.parser(o)},setupRealm:function(t){t.PythonString=class extends i.StringValue{derivePrototype(t){return t.pythonStringBaseInstance}};t.pythonStringBaseInstance=new class extends i.EasyObjectValue{static*join$e(t,e,n){if(1!=e.length)return i.CompletionRecord.makeTypeError(n.realm,`join() takes exactly one argument (${e.length} given)`);let r=yield*n.realm.ArrayPrototype.get("join",n);return yield*r.call(e[0],[t],n)}}(t);let e={uper:"toUpperCase",lower:"toLowerCase",find:"indexOf",replace:"replace",split:"split",trim:"trim",charCodeAt:"charCodeAt",substring:"substring",toString:"toString",valueOf:"valueOf"};for(let n in e)t.pythonStringBaseInstance.properties[n]=t.StringPrototype.properties[e[n]]},startupCode:()=>s,makeLiteralValue:function(t,e,n){if(!n.nonUserCode&&"string"==typeof t)return new e.PythonString(t,e)}}},function(t,e,n){var r;r=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){"use strict";var r=n(1),i=n(2),o=n(3),s={locations:!0,ranges:!0,sippets:!0,filename:"file.py",useLet:!1,friendlyErrors:!0};function u(t,e){for(var n=-1,r=0;r<e.length&&!(e[r]>t);++r)n=r;return{line:n+2,column:t-(n>=0?e[n]:0),pos:t}}function l(t,e,n){var r=0;return t>=2&&t-2<n.length&&(r=n[t-2]),r+e}function a(t,e,n,r){var i=l(t.lineno,t.col_offset,n),o=[i==i?i:1/0,i==i?i:-1/0];if(t.value&&(o[1]+=t.value.length),t.children)for(var s=0;s<t.children.length;++s){var c=a(t.children[s],e,n,r);o[0]=Math.min(o[0],c[0]),o[1]=Math.max(o[1],c[1])}return r.ranges&&(t.range=o),r.locations&&(t.loc={start:u(o[0],n),end:u(o[1],n)}),r.snippets&&(t.str=e.substring(o[0],o[1])),o}t.exports={parse:function(t,e){var n,u,c=[],p=-1;for(var f in e=e||{},s)f in e||(e[f]=s[f]);for(;!((p=t.indexOf("\n",p+1))<0);)c.push(p+1);try{a((n=r.parse(e.filename,t)).cst,t,c,e),n.flags=n.flags|r.Parser.CO_FUTURE_UNICODE_LITERALS,u=r.astFromParse(n.cst,e.filename,n.flags)}catch(n){throw n.extra&&n.extra.node&&a(n.extra.node,t,c,e),o(n,e,t),n.loc&&(n.pos=l(n.loc.line,n.loc.column,c)),n}var b={varType:e.useLet?"let":"var"};return i(u,b)},pythonRuntime:n(4),defaultOptions:{runtimeParamName:"__pythonRuntime"}}},function(t,e){(function(e){var n={global:e};n.exportSymbol=function(){},n.require=function(){},n.inherits=function(t,e){if(!e)throw new Error("Cant inherit from undefined?");function n(){}n.prototype=e.prototype,t.superClass_=e.prototype,t.prototype=new n,t.prototype.constructor=t},n.asserts={assert:function(t,e){if(!t)throw new Error("AssertionFailed:"+e)}};var r=r||{};r.builtin=r.builtin||{},r.builtin.bool=Boolean,r.builtin.int_=function(t){this.v=t},r.builtin.int_.prototype.threshold$=1/0,r.builtin.int_.prototype.valueOf=function(){return this.v.valueOf()},r.builtin.tuple=function(t){this.v=Array.prototype.slice.call(t,0)},r.builtin.tuple.prototype.sq$length=function(){return this.length},r.builtin.float_=Number,r.builtin.long=Number,r.builtin.func=function(t){return t},void 0===r.builtin&&(r.builtin={}),r.dunderToSkulpt={__eq__:"ob$eq",__ne__:"ob$ne",__lt__:"ob$lt",__le__:"ob$le",__gt__:"ob$gt",__ge__:"ob$ge",__hash__:"tp$hash",__abs__:"nb$abs",__neg__:"nb$negative",__pos__:"nb$positive",__int__:"nb$int_",__long__:"nb$lng",__float__:"nb$float_",__add__:"nb$add",__radd__:"nb$reflected_add",__sub__:"nb$subtract",__rsub__:"nb$reflected_subtract",__mul__:"nb$multiply",__rmul__:"nb$reflected_multiply",__div__:"nb$divide",__rdiv__:"nb$reflected_divide",__floordiv__:"nb$floor_divide",__rfloordiv__:"nb$reflected_floor_divide",__mod__:"nb$remainder",__rmod__:"nb$reflected_remainder",__divmod__:"nb$divmod",__rdivmod__:"nb$reflected_divmod",__pow__:"nb$power",__rpow__:"nb$reflected_power",__contains__:"sq$contains",__len__:["sq$length",1],__get__:["tp$descr_get",3],__set__:["tp$descr_set",3]},r.builtin.type=function(t,e,i){var o,s,u;if(void 0===e&&void 0===i)return t.ob$type;if("dict"!==i.tp$name)throw new r.builtin.TypeError("type() argument 3 must be dict, not "+r.abstr.typeName(i));if(!r.builtin.checkString(t))throw new r.builtin.TypeError("type() argument 1 must be str, not "+r.abstr.typeName(t));if("tuple"!==e.tp$name)throw new r.builtin.TypeError("type() argument 2 must be tuple, not "+r.abstr.typeName(e));s=function(t,e){var n;void 0!==s.prototype.tp$base&&(s.prototype.tp$base.sk$klass?s.prototype.tp$base.call(this,t,e):((n=t.slice()).unshift(s,this),r.abstr.superConstructor.apply(void 0,n))),this.$d=new r.builtin.dict([]),this.$d.mp$ass_subscript(new r.builtin.str("__dict__"),this.$d)};var l=r.ffi.remapToJs(t),a=!1;s.tp$call=function(t,e){var n,i,o=r.builtin.type.typeLookup(s,"__new__");return t=t||[],e=e||[],void 0===o||o===r.builtin.object.prototype.__new__?(i=new s(t,e),o=void 0):((n=t.slice()).unshift(s),i=r.misceval.applyOrSuspend(o,void 0,void 0,e,n)),r.misceval.chain(i,function(n){var s=r.builtin.type.typeLookup(n.ob$type,"__init__");if(i=n,void 0!==s)return t.unshift(i),r.misceval.applyOrSuspend(s,void 0,void 0,e,t);if(void 0===o&&(0!==t.length||0!==e.length)&&!a)throw new r.builtin.TypeError("__init__() got unexpected argument(s)")},function(t){if(t!==r.builtin.none.none$&&void 0!==t)throw new r.builtin.TypeError("__init__() should return None, not "+r.abstr.typeName(t));return i})},0===e.v.length&&r.python3&&r.abstr.setUpInheritance(l,s,r.builtin.object);var c,p,f,b=[];for(c=(p=e.tp$iter()).tp$iternext();void 0!==c;c=p.tp$iternext()){for(void 0===f&&(f=c);c.sk$klass&&c.prototype.tp$base;)c=c.prototype.tp$base;!c.sk$klass&&b.indexOf(c)<0&&(b.push(c),a=!0)}if(b.length>1)throw new r.builtin.TypeError("Multiple inheritance with more than one builtin type is unsupported");void 0!==f&&(n.inherits(s,f),(f.prototype instanceof r.builtin.object||f===r.builtin.object)&&(s.prototype.tp$base=f)),s.prototype.tp$name=l,s.prototype.ob$type=r.builtin.type.makeIntoTypeObj(l,s);var _,h=new r.builtin.str("__module__");for(void 0===i.mp$lookup(h)&&i.mp$ass_subscript(h,r.globals.__name__),_=(p=i.tp$iter()).tp$iternext();void 0!==_;_=p.tp$iternext())void 0===(u=i.mp$subscript(_))&&(u=null),s.prototype[_.v]=u,s[_.v]=u;s.__class__=s,s.__name__=t,s.sk$klass=!0,s.prototype.$r=function(){var t,e,n=this.tp$getattr("__repr__");return void 0!==n&&n.im_func!==r.builtin.object.prototype.__repr__?r.misceval.apply(n,void 0,void 0,void 0,[]):void 0!==s.prototype.tp$base&&s.prototype.tp$base!==r.builtin.object&&void 0!==s.prototype.tp$base.prototype.$r?s.prototype.tp$base.prototype.$r.call(this):(t="",(e=i.mp$subscript(h))&&(t=e.v+"."),new r.builtin.str("<"+t+l+" object>"))},s.prototype.tp$setattr=function(t,e,n){var i,o=r.builtin.object.prototype.GenericGetAttr.call(this,"__setattr__");return void 0!==o?(i=r.misceval.callsimOrSuspend(o,new r.builtin.str(t),e),n?i:r.misceval.retryOptionalSuspensionOrThrow(i)):r.builtin.object.prototype.GenericSetAttr.call(this,t,e)},s.prototype.tp$getattr=function(t,e){var n,i,o=function(){return r.misceval.tryCatch(function(){return r.misceval.callsimOrSuspend(i,new r.builtin.str(t))},function(t){if(!(t instanceof r.builtin.AttributeError))throw t})};return void 0!==(i=r.builtin.object.prototype.GenericGetAttr.call(this,"__getattribute__"))?n=o():void 0===(n=r.builtin.object.prototype.GenericGetAttr.call(this,t))&&void 0!==(i=r.builtin.object.prototype.GenericGetAttr.call(this,"__getattr__"))&&(n=o()),e?n:r.misceval.retryOptionalSuspensionOrThrow(n)},s.prototype.tp$str=function(){var t=this.tp$getattr("__str__");return void 0!==t&&t.im_func!==r.builtin.object.prototype.__str__?r.misceval.apply(t,void 0,void 0,void 0,[]):void 0!==s.prototype.tp$base&&s.prototype.tp$base!==r.builtin.object&&void 0!==s.prototype.tp$base.prototype.tp$str?s.prototype.tp$base.prototype.tp$str.call(this):this.$r()},s.prototype.tp$length=function(t){var e=r.misceval.chain(r.abstr.gattr(this,"__len__",t),function(t){return r.misceval.applyOrSuspend(t,void 0,void 0,void 0,[])});return t?e:r.misceval.retryOptionalSuspensionOrThrow(e)},s.prototype.tp$call=function(t,e){return r.misceval.chain(this.tp$getattr("__call__",!0),function(n){if(void 0===n)throw new r.builtin.TypeError("'"+r.abstr.typeName(this)+"' object is not callable");return r.misceval.applyOrSuspend(n,void 0,void 0,e,t)})},s.prototype.tp$iter=function(){var t=this.tp$getattr("__iter__");if(void 0===t)throw new r.builtin.TypeError("'"+r.abstr.typeName(this)+"' object is not iterable");return r.misceval.callsim(t)},s.prototype.tp$iternext=function(t){var e=this,n=r.misceval.chain(e.tp$getattr("next",t),function(t){if(void 0===t)throw new r.builtin.TypeError("'"+r.abstr.typeName(e)+"' object is not iterable");return r.misceval.tryCatch(function(){return r.misceval.callsimOrSuspend(t)},function(t){if(!(t instanceof r.builtin.StopIteration))throw t})});return t?n:r.misceval.retryOptionalSuspensionOrThrow(n)},s.prototype.tp$getitem=function(t,e){var n,i=this.tp$getattr("__getitem__",e);if(void 0!==i)return n=r.misceval.applyOrSuspend(i,void 0,void 0,void 0,[t]),e?n:r.misceval.retryOptionalSuspensionOrThrow(n);throw new r.builtin.TypeError("'"+r.abstr.typeName(this)+"' object does not support indexing")},s.prototype.tp$setitem=function(t,e,n){var i,o=this.tp$getattr("__setitem__",n);if(void 0!==o)return i=r.misceval.applyOrSuspend(o,void 0,void 0,void 0,[t,e]),n?i:r.misceval.retryOptionalSuspensionOrThrow(i);throw new r.builtin.TypeError("'"+r.abstr.typeName(this)+"' object does not support item assignment")},e&&(s.$d=new r.builtin.dict([]),s.$d.mp$ass_subscript(r.builtin.type.basesStr_,e),o=r.builtin.type.buildMRO(s),s.$d.mp$ass_subscript(r.builtin.type.mroStr_,o),s.tp$mro=o),s.tp$setattr=r.builtin.type.prototype.tp$setattr;var y,d,m,v=function(t,e,n,i){s.prototype[t]=function(){var t,e=Array.prototype.slice.call(arguments);return e.unshift(n,this),null!==i&&(t=e[i+1],e.splice(i+1,1),t)?r.misceval.callsimOrSuspend.apply(void 0,e):r.misceval.callsim.apply(void 0,e)}};for(y in r.dunderToSkulpt)"string"==typeof(d=r.dunderToSkulpt[y])?m=null:(m=d[1],d=d[0]),s[y]&&v(d,0,s[y],m);return s},r.builtin.type.makeTypeObj=function(t,e){return r.builtin.type.makeIntoTypeObj(t,e),e},r.builtin.type.makeIntoTypeObj=function(t,e){return n.asserts.assert(void 0!==t),n.asserts.assert(void 0!==e),e.ob$type=r.builtin.type,e.tp$name=t,e.$r=function(){var t,n=e.__module__,i="";return n&&(i=n.v+"."),t="class",n||e.sk$klass||r.python3||(t="type"),new r.builtin.str("<"+t+" '"+i+e.tp$name+"'>")},e.tp$str=void 0,e.tp$getattr=r.builtin.type.prototype.tp$getattr,e.tp$setattr=r.builtin.object.prototype.GenericSetAttr,e.tp$richcompare=r.builtin.type.prototype.tp$richcompare,e.sk$type=!0,e},r.builtin.type.ob$type=r.builtin.type,r.builtin.type.tp$name="type",r.builtin.type.$r=function(){return r.python3?new r.builtin.str("<class 'type'>"):new r.builtin.str("<type 'type'>")},r.builtin.type.prototype.tp$getattr=function(t,e){var n,i,o;return this.$d&&void 0!==(n=this.$d.mp$lookup(new r.builtin.str(t)))?n:(null!=(i=r.builtin.type.typeLookup(this,t))&&void 0!==i.ob$type&&(o=i.tp$descr_get),o?o.call(i,r.builtin.none.none$,this,e):void 0!==i?i:void 0)},r.builtin.type.prototype.tp$setattr=function(t,e){this[t]=e},r.builtin.type.typeLookup=function(t,e){var n,i,o,s=t.tp$mro,u=new r.builtin.str(e);if(!s)return t.prototype?t.prototype[e]:void 0;for(o=0;o<s.v.length;++o){if((n=s.v[o]).hasOwnProperty(e))return n[e];if(void 0!==(i=n.$d.mp$lookup(u)))return i;if(n.prototype&&void 0!==n.prototype[e])return n.prototype[e]}},r.builtin.type.mroMerge_=function(t){for(var e,n,i,o,s,u,l,a,c=[];;){for(n=0;n<t.length&&0===(e=t[n]).length;++n);if(n===t.length)return c;for(a=[],n=0;n<t.length;++n)if(0!==(e=t[n]).length){l=e[0];t:for(u=0;u<t.length;++u)for(s=t[u],o=1;o<s.length;++o)if(s[o]===l)break t;u===t.length&&a.push(l)}if(0===a.length)throw new r.builtin.TypeError("Inconsistent precedences in type hierarchy");for(i=a[0],c.push(i),n=0;n<t.length;++n)(e=t[n]).length>0&&e[0]===i&&e.splice(0,1)}},r.builtin.type.buildMRO_=function(t){var e,n,i=[[t]],o=t.$d.mp$subscript(r.builtin.type.basesStr_);for(e=0;e<o.v.length;++e)i.push(r.builtin.type.buildMRO_(o.v[e]));for(n=[],e=0;e<o.v.length;++e)n.push(o.v[e]);return i.push(n),r.builtin.type.mroMerge_(i)},r.builtin.type.buildMRO=function(t){return new r.builtin.tuple(r.builtin.type.buildMRO_(t))},r.builtin.type.prototype.tp$richcompare=function(t,e){var n,i;if(t.ob$type==r.builtin.type&&this.$r&&t.$r)return i=new r.builtin.str(this.$r().v.slice(1,6)),n=new r.builtin.str(t.$r().v.slice(1,6)),"class"!==this.$r().v.slice(1,6)&&(i=this.$r(),n=t.$r()),i.tp$richcompare(n,e)},r.abstr={},r.abstr.typeName=function(t){return void 0!==t.tp$name?t.tp$name:"<invalid type>"},r.abstr.binop_type_error=function(t,e,n){var i=r.abstr.typeName(t),o=r.abstr.typeName(e);throw new r.builtin.TypeError("unsupported operand type(s) for "+n+": '"+i+"' and '"+o+"'")},r.abstr.unop_type_error=function(t,e){var n=r.abstr.typeName(t),i={UAdd:"+",USub:"-",Invert:"~"}[e];throw new r.builtin.TypeError("bad operand type for unary "+i+": '"+n+"'")},r.abstr.boNameToSlotFuncLhs_=function(t,e){if(null!==t)switch(e){case"Add":return t.nb$add?t.nb$add:t.__add__;case"Sub":return t.nb$subtract?t.nb$subtract:t.__sub__;case"Mult":return t.nb$multiply?t.nb$multiply:t.__mul__;case"Div":return t.nb$divide?t.nb$divide:t.__div__;case"FloorDiv":return t.nb$floor_divide?t.nb$floor_divide:t.__floordiv__;case"Mod":return t.nb$remainder?t.nb$remainder:t.__mod__;case"DivMod":return t.nb$divmod?t.nb$divmod:t.__divmod__;case"Pow":return t.nb$power?t.nb$power:t.__pow__;case"LShift":return t.nb$lshift?t.nb$lshift:t.__lshift__;case"RShift":return t.nb$rshift?t.nb$rshift:t.__rshift__;case"BitAnd":return t.nb$and?t.nb$and:t.__and__;case"BitXor":return t.nb$xor?t.nb$xor:t.__xor__;case"BitOr":return t.nb$or?t.nb$or:t.__or__}},r.abstr.boNameToSlotFuncRhs_=function(t,e){if(null!==t)switch(e){case"Add":return t.nb$reflected_add?t.nb$reflected_add:t.__radd__;case"Sub":return t.nb$reflected_subtract?t.nb$reflected_subtract:t.__rsub__;case"Mult":return t.nb$reflected_multiply?t.nb$reflected_multiply:t.__rmul__;case"Div":return t.nb$reflected_divide?t.nb$reflected_divide:t.__rdiv__;case"FloorDiv":return t.nb$reflected_floor_divide?t.nb$reflected_floor_divide:t.__rfloordiv__;case"Mod":return t.nb$reflected_remainder?t.nb$reflected_remainder:t.__rmod__;case"DivMod":return t.nb$reflected_divmod?t.nb$reflected_divmod:t.__rdivmod__;case"Pow":return t.nb$reflected_power?t.nb$reflected_power:t.__rpow__;case"LShift":return t.nb$reflected_lshift?t.nb$reflected_lshift:t.__rlshift__;case"RShift":return t.nb$reflected_rshift?t.nb$reflected_rshift:t.__rrshift__;case"BitAnd":return t.nb$reflected_and?t.nb$reflected_and:t.__rand__;case"BitXor":return t.nb$reflected_xor?t.nb$reflected_xor:t.__rxor__;case"BitOr":return t.nb$reflected_or?t.nb$reflected_or:t.__ror__}},r.abstr.iboNameToSlotFunc_=function(t,e){switch(e){case"Add":return t.nb$inplace_add?t.nb$inplace_add:t.__iadd__;case"Sub":return t.nb$inplace_subtract?t.nb$inplace_subtract:t.__isub__;case"Mult":return t.nb$inplace_multiply?t.nb$inplace_multiply:t.__imul__;case"Div":return t.nb$inplace_divide?t.nb$inplace_divide:t.__idiv__;case"FloorDiv":return t.nb$inplace_floor_divide?t.nb$inplace_floor_divide:t.__ifloordiv__;case"Mod":return t.nb$inplace_remainder;case"Pow":return t.nb$inplace_power;case"LShift":return t.nb$inplace_lshift?t.nb$inplace_lshift:t.__ilshift__;case"RShift":return t.nb$inplace_rshift?t.nb$inplace_rshift:t.__irshift__;case"BitAnd":return t.nb$inplace_and;case"BitOr":return t.nb$inplace_or;case"BitXor":return t.nb$inplace_xor?t.nb$inplace_xor:t.__ixor__}},r.abstr.uoNameToSlotFunc_=function(t,e){if(null!==t)switch(e){case"USub":return t.nb$negative?t.nb$negative:t.__neg__;case"UAdd":return t.nb$positive?t.nb$positive:t.__pos__;case"Invert":return t.nb$invert?t.nb$invert:t.__invert__}},r.abstr.binary_op_=function(t,e,n){var i,o,s,u=e.constructor.prototype instanceof t.constructor;return u&&void 0!==(i=r.abstr.boNameToSlotFuncRhs_(e,n))&&void 0!==(o=i.call?i.call(e,t):r.misceval.callsim(i,e,t))&&o!==r.builtin.NotImplemented.NotImplemented$?o:void 0!==(s=r.abstr.boNameToSlotFuncLhs_(t,n))&&void 0!==(o=s.call?s.call(t,e):r.misceval.callsim(s,t,e))&&o!==r.builtin.NotImplemented.NotImplemented$?o:u||void 0===(i=r.abstr.boNameToSlotFuncRhs_(e,n))||void 0===(o=i.call?i.call(e,t):r.misceval.callsim(i,e,t))||o===r.builtin.NotImplemented.NotImplemented$?void r.abstr.binop_type_error(t,e,n):o},r.abstr.binary_iop_=function(t,e,n){var i,o=r.abstr.iboNameToSlotFunc_(t,n);return void 0!==o&&void 0!==(i=o.call?o.call(t,e):r.misceval.callsim(o,t,e))&&i!==r.builtin.NotImplemented.NotImplemented$?i:r.abstr.binary_op_(t,e,n)},r.abstr.unary_op_=function(t,e){var n,i=r.abstr.uoNameToSlotFunc_(t,e);if(void 0!==i&&void 0!==(n=i.call?i.call(t):r.misceval.callsim(i,t)))return n;r.abstr.unop_type_error(t,e)},r.abstr.numOpAndPromote=function(t,e,n){var i;if(null!==t&&null!==e){if("number"==typeof t&&"number"==typeof e)return((i=n(t,e))>r.builtin.int_.threshold$||i<-r.builtin.int_.threshold$)&&Math.floor(i)===i?[r.builtin.lng.fromInt$(t),r.builtin.lng.fromInt$(e)]:i;if(void 0===t||void 0===e)throw new r.builtin.NameError("Undefined variable in expression");return t.constructor===r.builtin.lng?[t,e]:t.constructor!==r.builtin.int_&&t.constructor!==r.builtin.float_||e.constructor!==r.builtin.complex?t.constructor===r.builtin.int_||t.constructor===r.builtin.float_?[t,e]:"number"==typeof t?[r.builtin.assk$(t),e]:void 0:[new r.builtin.complex(t),e]}},r.abstr.boNumPromote_={Add:function(t,e){return t+e},Sub:function(t,e){return t-e},Mult:function(t,e){return t*e},Mod:function(t,e){var n;if(0===e)throw new r.builtin.ZeroDivisionError("division or modulo by zero");return(n=t%e)*e<0?n+e:n},Div:function(t,e){if(0===e)throw new r.builtin.ZeroDivisionError("division or modulo by zero");return t/e},FloorDiv:function(t,e){if(0===e)throw new r.builtin.ZeroDivisionError("division or modulo by zero");return Math.floor(t/e)},Pow:Math.pow,BitAnd:function(t,e){var n=t&e;return n<0&&(n+=4294967296),n},BitOr:function(t,e){var n=t|e;return n<0&&(n+=4294967296),n},BitXor:function(t,e){var n=t^e;return n<0&&(n+=4294967296),n},LShift:function(t,e){var n;if(e<0)throw new r.builtin.ValueError("negative shift count");return(n=t<<e)>t?n:t*Math.pow(2,e)},RShift:function(t,e){var n;if(e<0)throw new r.builtin.ValueError("negative shift count");return n=t>>e,t>0&&n<0&&(n&=Math.pow(2,32-e)-1),n}},r.abstr.numberBinOp=function(t,e,n){var i,o=r.abstr.boNumPromote_[n];if(void 0!==o){if("number"==typeof(i=r.abstr.numOpAndPromote(t,e,o)))return i;if(void 0!==i&&i.constructor===r.builtin.int_)return i;if(void 0!==i&&i.constructor===r.builtin.float_)return i;if(void 0!==i&&i.constructor===r.builtin.lng)return i;void 0!==i&&(t=i[0],e=i[1])}return r.abstr.binary_op_(t,e,n)},n.exportSymbol("Sk.abstr.numberBinOp",r.abstr.numberBinOp),r.abstr.numberInplaceBinOp=function(t,e,n){var i,o=r.abstr.boNumPromote_[n];if(void 0!==o){if("number"==typeof(i=r.abstr.numOpAndPromote(t,e,o)))return i;if(void 0!==i&&i.constructor===r.builtin.int_)return i;if(void 0!==i&&i.constructor===r.builtin.float_)return i;if(void 0!==i&&i.constructor===r.builtin.lng)return i;void 0!==i&&(t=i[0],e=i[1])}return r.abstr.binary_iop_(t,e,n)},n.exportSymbol("Sk.abstr.numberInplaceBinOp",r.abstr.numberInplaceBinOp),r.abstr.numberUnaryOp=function(t,e){var n;if("Not"===e)return r.misceval.isTrue(t)?r.builtin.bool.false$:r.builtin.bool.true$;if(t instanceof r.builtin.bool){if(n=r.builtin.asnum$(t),"USub"===e)return new r.builtin.int_(-n);if("UAdd"===e)return new r.builtin.int_(n);if("Invert"===e)return new r.builtin.int_(~n)}else{if("USub"===e&&t.nb$negative)return t.nb$negative();if("UAdd"===e&&t.nb$positive)return t.nb$positive();if("Invert"===e&&t.nb$invert)return t.nb$invert()}return r.abstr.unary_op_(t,e)},n.exportSymbol("Sk.abstr.numberUnaryOp",r.abstr.numberUnaryOp),r.abstr.fixSeqIndex_=function(t,e){return(e=r.builtin.asnum$(e))<0&&t.sq$length&&(e+=t.sq$length()),e},r.abstr.sequenceContains=function(t,e,n){var i,o,s;if(t.sq$contains)return t.sq$contains(e);if(null!=(o=r.abstr.lookupSpecial(t,"__contains__")))return r.misceval.isTrue(r.misceval.callsim(o,t,e));if(!r.builtin.checkIterable(t))throw i=r.abstr.typeName(t),new r.builtin.TypeError("argument of type '"+i+"' is not iterable");return s=r.misceval.iterFor(r.abstr.iter(t),function(t){return!!r.misceval.richCompareBool(t,e,"Eq")&&new r.misceval.Break(!0)},!1),n?s:r.misceval.retryOptionalSuspensionOrThrow(s)},r.abstr.sequenceConcat=function(t,e){var n;if(t.sq$concat)return t.sq$concat(e);throw n=r.abstr.typeName(t),new r.builtin.TypeError("'"+n+"' object can't be concatenated")},r.abstr.sequenceGetIndexOf=function(t,e){var n,i,o,s;if(t.index)return r.misceval.callsim(t.index,t,e);if(r.builtin.checkIterable(t)){for(s=0,i=(o=r.abstr.iter(t)).tp$iternext();void 0!==i;i=o.tp$iternext()){if(r.misceval.richCompareBool(e,i,"Eq"))return new r.builtin.int_(s);s+=1}throw new r.builtin.ValueError("sequence.index(x): x not in sequence")}throw n=r.abstr.typeName(t),new r.builtin.TypeError("argument of type '"+n+"' is not iterable")},r.abstr.sequenceGetCountOf=function(t,e){var n,i,o,s;if(t.count)return r.misceval.callsim(t.count,t,e);if(r.builtin.checkIterable(t)){for(s=0,i=(o=r.abstr.iter(t)).tp$iternext();void 0!==i;i=o.tp$iternext())r.misceval.richCompareBool(e,i,"Eq")&&(s+=1);return new r.builtin.int_(s)}throw n=r.abstr.typeName(t),new r.builtin.TypeError("argument of type '"+n+"' is not iterable")},r.abstr.sequenceGetItem=function(t,e,n){var i;if(t.mp$subscript)return t.mp$subscript(e);throw i=r.abstr.typeName(t),new r.builtin.TypeError("'"+i+"' object is unsubscriptable")},r.abstr.sequenceSetItem=function(t,e,n,i){var o;if(t.mp$ass_subscript)return t.mp$ass_subscript(e,n);throw o=r.abstr.typeName(t),new r.builtin.TypeError("'"+o+"' object does not support item assignment")},r.abstr.sequenceDelItem=function(t,e){var n;if(t.sq$del_item)return e=r.abstr.fixSeqIndex_(t,e),void t.sq$del_item(e);throw n=r.abstr.typeName(t),new r.builtin.TypeError("'"+n+"' object does not support item deletion")},r.abstr.sequenceRepeat=function(t,e,n){var i;if(n=r.builtin.asnum$(n),void 0===r.misceval.asIndex(n))throw i=r.abstr.typeName(n),new r.builtin.TypeError("can't multiply sequence by non-int of type '"+i+"'");return t.call(e,n)},r.abstr.sequenceGetSlice=function(t,e,n){var i;if(t.sq$slice)return e=r.abstr.fixSeqIndex_(t,e),n=r.abstr.fixSeqIndex_(t,n),t.sq$slice(e,n);if(t.mp$subscript)return t.mp$subscript(new r.builtin.slice(e,n));throw i=r.abstr.typeName(t),new r.builtin.TypeError("'"+i+"' object is unsliceable")},r.abstr.sequenceDelSlice=function(t,e,n){var i;if(t.sq$del_slice)return e=r.abstr.fixSeqIndex_(t,e),n=r.abstr.fixSeqIndex_(t,n),void t.sq$del_slice(e,n);throw i=r.abstr.typeName(t),new r.builtin.TypeError("'"+i+"' doesn't support slice deletion")},r.abstr.sequenceSetSlice=function(t,e,n,i){var o;if(t.sq$ass_slice)e=r.abstr.fixSeqIndex_(t,e),n=r.abstr.fixSeqIndex_(t,n),t.sq$ass_slice(e,n,i);else{if(!t.mp$ass_subscript)throw o=r.abstr.typeName(t),new r.builtin.TypeError("'"+o+"' object doesn't support slice assignment");t.mp$ass_subscript(new r.builtin.slice(e,n),i)}},r.abstr.sequenceUnpack=function(t,e){var n,i,o=[];if(!r.builtin.checkIterable(t))throw new r.builtin.TypeError("'"+r.abstr.typeName(t)+"' object is not iterable");for(i=(n=r.abstr.iter(t)).tp$iternext();void 0!==i&&o.length<e;i=n.tp$iternext())o.push(i);if(o.length<e)throw new r.builtin.ValueError("need more than "+o.length+" values to unpack");if(void 0!==i)throw new r.builtin.ValueError("too many values to unpack");return o},r.abstr.objectFormat=function(t,e){var n,i;if(null==e&&(e=""),null==(n=r.abstr.lookupSpecial(t,"__format__")))throw new r.builtin.TypeError("Type "+r.abstr.typeName(t)+"doesn't define __format__");if(i=r.misceval.callsim(n,t,e),!r.builtin.checkString(i))throw new r.builtin.TypeError("__format__ must return a str, not "+r.abstr.typeName(i));return i},r.abstr.objectAdd=function(t,e){var n,i;if(t.nb$add)return t.nb$add(e);throw i=r.abstr.typeName(t),n=r.abstr.typeName(e),new r.builtin.TypeError("unsupported operand type(s) for +: '"+i+"' and '"+n+"'")},r.abstr.objectNegative=function(t){var e,n=r.builtin.asnum$(t);if(t instanceof r.builtin.bool&&(t=new r.builtin.int_(n)),t.nb$negative)return t.nb$negative();throw e=r.abstr.typeName(t),new r.builtin.TypeError("bad operand type for unary -: '"+e+"'")},r.abstr.objectPositive=function(t){var e=r.abstr.typeName(t),n=r.builtin.asnum$(t);if(t instanceof r.builtin.bool&&(t=new r.builtin.int_(n)),t.nb$negative)return t.nb$positive();throw new r.builtin.TypeError("bad operand type for unary +: '"+e+"'")},r.abstr.objectDelItem=function(t,e){var n,i,o;if(null!==t){if(t.mp$del_subscript)return void t.mp$del_subscript(e);if(t.sq$ass_item){if(void 0===(o=r.misceval.asIndex(e)))throw i=r.abstr.typeName(e),new r.builtin.TypeError("sequence index must be integer, not '"+i+"'");return void r.abstr.sequenceDelItem(t,o)}}throw n=r.abstr.typeName(t),new r.builtin.TypeError("'"+n+"' object does not support item deletion")},n.exportSymbol("Sk.abstr.objectDelItem",r.abstr.objectDelItem),r.abstr.objectGetItem=function(t,e,n){var i;if(null!==t){if(t.tp$getitem)return t.tp$getitem(e,n);if(t.mp$subscript)return t.mp$subscript(e,n);if(r.misceval.isIndex(e)&&t.sq$item)return r.abstr.sequenceGetItem(t,r.misceval.asIndex(e),n)}throw i=r.abstr.typeName(t),new r.builtin.TypeError("'"+i+"' does not support indexing")},n.exportSymbol("Sk.abstr.objectGetItem",r.abstr.objectGetItem),r.abstr.objectSetItem=function(t,e,n,i){var o;if(null!==t){if(t.tp$setitem)return t.tp$setitem(e,n,i);if(t.mp$ass_subscript)return t.mp$ass_subscript(e,n,i);if(r.misceval.isIndex(e)&&t.sq$ass_item)return r.abstr.sequenceSetItem(t,r.misceval.asIndex(e),n,i)}throw o=r.abstr.typeName(t),new r.builtin.TypeError("'"+o+"' does not support item assignment")},n.exportSymbol("Sk.abstr.objectSetItem",r.abstr.objectSetItem),r.abstr.gattr=function(t,e,n){var i,o=r.abstr.typeName(t);if(null===t)throw new r.builtin.AttributeError("'"+o+"' object has no attribute '"+e+"'");return void 0!==t.tp$getattr&&(i=t.tp$getattr(e,n)),i=r.misceval.chain(i,function(t){if(void 0===t)throw new r.builtin.AttributeError("'"+o+"' object has no attribute '"+e+"'");return t}),n?i:r.misceval.retryOptionalSuspensionOrThrow(i)},n.exportSymbol("Sk.abstr.gattr",r.abstr.gattr),r.abstr.sattr=function(t,e,n,i){var o=r.abstr.typeName(t);if(null===t)throw new r.builtin.AttributeError("'"+o+"' object has no attribute '"+e+"'");if(void 0!==t.tp$setattr)return t.tp$setattr(e,n,i);throw new r.builtin.AttributeError("'"+o+"' object has no attribute '"+e+"'")},n.exportSymbol("Sk.abstr.sattr",r.abstr.sattr),r.abstr.iternext=function(t,e){return t.tp$iternext(e)},n.exportSymbol("Sk.abstr.iternext",r.abstr.iternext),r.abstr.iter=function(t){var e,n;if(t.tp$getattr&&(e=r.abstr.lookupSpecial(t,"__iter__"))&&(n=r.misceval.callsim(e,t)).tp$iternext)return n;if(t.tp$iter)try{if((n=t.tp$iter()).tp$iternext)return n}catch(t){}if(r.abstr.lookupSpecial(t,"__getitem__"))return new function(t){this.idx=0,this.myobj=t,this.getitem=r.abstr.lookupSpecial(t,"__getitem__"),this.tp$iternext=function(){var t;try{t=r.misceval.callsim(this.getitem,this.myobj,r.ffi.remapToPy(this.idx))}catch(t){if(t instanceof r.builtin.IndexError||t instanceof r.builtin.StopIteration)return;throw t}return this.idx++,t}}(t);throw new r.builtin.TypeError("'"+r.abstr.typeName(t)+"' object is not iterable")},n.exportSymbol("Sk.abstr.iter",r.abstr.iter),r.abstr.lookupSpecial=function(t,e){var n;return t.ob$type?(n=t.ob$type,r.builtin.type.typeLookup(n,e)):null},n.exportSymbol("Sk.abstr.lookupSpecial",r.abstr.lookupSpecial),r.abstr.markUnhashable=function(t){var e=t.prototype;e.__hash__=r.builtin.none.none$,e.tp$hash=r.builtin.none.none$},r.abstr.setUpInheritance=function(t,e,i){n.inherits(e,i),e.prototype.tp$base=i,e.prototype.tp$name=t,e.prototype.ob$type=r.builtin.type.makeIntoTypeObj(t,e)},r.abstr.superConstructor=function(t,e,n){var r=Array.prototype.slice.call(arguments,2);t.prototype.tp$base.apply(e,r)},r.builtin.object=function(){return this instanceof r.builtin.object?this:new r.builtin.object};function i(t){return"("+Array.prototype.slice.call(arguments).join("|")+")"}r.builtin.object.prototype.GenericGetAttr=function(t,e){var i,o,s,u,l,a=new r.builtin.str(t);return n.asserts.assert("string"==typeof t),u=this.ob$type,n.asserts.assert(void 0!==u,"object has no ob$type!"),(l=this.$d||this.constructor.$d)&&(l.mp$lookup?i=l.mp$lookup(a):l.mp$subscript?i=function(t,e){try{return t.mp$subscript(e)}catch(t){return}}(l,a):"object"==typeof l&&(i=l[t]),void 0!==i)?i:null!=(s=r.builtin.type.typeLookup(u,t))&&(o=s.tp$descr_get)?o.call(s,this,this.ob$type,e):void 0!==s?s:void 0},n.exportSymbol("Sk.builtin.object.prototype.GenericGetAttr",r.builtin.object.prototype.GenericGetAttr),r.builtin.object.prototype.GenericPythonGetAttr=function(t,e){return r.builtin.object.prototype.GenericGetAttr.call(t,e.v)},n.exportSymbol("Sk.builtin.object.prototype.GenericPythonGetAttr",r.builtin.object.prototype.GenericPythonGetAttr),r.builtin.object.prototype.GenericSetAttr=function(t,e,i){var o,s,u,l,a=r.abstr.typeName(this),c=this.ob$type;if(n.asserts.assert("string"==typeof t),n.asserts.assert(void 0!==c,"object has no ob$type!"),s=this.$d||this.constructor.$d,null!=(u=r.builtin.type.typeLookup(c,t))&&(l=u.tp$descr_set))return l.call(u,this,e,i);if(s.mp$ass_subscript){if(o=new r.builtin.str(t),this instanceof r.builtin.object&&!this.ob$type.sk$klass&&void 0===s.mp$lookup(o))throw new r.builtin.AttributeError("'"+a+"' object has no attribute '"+r.unfixReserved(t)+"'");s.mp$ass_subscript(new r.builtin.str(t),e)}else"object"==typeof s&&(s[t]=e)},n.exportSymbol("Sk.builtin.object.prototype.GenericSetAttr",r.builtin.object.prototype.GenericSetAttr),r.builtin.object.prototype.GenericPythonSetAttr=function(t,e,n){return r.builtin.object.prototype.GenericSetAttr.call(t,e.v,n)},n.exportSymbol("Sk.builtin.object.prototype.GenericPythonSetAttr",r.builtin.object.prototype.GenericPythonSetAttr),r.builtin.object.prototype.HashNotImplemented=function(){throw new r.builtin.TypeError("unhashable type: '"+r.abstr.typeName(this)+"'")},r.builtin.object.prototype.tp$getattr=r.builtin.object.prototype.GenericGetAttr,r.builtin.object.prototype.tp$setattr=r.builtin.object.prototype.GenericSetAttr,r.builtin.object.prototype.__getattr__=r.builtin.object.prototype.GenericPythonGetAttr,r.builtin.object.prototype.__setattr__=r.builtin.object.prototype.GenericPythonSetAttr,r.builtin.object.prototype.tp$name="object",r.builtin.object.prototype.ob$type=r.builtin.type.makeIntoTypeObj("object",r.builtin.object),r.builtin.object.prototype.ob$type.sk$klass=void 0,r.builtin.object.prototype.tp$descr_set=void 0,r.builtin.object.prototype.__new__=function(t){return r.builtin.pyCheckArgs("__new__",arguments,1,1,!1,!1),new t([],[])},r.builtin.object.prototype.__repr__=function(t){return r.builtin.pyCheckArgs("__repr__",arguments,0,0,!1,!0),t.$r()},r.builtin.object.prototype.__str__=function(t){return r.builtin.pyCheckArgs("__str__",arguments,0,0,!1,!0),t.$r()},r.builtin.object.prototype.__hash__=function(t){return r.builtin.pyCheckArgs("__hash__",arguments,0,0,!1,!0),t.tp$hash()},r.builtin.object.prototype.__eq__=function(t,e){return r.builtin.pyCheckArgs("__eq__",arguments,1,1,!1,!0),t.ob$eq(e)},r.builtin.object.prototype.__ne__=function(t,e){return r.builtin.pyCheckArgs("__ne__",arguments,1,1,!1,!0),t.ob$ne(e)},r.builtin.object.prototype.__lt__=function(t,e){return r.builtin.pyCheckArgs("__lt__",arguments,1,1,!1,!0),t.ob$lt(e)},r.builtin.object.prototype.__le__=function(t,e){return r.builtin.pyCheckArgs("__le__",arguments,1,1,!1,!0),t.ob$le(e)},r.builtin.object.prototype.__gt__=function(t,e){return r.builtin.pyCheckArgs("__gt__",arguments,1,1,!1,!0),t.ob$gt(e)},r.builtin.object.prototype.__ge__=function(t,e){return r.builtin.pyCheckArgs("__ge__",arguments,1,1,!1,!0),t.ob$ge(e)},r.builtin.object.prototype.$r=function(){return new r.builtin.str("<object>")},r.builtin.hashCount=1,r.builtin.idCount=1,r.builtin.object.prototype.tp$hash=function(){return this.$savedHash_||(this.$savedHash_=new r.builtin.int_(r.builtin.hashCount++)),this.$savedHash_},r.builtin.object.prototype.ob$eq=function(t){return this===t?r.builtin.bool.true$:r.builtin.NotImplemented.NotImplemented$},r.builtin.object.prototype.ob$ne=function(t){return this===t?r.builtin.bool.false$:r.builtin.NotImplemented.NotImplemented$},r.builtin.object.prototype.ob$lt=function(t){return r.builtin.NotImplemented.NotImplemented$},r.builtin.object.prototype.ob$le=function(t){return r.builtin.NotImplemented.NotImplemented$},r.builtin.object.prototype.ob$gt=function(t){return r.builtin.NotImplemented.NotImplemented$},r.builtin.object.prototype.ob$ge=function(t){return r.builtin.NotImplemented.NotImplemented$},r.builtin.object.pythonFunctions=["__repr__","__str__","__hash__","__eq__","__ne__","__lt__","__le__","__gt__","__ge__","__getattr__","__setattr__"],r.builtin.none=function(){this.v=null},r.abstr.setUpInheritance("NoneType",r.builtin.none,r.builtin.object),r.builtin.none.prototype.$r=function(){return new r.builtin.str("None")},r.builtin.none.prototype.tp$hash=function(){return new r.builtin.int_(0)},r.builtin.none.none$=new r.builtin.none,r.builtin.NotImplemented=function(){},r.abstr.setUpInheritance("NotImplementedType",r.builtin.NotImplemented,r.builtin.object),r.builtin.NotImplemented.prototype.$r=function(){return new r.builtin.str("NotImplemented")},r.builtin.NotImplemented.NotImplemented$=new r.builtin.NotImplemented,n.exportSymbol("Sk.builtin.none",r.builtin.none),n.exportSymbol("Sk.builtin.NotImplemented",r.builtin.NotImplemented),r.builtin.pyCheckArgs=function(t,e,n,i,o,s){var u=e.length,l="";if(void 0===i&&(i=1/0),o&&(u-=1),s&&(u-=1),u<n||u>i)throw l=n===i?t+"() takes exactly "+n+" arguments":u<n?t+"() takes at least "+n+" arguments":t+"() takes at most "+i+" arguments",l+=" ("+u+" given)",new r.builtin.TypeError(l)},n.exportSymbol("Sk.builtin.pyCheckArgs",r.builtin.pyCheckArgs),r.builtin.pyCheckType=function(t,e,n){if(!n)throw new r.builtin.TypeError(t+" must be a "+e)},n.exportSymbol("Sk.builtin.pyCheckType",r.builtin.pyCheckType),r.builtin.checkSequence=function(t){return null!==t&&void 0!==t.mp$subscript},n.exportSymbol("Sk.builtin.checkSequence",r.builtin.checkSequence),r.builtin.checkIterable=function(t){var e=!1;if(null!==t)try{return!!(e=r.abstr.iter(t))}catch(t){if(t instanceof r.builtin.TypeError)return!1;throw t}return e},n.exportSymbol("Sk.builtin.checkIterable",r.builtin.checkIterable),r.builtin.checkCallable=function(t){return"function"==typeof t||(t instanceof r.builtin.func||(t instanceof r.builtin.method||void 0!==r.abstr.lookupSpecial(t,"__call__")))},r.builtin.checkNumber=function(t){return null!==t&&("number"==typeof t||t instanceof r.builtin.int_||t instanceof r.builtin.float_||t instanceof r.builtin.lng)},n.exportSymbol("Sk.builtin.checkNumber",r.builtin.checkNumber),r.builtin.checkComplex=function(t){return r.builtin.complex._complex_check(t)},n.exportSymbol("Sk.builtin.checkComplex",r.builtin.checkComplex),r.builtin.checkInt=function(t){return null!==t&&("number"==typeof t&&t===(0|t)||t instanceof r.builtin.int_||t instanceof r.builtin.lng)},n.exportSymbol("Sk.builtin.checkInt",r.builtin.checkInt),r.builtin.checkFloat=function(t){return null!==t&&t instanceof r.builtin.float_},n.exportSymbol("Sk.builtin.checkFloat",r.builtin.checkFloat),r.builtin.checkString=function(t){return null!==t&&t.__class__==r.builtin.str},n.exportSymbol("Sk.builtin.checkString",r.builtin.checkString),r.builtin.checkClass=function(t){return null!==t&&t.sk$type},n.exportSymbol("Sk.builtin.checkClass",r.builtin.checkClass),r.builtin.checkBool=function(t){return t instanceof r.builtin.bool},n.exportSymbol("Sk.builtin.checkBool",r.builtin.checkBool),r.builtin.checkNone=function(t){return t instanceof r.builtin.none},n.exportSymbol("Sk.builtin.checkNone",r.builtin.checkNone),r.builtin.checkFunction=function(t){return null!==t&&void 0!==t.tp$call},n.exportSymbol("Sk.builtin.checkFunction",r.builtin.checkFunction),r.builtin.func=function(t,e,n,r){var i;if(this.func_code=t,this.func_globals=e||null,void 0!==r)for(i in r)n[i]=r[i];return this.func_closure=n,this},n.exportSymbol("Sk.builtin.func",r.builtin.func),r.builtin.func.prototype.tp$name="function",r.builtin.func.prototype.tp$descr_get=function(t,e){return n.asserts.assert(void 0!==t&&void 0!==e),t===r.builtin.none.none$?this:new r.builtin.method(this,t,e)},r.builtin.func.prototype.tp$call=function(t,e){var n,i,o,s,u,l,a,c,p;if(a=this.func_code.co_kwargs,l=[],this.func_code.no_kw&&e)throw c=this.func_code&&this.func_code.co_name&&this.func_code.co_name.v||"<native JS>",new r.builtin.TypeError(c+"() takes no keyword arguments");if(e)for(u=e.length,o=(s=this.func_code.co_varnames)&&s.length,i=0;i<u;i+=2){for(n=0;n<o&&e[i]!==s[n];++n);if(s&&n!==o){if(n in t)throw c=this.func_code&&this.func_code.co_name&&this.func_code.co_name.v||"<native JS>",new r.builtin.TypeError(c+"() got multiple values for keyword argument '"+e[i]+"'");t[n]=e[i+1]}else{if(!a)throw c=this.func_code&&this.func_code.co_name&&this.func_code.co_name.v||"<native JS>",new r.builtin.TypeError(c+"() got an unexpected keyword argument '"+e[i]+"'");l.push(new r.builtin.str(e[i])),l.push(e[i+1])}}if(this.func_closure){if(this.func_code.co_varnames)for(p=t.length,o=this.func_code.co_varnames.length,i=p;i<o;i++)t.push(void 0);t.push(this.func_closure)}return a&&t.unshift(l),this.func_code.apply(this.func_globals,t)},r.builtin.func.prototype.tp$getattr=function(t){return this[t]},r.builtin.func.prototype.tp$setattr=function(t,e){this[t]=e},r.builtin.func.prototype.ob$type=r.builtin.type.makeTypeObj("function",new r.builtin.func(null,null)),r.builtin.func.prototype.$r=function(){var t=this.func_code&&this.func_code.co_name&&this.func_code.co_name.v||"<native JS>";return new r.builtin.str("<function "+t+">")},r.builtin.seqtype=function(){throw new r.builtin.ExternalError("Cannot instantiate abstract Sk.builtin.seqtype class")},r.abstr.setUpInheritance("SequenceType",r.builtin.seqtype,r.builtin.object),r.builtin.seqtype.sk$abstract=!0,r.builtin.seqtype.prototype.__len__=new r.builtin.func(function(t){return r.builtin.pyCheckArgs("__len__",arguments,0,0,!1,!0),new r.builtin.int_(t.sq$length())}),r.builtin.seqtype.prototype.__iter__=new r.builtin.func(function(t){return r.builtin.pyCheckArgs("__iter__",arguments,0,0,!1,!0),t.tp$iter()}),r.builtin.seqtype.prototype.__contains__=new r.builtin.func(function(t,e){return r.builtin.pyCheckArgs("__contains__",arguments,1,1,!1,!0),t.sq$contains(e)?r.builtin.bool.true$:r.builtin.bool.false$}),r.builtin.seqtype.prototype.__getitem__=new r.builtin.func(function(t,e){return r.builtin.pyCheckArgs("__getitem__",arguments,1,1,!1,!0),t.mp$subscript(e)}),r.builtin.seqtype.prototype.__add__=new r.builtin.func(function(t,e){return r.builtin.pyCheckArgs("__add__",arguments,1,1,!1,!0),t.sq$concat(e)}),r.builtin.seqtype.prototype.__mul__=new r.builtin.func(function(t,e){if(r.builtin.pyCheckArgs("__mul__",arguments,1,1,!1,!0),!r.misceval.isIndex(e))throw new r.builtin.TypeError("can't multiply sequence by non-int of type '"+r.abstr.typeName(e)+"'");return t.sq$repeat(e)}),r.builtin.seqtype.prototype.__rmul__=new r.builtin.func(function(t,e){return r.builtin.pyCheckArgs("__rmul__",arguments,1,1,!1,!0),t.sq$repeat(e)}),r.builtin.interned={},r.builtin.str=function(t){var e;if(void 0===t&&(t=""),t instanceof r.builtin.str)return t;if(!(this instanceof r.builtin.str))return new r.builtin.str(t);if(!0===t)e="True";else if(!1===t)e="False";else if(null===t||t instanceof r.builtin.none)e="None";else if(t instanceof r.builtin.bool)e=t.v?"True":"False";else if("number"==typeof t)"Infinity"===(e=t.toString())?e="inf":"-Infinity"===e&&(e="-inf");else{if("string"!=typeof t){if(void 0!==t.tp$str){if(!((e=t.tp$str())instanceof r.builtin.str))throw new r.builtin.ValueError("__str__ didn't return a str");return e}return r.misceval.objectRepr(t)}e=t}return r.builtin.interned["1"+e]?r.builtin.interned["1"+e]:(this.__class__=r.builtin.str,this.v=e,this.v=this.v,r.builtin.interned["1"+e]=this,this)},n.exportSymbol("Sk.builtin.str",r.builtin.str),r.abstr.setUpInheritance("str",r.builtin.str,r.builtin.seqtype),r.builtin.str.prototype.mp$subscript=function(t){var e;if(r.misceval.isIndex(t)){if((t=r.misceval.asIndex(t))<0&&(t=this.v.length+t),t<0||t>=this.v.length)throw new r.builtin.IndexError("string index out of range");return new r.builtin.str(this.v.charAt(t))}if(t instanceof r.builtin.slice)return e="",t.sssiter$(this,function(t,n){t>=0&&t<n.v.length&&(e+=n.v.charAt(t))}),new r.builtin.str(e);throw new r.builtin.TypeError("string indices must be integers, not "+r.abstr.typeName(t))},r.builtin.str.prototype.sq$length=function(){return this.v.length},r.builtin.str.prototype.sq$concat=function(t){var e;if(!t||!r.builtin.checkString(t))throw e=r.abstr.typeName(t),new r.builtin.TypeError("cannot concatenate 'str' and '"+e+"' objects");return new r.builtin.str(this.v+t.v)},r.builtin.str.prototype.nb$add=r.builtin.str.prototype.sq$concat,r.builtin.str.prototype.nb$inplace_add=r.builtin.str.prototype.sq$concat,r.builtin.str.prototype.sq$repeat=function(t){var e,n;if(!r.misceval.isIndex(t))throw new r.builtin.TypeError("can't multiply sequence by non-int of type '"+r.abstr.typeName(t)+"'");for(t=r.misceval.asIndex(t),n="",e=0;e<t;++e)n+=this.v;return new r.builtin.str(n)},r.builtin.str.prototype.nb$multiply=r.builtin.str.prototype.sq$repeat,r.builtin.str.prototype.nb$inplace_multiply=r.builtin.str.prototype.sq$repeat,r.builtin.str.prototype.sq$item=function(){n.asserts.fail()},r.builtin.str.prototype.sq$slice=function(t,e){return t=r.builtin.asnum$(t),e=r.builtin.asnum$(e),t<0&&(t=0),new r.builtin.str(this.v.substr(t,e-t))},r.builtin.str.prototype.sq$contains=function(t){if(!(t instanceof r.builtin.str))throw new r.builtin.TypeError("TypeError: 'In <string> requires string as left operand");return-1!=this.v.indexOf(t.v)},r.builtin.str.prototype.__iter__=new r.builtin.func(function(t){return new r.builtin.str_iter_(t)}),r.builtin.str.prototype.tp$iter=function(){return new r.builtin.str_iter_(this)},r.builtin.str.prototype.tp$richcompare=function(t,e){if(t instanceof r.builtin.str)switch(e){case"Lt":return this.v<t.v;case"LtE":return this.v<=t.v;case"Eq":return this.v===t.v;case"NotEq":return this.v!==t.v;case"Gt":return this.v>t.v;case"GtE":return this.v>=t.v;default:n.asserts.fail()}},r.builtin.str.prototype.$r=function(){var t,e,n,i,o,s="'";for(-1!==this.v.indexOf("'")&&-1===this.v.indexOf('"')&&(s='"'),o=this.v.length,i=s,n=0;n<o;++n)(e=this.v.charAt(n))===s||"\\"===e?i+="\\"+e:"\t"===e?i+="\\t":"\n"===e?i+="\\n":"\r"===e?i+="\\r":e<" "||e>=127?((t=e.charCodeAt(0).toString(16)).length<2&&(t="0"+t),i+="\\x"+t):i+=e;return i+=s,new r.builtin.str(i)},r.builtin.str.re_escape_=function(t){var e,n,r=[],i=/^[A-Za-z0-9]+$/;for(n=0;n<t.length;++n)e=t.charAt(n),i.test(e)?r.push(e):"\\000"===e?r.push("\\000"):r.push("\\"+e);return r.join("")},r.builtin.str.prototype.lower=new r.builtin.func(function(t){return r.builtin.pyCheckArgs("lower",arguments,1,1),new r.builtin.str(t.v.toLowerCase())}),r.builtin.str.prototype.upper=new r.builtin.func(function(t){return r.builtin.pyCheckArgs("upper",arguments,1,1),new r.builtin.str(t.v.toUpperCase())}),r.builtin.str.prototype.capitalize=new r.builtin.func(function(t){var e,n,i;if(r.builtin.pyCheckArgs("capitalize",arguments,1,1),0===(i=t.v).length)return new r.builtin.str("");for(n=i.charAt(0).toUpperCase(),e=1;e<i.length;e++)n+=i.charAt(e).toLowerCase();return new r.builtin.str(n)}),r.builtin.str.prototype.join=new r.builtin.func(function(t,e){var n,i,o;for(r.builtin.pyCheckArgs("join",arguments,2,2),r.builtin.pyCheckType("seq","iterable",r.builtin.checkIterable(e)),o=[],i=(n=e.tp$iter()).tp$iternext();void 0!==i;i=n.tp$iternext()){if(i.constructor!==r.builtin.str)throw new r.builtin.TypeError("TypeError: sequence item "+o.length+": expected string, "+typeof i+" found");o.push(i.v)}return new r.builtin.str(o.join(t.v))}),r.builtin.str.prototype.split=new r.builtin.func(function(t,e,i){var o,s,u,l,a,c,p;if(r.builtin.pyCheckArgs("split",arguments,1,3),(void 0===e||e instanceof r.builtin.none)&&(e=null),null!==e&&!r.builtin.checkString(e))throw new r.builtin.TypeError("expected a string");if(null!==e&&""===e.v)throw new r.builtin.ValueError("empty separator");if(void 0!==i&&!r.builtin.checkInt(i))throw new r.builtin.TypeError("an integer is required");for(i=r.builtin.asnum$(i),p=/[\s]+/g,c=t.v,null===e?c=n.string.trimLeft(c):(a=e.v.replace(/([.*+?=|\\\/()\[\]\{\}^$])/g,"\\$1"),p=new RegExp(a,"g")),l=[],s=0,o=0;null!=(u=p.exec(c))&&u.index!==p.lastIndex&&(l.push(new r.builtin.str(c.substring(s,u.index))),s=p.lastIndex,o+=1,!(i&&o>=i)););return c=c.substring(s),(null!==e||c.length>0)&&l.push(new r.builtin.str(c)),new r.builtin.list(l)}),r.builtin.str.prototype.strip=new r.builtin.func(function(t,e){var n,i;if(r.builtin.pyCheckArgs("strip",arguments,1,2),void 0!==e&&!r.builtin.checkString(e))throw new r.builtin.TypeError("strip arg must be None or str");return void 0===e?i=/^\s+|\s+$/g:(n=r.builtin.str.re_escape_(e.v),i=new RegExp("^["+n+"]+|["+n+"]+$","g")),new r.builtin.str(t.v.replace(i,""))}),r.builtin.str.prototype.lstrip=new r.builtin.func(function(t,e){var n,i;if(r.builtin.pyCheckArgs("lstrip",arguments,1,2),void 0!==e&&!r.builtin.checkString(e))throw new r.builtin.TypeError("lstrip arg must be None or str");return void 0===e?i=/^\s+/g:(n=r.builtin.str.re_escape_(e.v),i=new RegExp("^["+n+"]+","g")),new r.builtin.str(t.v.replace(i,""))}),r.builtin.str.prototype.rstrip=new r.builtin.func(function(t,e){var n,i;if(r.builtin.pyCheckArgs("rstrip",arguments,1,2),void 0!==e&&!r.builtin.checkString(e))throw new r.builtin.TypeError("rstrip arg must be None or str");return void 0===e?i=/\s+$/g:(n=r.builtin.str.re_escape_(e.v),i=new RegExp("["+n+"]+$","g")),new r.builtin.str(t.v.replace(i,""))}),r.builtin.str.prototype.partition=new r.builtin.func(function(t,e){var n,i;return r.builtin.pyCheckArgs("partition",arguments,2,2),r.builtin.pyCheckType("sep","string",r.builtin.checkString(e)),i=new r.builtin.str(e),(n=t.v.indexOf(i.v))<0?new r.builtin.tuple([t,r.builtin.str.$emptystr,r.builtin.str.$emptystr]):new r.builtin.tuple([new r.builtin.str(t.v.substring(0,n)),i,new r.builtin.str(t.v.substring(n+i.v.length))])}),r.builtin.str.prototype.rpartition=new r.builtin.func(function(t,e){var n,i;return r.builtin.pyCheckArgs("rpartition",arguments,2,2),r.builtin.pyCheckType("sep","string",r.builtin.checkString(e)),i=new r.builtin.str(e),(n=t.v.lastIndexOf(i.v))<0?new r.builtin.tuple([r.builtin.str.$emptystr,r.builtin.str.$emptystr,t]):new r.builtin.tuple([new r.builtin.str(t.v.substring(0,n)),i,new r.builtin.str(t.v.substring(n+i.v.length))])}),r.builtin.str.prototype.count=new r.builtin.func(function(t,e,n,i){var o,s,u;if(r.builtin.pyCheckArgs("count",arguments,2,4),!r.builtin.checkString(e))throw new r.builtin.TypeError("expected a character buffer object");if(void 0!==n&&!r.builtin.checkInt(n))throw new r.builtin.TypeError("slice indices must be integers or None or have an __index__ method");if(void 0!==i&&!r.builtin.checkInt(i))throw new r.builtin.TypeError("slice indices must be integers or None or have an __index__ method");return n=void 0===n?0:(n=r.builtin.asnum$(n))>=0?n:t.v.length+n,i=void 0===i?t.v.length:(i=r.builtin.asnum$(i))>=0?i:t.v.length+i,o=e.v.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),u=new RegExp(o,"g"),(s=t.v.slice(n,i).match(u))?new r.builtin.int_(s.length):new r.builtin.int_(0)}),r.builtin.str.prototype.ljust=new r.builtin.func(function(t,e,n){var i;if(r.builtin.pyCheckArgs("ljust",arguments,2,3),!r.builtin.checkInt(e))throw new r.builtin.TypeError("integer argument exepcted, got "+r.abstr.typeName(e));if(void 0!==n&&(!r.builtin.checkString(n)||1!==n.v.length))throw new r.builtin.TypeError("must be char, not "+r.abstr.typeName(n));return n=void 0===n?" ":n.v,e=r.builtin.asnum$(e),t.v.length>=e?t:(i=Array.prototype.join.call({length:Math.floor(e-t.v.length)+1},n),new r.builtin.str(t.v+i))}),r.builtin.str.prototype.rjust=new r.builtin.func(function(t,e,n){var i;if(r.builtin.pyCheckArgs("rjust",arguments,2,3),!r.builtin.checkInt(e))throw new r.builtin.TypeError("integer argument exepcted, got "+r.abstr.typeName(e));if(void 0!==n&&(!r.builtin.checkString(n)||1!==n.v.length))throw new r.builtin.TypeError("must be char, not "+r.abstr.typeName(n));return n=void 0===n?" ":n.v,e=r.builtin.asnum$(e),t.v.length>=e?t:(i=Array.prototype.join.call({length:Math.floor(e-t.v.length)+1},n),new r.builtin.str(i+t.v))}),r.builtin.str.prototype.center=new r.builtin.func(function(t,e,n){var i,o;if(r.builtin.pyCheckArgs("center",arguments,2,3),!r.builtin.checkInt(e))throw new r.builtin.TypeError("integer argument exepcted, got "+r.abstr.typeName(e));if(void 0!==n&&(!r.builtin.checkString(n)||1!==n.v.length))throw new r.builtin.TypeError("must be char, not "+r.abstr.typeName(n));return n=void 0===n?" ":n.v,e=r.builtin.asnum$(e),t.v.length>=e?t:((i=(o=Array.prototype.join.call({length:Math.floor((e-t.v.length)/2)+1},n))+t.v+o).length<e&&(i+=n),new r.builtin.str(i))}),r.builtin.str.prototype.find=new r.builtin.func(function(t,e,n,i){var o;if(r.builtin.pyCheckArgs("find",arguments,2,4),!r.builtin.checkString(e))throw new r.builtin.TypeError("expected a character buffer object");if(void 0!==n&&!r.builtin.checkInt(n))throw new r.builtin.TypeError("slice indices must be integers or None or have an __index__ method");if(void 0!==i&&!r.builtin.checkInt(i))throw new r.builtin.TypeError("slice indices must be integers or None or have an __index__ method");return n=void 0===n?0:(n=r.builtin.asnum$(n))>=0?n:t.v.length+n,i=void 0===i?t.v.length:(i=r.builtin.asnum$(i))>=0?i:t.v.length+i,o=(o=t.v.indexOf(e.v,n))>=n&&o<i?o:-1,new r.builtin.int_(o)}),r.builtin.str.prototype.index=new r.builtin.func(function(t,e,n,i){var o;if(r.builtin.pyCheckArgs("index",arguments,2,4),o=r.misceval.callsim(t.find,t,e,n,i),-1===r.builtin.asnum$(o))throw new r.builtin.ValueError("substring not found");return o}),r.builtin.str.prototype.rfind=new r.builtin.func(function(t,e,n,i){var o;if(r.builtin.pyCheckArgs("rfind",arguments,2,4),!r.builtin.checkString(e))throw new r.builtin.TypeError("expected a character buffer object");if(void 0!==n&&!r.builtin.checkInt(n))throw new r.builtin.TypeError("slice indices must be integers or None or have an __index__ method");if(void 0!==i&&!r.builtin.checkInt(i))throw new r.builtin.TypeError("slice indices must be integers or None or have an __index__ method");return n=void 0===n?0:(n=r.builtin.asnum$(n))>=0?n:t.v.length+n,i=void 0===i?t.v.length:(i=r.builtin.asnum$(i))>=0?i:t.v.length+i,o=(o=(o=t.v.lastIndexOf(e.v,i))!==i?o:t.v.lastIndexOf(e.v,i-1))>=n&&o<i?o:-1,new r.builtin.int_(o)}),r.builtin.str.prototype.rindex=new r.builtin.func(function(t,e,n,i){var o;if(r.builtin.pyCheckArgs("rindex",arguments,2,4),o=r.misceval.callsim(t.rfind,t,e,n,i),-1===r.builtin.asnum$(o))throw new r.builtin.ValueError("substring not found");return o}),r.builtin.str.prototype.startswith=new r.builtin.func(function(t,e){return r.builtin.pyCheckArgs("startswith",arguments,2,2),r.builtin.pyCheckType("tgt","string",r.builtin.checkString(e)),new r.builtin.bool(0===t.v.indexOf(e.v))}),r.builtin.str.prototype.endswith=new r.builtin.func(function(t,e){return r.builtin.pyCheckArgs("endswith",arguments,2,2),r.builtin.pyCheckType("tgt","string",r.builtin.checkString(e)),new r.builtin.bool(-1!==t.v.indexOf(e.v,t.v.length-e.v.length))}),r.builtin.str.prototype.replace=new r.builtin.func(function(t,e,n,i){var o,s;if(r.builtin.pyCheckArgs("replace",arguments,3,4),r.builtin.pyCheckType("oldS","string",r.builtin.checkString(e)),r.builtin.pyCheckType("newS","string",r.builtin.checkString(n)),void 0!==i&&!r.builtin.checkInt(i))throw new r.builtin.TypeError("integer argument expected, got "+r.abstr.typeName(i));if(i=r.builtin.asnum$(i),s=new RegExp(r.builtin.str.re_escape_(e.v),"g"),void 0===i||i<0)return new r.builtin.str(t.v.replace(s,n.v));return o=0,new r.builtin.str(t.v.replace(s,function(t){return++o<=i?n.v:t}))}),r.builtin.str.prototype.zfill=new r.builtin.func(function(t,e){var n,i,o,s=t.v,u="";if(r.builtin.pyCheckArgs("zfill",arguments,2,2),!r.builtin.checkInt(e))throw new r.builtin.TypeError("integer argument exepected, got "+r.abstr.typeName(e));i=e.v-s.length,o="+"===s[0]||"-"===s[0]?1:0;for(var l=0;l<i;l++)u+="0";return n=s.substr(0,o)+u+s.substr(o),new r.builtin.str(n)}),r.builtin.str.prototype.isdigit=new r.builtin.func(function(t){return r.builtin.pyCheckArgs("isdigit",arguments,1,1),new r.builtin.bool(/^\d+$/.test(t.v))}),r.builtin.str.prototype.isspace=new r.builtin.func(function(t){return r.builtin.pyCheckArgs("isspace",arguments,1,1),new r.builtin.bool(/^\s+$/.test(t.v))}),r.builtin.str.prototype.expandtabs=new r.builtin.func(function(t,e){var n,i;if(r.builtin.pyCheckArgs("expandtabs",arguments,1,2),void 0!==e&&!r.builtin.checkInt(e))throw new r.builtin.TypeError("integer argument exepected, got "+r.abstr.typeName(e));return e=void 0===e?8:r.builtin.asnum$(e),n=new Array(e+1).join(" "),i=t.v.replace(/([^\r\n\t]*)\t/g,function(t,r){return r+n.slice(r.length%e)}),new r.builtin.str(i)}),r.builtin.str.prototype.swapcase=new r.builtin.func(function(t){var e;return r.builtin.pyCheckArgs("swapcase",arguments,1,1),e=t.v.replace(/[a-z]/gi,function(t){var e=t.toLowerCase();return e===t?t.toUpperCase():e}),new r.builtin.str(e)}),r.builtin.str.prototype.splitlines=new r.builtin.func(function(t,e){var n,i,o,s=t.v,u=0,l=t.v.length,a=[],c=0;if(r.builtin.pyCheckArgs("splitlines",arguments,1,2),void 0!==e&&!r.builtin.checkBool(e))throw new r.builtin.TypeError("boolean argument expected, got "+r.abstr.typeName(e));for(e=void 0!==e&&e.v,u=0;u<l;u++)n=s.charAt(u),"\n"===s.charAt(u+1)&&"\r"===n?(i=u+2,o=s.slice(c,i),e||(o=o.replace(/(\r|\n)/g,"")),a.push(new r.builtin.str(o)),c=i):("\n"===n&&"\r"!==s.charAt(u-1)||"\r"===n)&&(i=u+1,o=s.slice(c,i),e||(o=o.replace(/(\r|\n)/g,"")),a.push(new r.builtin.str(o)),c=i);return c<l&&(i=l,o=s.slice(c,i),e||(o=o.replace(/(\r|\n)/g,"")),a.push(new r.builtin.str(o))),new r.builtin.list(a)}),r.builtin.str.prototype.title=new r.builtin.func(function(t){var e;return r.builtin.pyCheckArgs("title",arguments,1,1),e=t.v.replace(/[a-z][a-z]*/gi,function(t){return t[0].toUpperCase()+t.substr(1).toLowerCase()}),new r.builtin.str(e)}),r.builtin.str.prototype.isalpha=new r.builtin.func(function(t){return r.builtin.pyCheckArgs("isalpha",arguments,1,1),new r.builtin.bool(t.v.length&&n.string.isAlpha(t.v))}),r.builtin.str.prototype.isalnum=new r.builtin.func(function(t){return r.builtin.pyCheckArgs("isalnum",arguments,1,1),new r.builtin.bool(t.v.length&&n.string.isAlphaNumeric(t.v))}),r.builtin.str.prototype.isnumeric=new r.builtin.func(function(t){return r.builtin.pyCheckArgs("isnumeric",arguments,1,1),new r.builtin.bool(t.v.length&&n.string.isNumeric(t.v))}),r.builtin.str.prototype.islower=new r.builtin.func(function(t){return r.builtin.pyCheckArgs("islower",arguments,1,1),new r.builtin.bool(t.v.length&&/[a-z]/.test(t.v)&&!/[A-Z]/.test(t.v))}),r.builtin.str.prototype.isupper=new r.builtin.func(function(t){return r.builtin.pyCheckArgs("isupper",arguments,1,1),new r.builtin.bool(t.v.length&&!/[a-z]/.test(t.v)&&/[A-Z]/.test(t.v))}),r.builtin.str.prototype.istitle=new r.builtin.func(function(t){var e,n,i=t.v,o=!1,s=!1;for(r.builtin.pyCheckArgs("istitle",arguments,1,1),e=0;e<i.length;e++)if(n=i.charAt(e),!/[a-z]/.test(n)&&/[A-Z]/.test(n)){if(s)return new r.builtin.bool(!1);s=!0,o=!0}else if(/[a-z]/.test(n)&&!/[A-Z]/.test(n)){if(!s)return new r.builtin.bool(!1);o=!0}else s=!1;return new r.builtin.bool(o)}),r.builtin.str.prototype.nb$remainder=function(t){var e,i,o,s;return t.constructor===r.builtin.tuple||void 0!==t.mp$subscript&&t.constructor!==r.builtin.str||(t=new r.builtin.tuple([t])),s=/%(\([a-zA-Z0-9]+\))?([#0 +\-]+)?(\*|[0-9]+)?(\.(\*|[0-9]+))?[hlL]?([diouxXeEfFgGcrs%])/g,o=0,i=function(e,i,s,u,l,a,c){var p,f,b,_,h,y,d,m,v,g,w,T,x,k;if(u=r.builtin.asnum$(u),l=r.builtin.asnum$(l),void 0!==i&&""!==i||(k=o++),""===l&&(l=void 0),x=!1,T=!1,w=!1,g=!1,v=!1,s&&(-1!==s.indexOf("-")?T=!0:-1!==s.indexOf("0")&&(x=!0),-1!==s.indexOf("+")?g=!0:-1!==s.indexOf(" ")&&(w=!0),v=-1!==s.indexOf("#")),l&&(l=parseInt(l.substr(1),10)),m=function(t,e){var i,o,s,u,a;if(e=r.builtin.asnum$(e),s=!1,!1,"number"==typeof t?(t<0&&(t=-t,s=!0),u=t.toString(e)):t instanceof r.builtin.float_?((u=t.str$(e,!1)).length>2&&".0"===u.substr(-2)&&(u=u.substr(0,u.length-2)),s=t.nb$isnegative()):t instanceof r.builtin.int_?(u=t.str$(e,!1),s=t.nb$isnegative()):t instanceof r.builtin.lng&&(u=t.str$(e,!1),s=t.nb$isnegative()),n.asserts.assert(void 0!==u,"unhandled number format"),i=!1,l)for(a=u.length;a<l;++a)u="0"+u,i=!0;return o="",s?o="-":g?o="+"+o:w&&(o=" "+o),v&&(16===e?o+="0x":8!==e||i||"0"===u||(o+="0")),[o,u]},d=function(t){var e,n,r=t[0],i=t[1];if(u)if(u=parseInt(u,10),e=i.length+r.length,x)for(n=e;n<u;++n)i="0"+i;else if(T)for(n=e;n<u;++n)i+=" ";else for(n=e;n<u;++n)r=" "+r;return r+i},t.constructor===r.builtin.tuple)y=t.v[k];else if(void 0!==t.mp$subscript&&void 0!==i)h=i.substring(1,i.length-1),y=t.mp$subscript(new r.builtin.str(h));else{if(t.constructor!==r.builtin.dict&&t.constructor!==r.builtin.list)throw new r.builtin.AttributeError(t.tp$name+" instance has no attribute 'mp$subscript'");y=t}if(10,"d"===c||"i"===c)return d(m(y,10));if("o"===c)return d(m(y,8));if("x"===c)return d(m(y,16));if("X"===c)return d(m(y,16)).toUpperCase();if("f"===c||"F"===c||"e"===c||"E"===c||"g"===c||"G"===c)return"string"==typeof(b=r.builtin.asnum$(y))&&(b=Number(b)),b===1/0?"inf":b===-1/0?"-inf":isNaN(b)?"nan":(f=["toExponential","toFixed","toPrecision"]["efg".indexOf(c.toLowerCase())],void 0!==l&&""!==l||("e"===c||"E"===c?l=6:"f"!==c&&"F"!==c||(l=7)),p=b[f](l),r.builtin.checkFloat(y)&&0===b&&1/b==-1/0&&(p="-"+p),-1!=="EFG".indexOf(c)&&(p=p.toUpperCase()),d(["",p]));if("c"===c){if("number"==typeof y)return String.fromCharCode(y);if(y instanceof r.builtin.int_)return String.fromCharCode(y.v);if(y instanceof r.builtin.float_)return String.fromCharCode(y.v);if(y instanceof r.builtin.lng)return String.fromCharCode(y.str$(10,!1)[0]);if(y.constructor===r.builtin.str)return y.v.substr(0,1);throw new r.builtin.TypeError("an integer is required")}return"r"===c?(_=r.builtin.repr(y),l?_.v.substr(0,l):_.v):"s"===c?(_=new r.builtin.str(y),l?_.v.substr(0,l):(u&&(_.v=d([" ",_.v])),_.v)):"%"===c?"%":void 0},e=this.v.replace(s,i),new r.builtin.str(e)},r.builtin.str_iter_=function(t){return this instanceof r.builtin.str_iter_?(this.$index=0,this.$obj=t.v.slice(),this.sq$length=this.$obj.length,this.tp$iter=this,this.tp$iternext=function(){if(!(this.$index>=this.sq$length))return new r.builtin.str(this.$obj.substr(this.$index++,1))},this.$r=function(){return new r.builtin.str("iterator")},this):new r.builtin.str_iter_(t)},r.abstr.setUpInheritance("iterator",r.builtin.str_iter_,r.builtin.object),r.builtin.str_iter_.prototype.__class__=r.builtin.str_iter_,r.builtin.str_iter_.prototype.__iter__=new r.builtin.func(function(t){return r.builtin.pyCheckArgs("__iter__",arguments,0,0,!0,!1),t}),r.builtin.str_iter_.prototype.next=new r.builtin.func(function(t){var e=t.tp$iternext();if(void 0===e)throw new r.builtin.StopIteration;return e}),r.Tokenizer=function(t,e,n){this.filename=t,this.callback=n,this.lnum=0,this.parenlev=0,this.parenstack=[],this.continued=!1,this.namechars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_",this.numchars="0123456789",this.contstr="",this.needcont=!1,this.contline=void 0,this.indents=[0],this.endprog=/.*/,this.strstart=[-1,-1],this.interactive=e,this.doneFunc=function(){var t;for(t=1;t<this.indents.length;++t)if(this.callback(r.Tokenizer.Tokens.T_DEDENT,"",[this.lnum,0],[this.lnum,0],""))return"done";return this.callback(r.Tokenizer.Tokens.T_ENDMARKER,"",[this.lnum,0],[this.lnum,0],"")?"done":"failed"}},r.Tokenizer.Tokens={T_ENDMARKER:0,T_NAME:1,T_NUMBER:2,T_STRING:3,T_NEWLINE:4,T_INDENT:5,T_DEDENT:6,T_LPAR:7,T_RPAR:8,T_LSQB:9,T_RSQB:10,T_COLON:11,T_COMMA:12,T_SEMI:13,T_PLUS:14,T_MINUS:15,T_STAR:16,T_SLASH:17,T_VBAR:18,T_AMPER:19,T_LESS:20,T_GREATER:21,T_EQUAL:22,T_DOT:23,T_PERCENT:24,T_BACKQUOTE:25,T_LBRACE:26,T_RBRACE:27,T_EQEQUAL:28,T_NOTEQUAL:29,T_LESSEQUAL:30,T_GREATEREQUAL:31,T_TILDE:32,T_CIRCUMFLEX:33,T_LEFTSHIFT:34,T_RIGHTSHIFT:35,T_DOUBLESTAR:36,T_PLUSEQUAL:37,T_MINEQUAL:38,T_STAREQUAL:39,T_SLASHEQUAL:40,T_PERCENTEQUAL:41,T_AMPEREQUAL:42,T_VBAREQUAL:43,T_CIRCUMFLEXEQUAL:44,T_LEFTSHIFTEQUAL:45,T_RIGHTSHIFTEQUAL:46,T_DOUBLESTAREQUAL:47,T_DOUBLESLASH:48,T_DOUBLESLASHEQUAL:49,T_AT:50,T_OP:51,T_COMMENT:52,T_NL:53,T_RARROW:54,T_ERRORTOKEN:55,T_N_TOKENS:56,T_NT_OFFSET:256};var o=i("0[bB][01]*","0[xX][\\da-fA-F]*[lL]?","0[oO]?[0-7]*[lL]?","[1-9]\\d*[lL]?"),s=i("\\d+\\.\\d*","\\.\\d+")+function(t){return i.apply(null,arguments)+"?"}("[eE][-+]?\\d+"),u=i(s,"\\d+[eE][-+]?\\d+"),l=i("\\d+[jJ]",u+"[jJ]"),a=i(l,u,o),c=i("[ubUB]?[rR]?'''",'[ubUB]?[rR]?"""'),p=(i("[uU]?[rR]?'[^\\n'\\\\]*(?:\\\\.[^\\n'\\\\]*)*'",'[uU]?[rR]?"[^\\n"\\\\]*(?:\\\\.[^\\n"\\\\]*)*"'),i("\\*\\*=?",">>=?","<<=?","<>","!=","//=?","->","[+\\-*/%&|^=<>]=?","~")),f=i("\\r?\\n","[:;.,`@]"),b=i(p,"[\\][(){}]",f),_=i("[uUbB]?[rR]?'[^\\n'\\\\]*(?:\\\\.[^\\n'\\\\]*)*"+i("'","\\\\\\r?\\n"),'[uUbB]?[rR]?"[^\\n"\\\\]*(?:\\\\.[^\\n"\\\\]*)*'+i('"',"\\\\\\r?\\n")),h=i("\\\\\\r?\\n","#[^\\r\\n]*",c),y="^"+i(h,a,b,_,"[a-zA-Z_]\\w*"),d={"'''":!0,'"""':!0,"r'''":!0,'r"""':!0,"R'''":!0,'R"""':!0,"u'''":!0,'u"""':!0,"U'''":!0,'U"""':!0,"b'''":!0,'b"""':!0,"B'''":!0,'B"""':!0,"ur'''":!0,'ur"""':!0,"Ur'''":!0,'Ur"""':!0,"uR'''":!0,'uR"""':!0,"UR'''":!0,'UR"""':!0,"br'''":!0,'br"""':!0,"Br'''":!0,'Br"""':!0,"bR'''":!0,'bR"""':!0,"BR'''":!0,'BR"""':!0},m={"'":!0,'"':!0,"r'":!0,'r"':!0,"R'":!0,'R"':!0,"u'":!0,'u"':!0,"U'":!0,'U"':!0,"b'":!0,'b"':!0,"B'":!0,'B"':!0,"ur'":!0,'ur"':!0,"Ur'":!0,'Ur"':!0,"uR'":!0,'uR"':!0,"UR'":!0,'UR"':!0,"br'":!0,'br"':!0,"Br'":!0,'Br"':!0,"bR'":!0,'bR"':!0,"BR'":!0,'BR"':!0};!function(){var t;for(t in d);for(t in m);}();function v(t,e){for(var n=t.length;n--;)if(t[n]===e)return!0;return!1}function g(t,e){return this.filename=t,this.grammar=e,this.p_flags=0,this}function w(t,e){for(var n=t.length;n--;)if(t[n][0]===e[0]&&t[n][1]===e[1])return!0;return!1}function T(){}function x(){}function k(){}function E(){}function S(){}function $(){}function A(){}function O(){}function j(){}function R(){}function N(){}function I(){}function C(){}function L(){}function U(){}function P(){}function D(){}function M(){}function F(){}function q(){}function B(){}function z(){}function G(){}function Q(){}function V(){}function H(){}function W(){}function X(){}function J(){}function K(){}function Z(){}function Y(){}function tt(){}function et(){}function nt(t){return this.body=t,this}function rt(t){return this.body=t,this}function it(t){return n.asserts.assert(null!=t),this.body=t,this}function ot(t){return this.body=t,this}function st(t,e,r,i,o,s){return n.asserts.assert(null!=t),n.asserts.assert(null!=e),this.name=t,this.args=e,this.body=r,this.decorator_list=i,this.lineno=o,this.col_offset=s,this}function ut(t,e,r,i,o,s){return n.asserts.assert(null!=t),this.name=t,this.bases=e,this.body=r,this.decorator_list=i,this.lineno=o,this.col_offset=s,this}function lt(t,e,n){return this.value=t,this.lineno=e,this.col_offset=n,this}function at(t,e,n){return this.targets=t,this.lineno=e,this.col_offset=n,this}function ct(t,e,r,i){return n.asserts.assert(null!=e),this.targets=t,this.value=e,this.lineno=r,this.col_offset=i,this}function pt(t,e,r,i,o){return n.asserts.assert(null!=t),n.asserts.assert(null!=e),n.asserts.assert(null!=r),this.target=t,this.op=e,this.value=r,this.lineno=i,this.col_offset=o,this}function ft(t,e,n,r,i){return this.dest=t,this.values=e,this.nl=n,this.lineno=r,this.col_offset=i,this}function bt(t,e,r,i,o,s){return n.asserts.assert(null!=t),n.asserts.assert(null!=e),this.target=t,this.iter=e,this.body=r,this.orelse=i,this.lineno=o,this.col_offset=s,this}function _t(t,e,r,i,o){return n.asserts.assert(null!=t),this.test=t,this.body=e,this.orelse=r,this.lineno=i,this.col_offset=o,this}function ht(t,e,r,i,o){return n.asserts.assert(null!=t),this.test=t,this.body=e,this.orelse=r,this.lineno=i,this.col_offset=o,this}function yt(t,e,r,i,o){return n.asserts.assert(null!=t),this.context_expr=t,this.optional_vars=e,this.body=r,this.lineno=i,this.col_offset=o,this}function dt(t,e,n,r,i){return this.type=t,this.inst=e,this.tback=n,this.lineno=r,this.col_offset=i,this}function mt(t,e,n,r,i){return this.body=t,this.handlers=e,this.orelse=n,this.lineno=r,this.col_offset=i,this}function vt(t,e,n,r){return this.body=t,this.finalbody=e,this.lineno=n,this.col_offset=r,this}function gt(t,e,r,i){return n.asserts.assert(null!=t),this.test=t,this.msg=e,this.lineno=r,this.col_offset=i,this}function wt(t,e,n){return this.names=t,this.lineno=e,this.col_offset=n,this}function Tt(t,e,r,i,o){return n.asserts.assert(null!=t),this.module=t,this.names=e,this.level=r,this.lineno=i,this.col_offset=o,this}function xt(t,e,r,i,o){return n.asserts.assert(null!=t),this.body=t,this.globals=e,this.locals=r,this.lineno=i,this.col_offset=o,this}function kt(t,e,n){return this.names=t,this.lineno=e,this.col_offset=n,this}function Et(t,e,r){return n.asserts.assert(null!=t),this.value=t,this.lineno=e,this.col_offset=r,this}function St(t,e){return this.lineno=t,this.col_offset=e,this}function $t(t,e){return this.lineno=t,this.col_offset=e,this}function At(t,e){return this.lineno=t,this.col_offset=e,this}function Ot(t,e){return this.lineno=t,this.col_offset=e,this}function jt(t,e,r,i){return n.asserts.assert(null!=t),this.op=t,this.values=e,this.lineno=r,this.col_offset=i,this}function Rt(t,e,r,i,o){return n.asserts.assert(null!=t),n.asserts.assert(null!=e),n.asserts.assert(null!=r),this.left=t,this.op=e,this.right=r,this.lineno=i,this.col_offset=o,this}function Nt(t,e,r,i){return n.asserts.assert(null!=t),n.asserts.assert(null!=e),this.op=t,this.operand=e,this.lineno=r,this.col_offset=i,this}function It(t,e,r,i){return n.asserts.assert(null!=t),n.asserts.assert(null!=e),this.args=t,this.body=e,this.lineno=r,this.col_offset=i,this}function Ct(t,e,r,i,o){return n.asserts.assert(null!=t),n.asserts.assert(null!=e),n.asserts.assert(null!=r),this.test=t,this.body=e,this.orelse=r,this.lineno=i,this.col_offset=o,this}function Lt(t,e,n,r){return this.keys=t,this.values=e,this.lineno=n,this.col_offset=r,this}function Ut(t,e,n){return this.elts=t,this.lineno=e,this.col_offset=n,this}function Pt(t,e,r,i){return n.asserts.assert(null!=t),this.elt=t,this.generators=e,this.lineno=r,this.col_offset=i,this}function Dt(t,e,r,i){return n.asserts.assert(null!=t),this.elt=t,this.generators=e,this.lineno=r,this.col_offset=i,this}function Mt(t,e,r,i,o){return n.asserts.assert(null!=t),n.asserts.assert(null!=e),this.key=t,this.value=e,this.generators=r,this.lineno=i,this.col_offset=o,this}function Ft(t,e,r,i){return n.asserts.assert(null!=t),this.elt=t,this.generators=e,this.lineno=r,this.col_offset=i,this}function qt(t,e,n){return this.value=t,this.lineno=e,this.col_offset=n,this}function Bt(t,e,r,i,o){return n.asserts.assert(null!=t),this.left=t,this.ops=e,this.comparators=r,this.lineno=i,this.col_offset=o,this}function zt(t,e,r,i,o,s,u){return n.asserts.assert(null!=t),this.func=t,this.args=e,this.keywords=r,this.starargs=i,this.kwargs=o,this.lineno=s,this.col_offset=u,this}function Gt(t,e,r){return n.asserts.assert(null!=t),this.value=t,this.lineno=e,this.col_offset=r,this}function Qt(t,e,r){return n.asserts.assert(null!=t),this.n=t,this.lineno=e,this.col_offset=r,this}function Vt(t,e,r){return n.asserts.assert(null!=t),this.s=t,this.lineno=e,this.col_offset=r,this}function Ht(t,e,r,i,o){return n.asserts.assert(null!=t),n.asserts.assert(null!=e),n.asserts.assert(null!=r),this.value=t,this.attr=e,this.ctx=r,this.lineno=i,this.col_offset=o,this}function Wt(t,e,r,i,o){return n.asserts.assert(null!=t),n.asserts.assert(null!=e),n.asserts.assert(null!=r),this.value=t,this.slice=e,this.ctx=r,this.lineno=i,this.col_offset=o,this}function Xt(t,e,r,i){return n.asserts.assert(null!=t),n.asserts.assert(null!=e),this.id=t,this.ctx=e,this.lineno=r,this.col_offset=i,this}function Jt(t,e,r,i){return n.asserts.assert(null!=e),this.elts=t,this.ctx=e,this.lineno=r,this.col_offset=i,this}function Kt(t,e,r,i){return n.asserts.assert(null!=e),this.elts=t,this.ctx=e,this.lineno=r,this.col_offset=i,this}function Zt(){return this}function Yt(t,e,n){return this.lower=t,this.upper=e,this.step=n,this}function te(t){return this.dims=t,this}function ee(t){return n.asserts.assert(null!=t),this.value=t,this}function ne(t,e,r){return n.asserts.assert(null!=t),n.asserts.assert(null!=e),this.target=t,this.iter=e,this.ifs=r,this}function re(t,e,n,r,i){return this.type=t,this.name=e,this.body=n,this.lineno=r,this.col_offset=i,this}function ie(t,e,n,r){return this.args=t,this.vararg=e,this.kwarg=n,this.defaults=r,this}function oe(t,e){return n.asserts.assert(null!=t),n.asserts.assert(null!=e),this.arg=t,this.value=e,this}function se(t,e){return n.asserts.assert(null!=t),this.name=t,this.asname=e,this}r.Tokenizer.prototype.generateTokens=function(t){var e,n,i,o,s,u,l,a,c,p,f,b,_,h,g=new RegExp(y),w=new RegExp("[^'\\\\]*(?:(?:\\\\.|'(?!''))[^'\\\\]*)*'''","g"),T=new RegExp('[^"\\\\]*(?:(?:\\\\.|"(?!""))[^"\\\\]*)*"""',"g"),x={"'":new RegExp("^[^'\\\\]*(?:\\\\.[^'\\\\]*)*'","g"),'"':new RegExp('^[^"\\\\]*(?:\\\\.[^"\\\\]*)*"',"g"),"'''":w,'"""':T,"r'''":w,'r"""':T,"u'''":w,'u"""':T,"b'''":w,'b"""':T,"ur'''":w,'ur"""':T,"br'''":w,'br"""':T,"R'''":w,'R"""':T,"U'''":w,'U"""':T,"B'''":w,'B"""':T,"uR'''":w,'uR"""':T,"Ur'''":w,'Ur"""':T,"UR'''":w,'UR"""':T,"bR'''":w,'bR"""':T,"Br'''":w,'Br"""':T,"BR'''":w,'BR"""':T,r:null,R:null,u:null,U:null,b:null,B:null};if(t||(t=""),this.lnum+=1,f=0,h=t.length,this.contstr.length>0){if(!t)throw new r.builtin.SyntaxError("EOF in multi-line string",this.filename,this.strstart[0],this.strstart[1],{kind:"STRING_EOF",line:this.contline});if(this.endprog.lastIndex=0,!this.endprog.test(t))return this.needcont&&"\\\n"!==t.substring(t.length-2)&&"\\\r\n"!==t.substring(t.length-3)?this.callback(r.Tokenizer.Tokens.T_ERRORTOKEN,this.contstr+t,this.strstart,[this.lnum,t.length],this.contline)?"done":(this.contstr="",this.contline=void 0,!1):(this.contstr+=t,this.contline=this.contline+t,!1);if(f=_=this.endprog.lastIndex,this.callback(r.Tokenizer.Tokens.T_STRING,this.contstr+t.substring(0,_),this.strstart,[this.lnum,_],this.contline+t))return"done";this.contstr="",this.needcont=!1,this.contline=void 0}else if(0!==this.parenlev||this.continued){if(!t)throw new r.builtin.SyntaxError("EOF in multi-line statement",this.filename,this.lnum,0,{kind:"STATEMENT_EOF",parenlev:this.parenlev,parenstack:this.parenstack});this.continued=!1}else{if(!t)return this.doneFunc();for(b=0;f<h;){if(" "===t.charAt(f))b+=1;else if("\t"===t.charAt(f))b=8*(b/8+1);else{if("\f"!==t.charAt(f))break;b=0}f+=1}if(f===h)return this.doneFunc();if(-1!=="#\r\n".indexOf(t.charAt(f))){if("#"===t.charAt(f))return e=f+(p=function(t,e){var n;for(n=t.length;n>0&&-1!==e.indexOf(t.charAt(n-1));--n);return t.substring(0,n)}(t.substring(f),"\r\n")).length,this.callback(r.Tokenizer.Tokens.T_COMMENT,p,[this.lnum,f],[this.lnum,f+p.length],t)?"done":!!this.callback(r.Tokenizer.Tokens.T_NL,t.substring(e),[this.lnum,e],[this.lnum,t.length],t)&&"done";if(this.callback(r.Tokenizer.Tokens.T_NL,t.substring(f),[this.lnum,f],[this.lnum,t.length],t))return"done";if(!this.interactive)return!1}if(b>this.indents[this.indents.length-1]&&(this.indents.push(b),this.callback(r.Tokenizer.Tokens.T_INDENT,t.substring(0,f),[this.lnum,0],[this.lnum,f],t)))return"done";for(;b<this.indents[this.indents.length-1];){if(!v(this.indents,b))throw new r.builtin.IndentationError("unindent does not match any outer indentation level",this.filename,this.lnum,f,t);if(this.indents.splice(this.indents.length-1,1),this.callback(r.Tokenizer.Tokens.T_DEDENT,"",[this.lnum,f],[this.lnum,f],t))return"done"}}for(;f<h;){for(c=t.charAt(f);" "===c||"\f"===c||"\t"===c;)f+=1,c=t.charAt(f);if(g.lastIndex=0,a=g.exec(t.substring(f))){if(_=(l=f)+a[1].length,u=[this.lnum,l],s=[this.lnum,_],f=_,o=t.substring(l,_),i=t.charAt(l),-1!==this.numchars.indexOf(i)||"."===i&&"."!==o){if(this.callback(r.Tokenizer.Tokens.T_NUMBER,o,u,s,t))return"done"}else if("\r"===i||"\n"===i){if(n=r.Tokenizer.Tokens.T_NEWLINE,this.parenlev>0&&(n=r.Tokenizer.Tokens.T_NL),this.callback(n,o,u,s,t))return"done"}else if("#"===i){if(this.callback(r.Tokenizer.Tokens.T_COMMENT,o,u,s,t))return"done"}else if(d.hasOwnProperty(o)){if(this.endprog=x[o],this.endprog.lastIndex=0,!this.endprog.test(t.substring(f)))return this.strstart=[this.lnum,l],this.contstr=t.substring(l),this.contline=t,!1;if(f=this.endprog.lastIndex+f,o=t.substring(l,f),this.callback(r.Tokenizer.Tokens.T_STRING,o,u,[this.lnum,f],t))return"done"}else if(m.hasOwnProperty(i)||m.hasOwnProperty(o.substring(0,2))||m.hasOwnProperty(o.substring(0,3))){if("\n"===o[o.length-1])return this.strstart=[this.lnum,l],this.endprog=x[i]||x[o[1]]||x[o[2]],this.contstr=t.substring(l),this.needcont=!0,this.contline=t,!1;if(this.callback(r.Tokenizer.Tokens.T_STRING,o,u,s,t))return"done"}else if(-1!==this.namechars.indexOf(i)){if(this.callback(r.Tokenizer.Tokens.T_NAME,o,u,s,t))return"done"}else if("\\"===i){if(this.callback(r.Tokenizer.Tokens.T_NL,o,u,[this.lnum,f],t))return"done";this.continued=!0}else if(-1!=="([{".indexOf(i)?(this.parenlev+=1,this.parenstack.push([i,this.lnum,f])):-1!==")]}".indexOf(i)&&(this.parenlev-=1,this.parenstack.pop()),this.callback(r.Tokenizer.Tokens.T_OP,o,u,s,t))return"done"}else{if(this.callback(r.Tokenizer.Tokens.T_ERRORTOKEN,t.charAt(f),[this.lnum,f],[this.lnum,f+1],t))return"done";f+=1}}return!1},r.Tokenizer.tokenNames={0:"T_ENDMARKER",1:"T_NAME",2:"T_NUMBER",3:"T_STRING",4:"T_NEWLINE",5:"T_INDENT",6:"T_DEDENT",7:"T_LPAR",8:"T_RPAR",9:"T_LSQB",10:"T_RSQB",11:"T_COLON",12:"T_COMMA",13:"T_SEMI",14:"T_PLUS",15:"T_MINUS",16:"T_STAR",17:"T_SLASH",18:"T_VBAR",19:"T_AMPER",20:"T_LESS",21:"T_GREATER",22:"T_EQUAL",23:"T_DOT",24:"T_PERCENT",25:"T_BACKQUOTE",26:"T_LBRACE",27:"T_RBRACE",28:"T_EQEQUAL",29:"T_NOTEQUAL",30:"T_LESSEQUAL",31:"T_GREATEREQUAL",32:"T_TILDE",33:"T_CIRCUMFLEX",34:"T_LEFTSHIFT",35:"T_RIGHTSHIFT",36:"T_DOUBLESTAR",37:"T_PLUSEQUAL",38:"T_MINEQUAL",39:"T_STAREQUAL",40:"T_SLASHEQUAL",41:"T_PERCENTEQUAL",42:"T_AMPEREQUAL",43:"T_VBAREQUAL",44:"T_CIRCUMFLEXEQUAL",45:"T_LEFTSHIFTEQUAL",46:"T_RIGHTSHIFTEQUAL",47:"T_DOUBLESTAREQUAL",48:"T_DOUBLESLASH",49:"T_DOUBLESLASHEQUAL",50:"T_AT",51:"T_OP",52:"T_COMMENT",53:"T_NL",54:"T_RARROW",55:"T_ERRORTOKEN",56:"T_N_TOKENS",256:"T_NT_OFFSET"},n.exportSymbol("Sk.Tokenizer",r.Tokenizer),n.exportSymbol("Sk.Tokenizer.prototype.generateTokens",r.Tokenizer.prototype.generateTokens),n.exportSymbol("Sk.Tokenizer.tokenNames",r.Tokenizer.tokenNames),r.OpMap={"(":r.Tokenizer.Tokens.T_LPAR,")":r.Tokenizer.Tokens.T_RPAR,"[":r.Tokenizer.Tokens.T_LSQB,"]":r.Tokenizer.Tokens.T_RSQB,":":r.Tokenizer.Tokens.T_COLON,",":r.Tokenizer.Tokens.T_COMMA,";":r.Tokenizer.Tokens.T_SEMI,"+":r.Tokenizer.Tokens.T_PLUS,"-":r.Tokenizer.Tokens.T_MINUS,"*":r.Tokenizer.Tokens.T_STAR,"/":r.Tokenizer.Tokens.T_SLASH,"|":r.Tokenizer.Tokens.T_VBAR,"&":r.Tokenizer.Tokens.T_AMPER,"<":r.Tokenizer.Tokens.T_LESS,">":r.Tokenizer.Tokens.T_GREATER,"=":r.Tokenizer.Tokens.T_EQUAL,".":r.Tokenizer.Tokens.T_DOT,"%":r.Tokenizer.Tokens.T_PERCENT,"`":r.Tokenizer.Tokens.T_BACKQUOTE,"{":r.Tokenizer.Tokens.T_LBRACE,"}":r.Tokenizer.Tokens.T_RBRACE,"@":r.Tokenizer.Tokens.T_AT,"==":r.Tokenizer.Tokens.T_EQEQUAL,"!=":r.Tokenizer.Tokens.T_NOTEQUAL,"<>":r.Tokenizer.Tokens.T_NOTEQUAL,"<=":r.Tokenizer.Tokens.T_LESSEQUAL,">=":r.Tokenizer.Tokens.T_GREATEREQUAL,"~":r.Tokenizer.Tokens.T_TILDE,"^":r.Tokenizer.Tokens.T_CIRCUMFLEX,"<<":r.Tokenizer.Tokens.T_LEFTSHIFT,">>":r.Tokenizer.Tokens.T_RIGHTSHIFT,"**":r.Tokenizer.Tokens.T_DOUBLESTAR,"+=":r.Tokenizer.Tokens.T_PLUSEQUAL,"-=":r.Tokenizer.Tokens.T_MINEQUAL,"*=":r.Tokenizer.Tokens.T_STAREQUAL,"/=":r.Tokenizer.Tokens.T_SLASHEQUAL,"%=":r.Tokenizer.Tokens.T_PERCENTEQUAL,"&=":r.Tokenizer.Tokens.T_AMPEREQUAL,"|=":r.Tokenizer.Tokens.T_VBAREQUAL,"^=":r.Tokenizer.Tokens.T_CIRCUMFLEXEQUAL,"<<=":r.Tokenizer.Tokens.T_LEFTSHIFTEQUAL,">>=":r.Tokenizer.Tokens.T_RIGHTSHIFTEQUAL,"**=":r.Tokenizer.Tokens.T_DOUBLESTAREQUAL,"//":r.Tokenizer.Tokens.T_DOUBLESLASH,"//=":r.Tokenizer.Tokens.T_DOUBLESLASHEQUAL,"->":r.Tokenizer.Tokens.T_RARROW},r.ParseTables={sym:{and_expr:257,and_test:258,arglist:259,argument:260,arith_expr:261,assert_stmt:262,atom:263,augassign:264,break_stmt:265,classdef:266,comp_for:267,comp_if:268,comp_iter:269,comp_op:270,comparison:271,compound_stmt:272,continue_stmt:273,debugger_stmt:274,decorated:275,decorator:276,decorators:277,del_stmt:278,dictorsetmaker:279,dotted_as_name:280,dotted_as_names:281,dotted_name:282,encoding_decl:283,eval_input:284,except_clause:285,exec_stmt:286,expr:287,expr_stmt:288,exprlist:289,factor:290,file_input:291,flow_stmt:292,for_stmt:293,fpdef:294,fplist:295,funcdef:296,global_stmt:297,if_stmt:298,import_as_name:299,import_as_names:300,import_from:301,import_name:302,import_stmt:303,lambdef:304,list_for:305,list_if:306,list_iter:307,listmaker:308,not_test:309,old_lambdef:310,old_test:311,or_test:312,parameters:313,pass_stmt:314,power:315,print_stmt:316,raise_stmt:317,return_stmt:318,shift_expr:319,simple_stmt:320,single_input:256,sliceop:321,small_stmt:322,stmt:323,subscript:324,subscriptlist:325,suite:326,term:327,test:328,testlist:329,testlist1:330,testlist_comp:331,testlist_safe:332,trailer:333,try_stmt:334,varargslist:335,while_stmt:336,with_item:337,with_stmt:338,xor_expr:339,yield_expr:340,yield_stmt:341},number2symbol:{256:"single_input",257:"and_expr",258:"and_test",259:"arglist",260:"argument",261:"arith_expr",262:"assert_stmt",263:"atom",264:"augassign",265:"break_stmt",266:"classdef",267:"comp_for",268:"comp_if",269:"comp_iter",270:"comp_op",271:"comparison",272:"compound_stmt",273:"continue_stmt",274:"debugger_stmt",275:"decorated",276:"decorator",277:"decorators",278:"del_stmt",279:"dictorsetmaker",280:"dotted_as_name",281:"dotted_as_names",282:"dotted_name",283:"encoding_decl",284:"eval_input",285:"except_clause",286:"exec_stmt",287:"expr",288:"expr_stmt",289:"exprlist",290:"factor",291:"file_input",292:"flow_stmt",293:"for_stmt",294:"fpdef",295:"fplist",296:"funcdef",297:"global_stmt",298:"if_stmt",299:"import_as_name",300:"import_as_names",301:"import_from",302:"import_name",303:"import_stmt",304:"lambdef",305:"list_for",306:"list_if",307:"list_iter",308:"listmaker",309:"not_test",310:"old_lambdef",311:"old_test",312:"or_test",313:"parameters",314:"pass_stmt",315:"power",316:"print_stmt",317:"raise_stmt",318:"return_stmt",319:"shift_expr",320:"simple_stmt",321:"sliceop",322:"small_stmt",323:"stmt",324:"subscript",325:"subscriptlist",326:"suite",327:"term",328:"test",329:"testlist",330:"testlist1",331:"testlist_comp",332:"testlist_safe",333:"trailer",334:"try_stmt",335:"varargslist",336:"while_stmt",337:"with_item",338:"with_stmt",339:"xor_expr",340:"yield_expr",341:"yield_stmt"},dfas:{256:[[[[1,1],[2,1],[3,2]],[[0,1]],[[2,1]]],{2:1,4:1,5:1,6:1,7:1,8:1,9:1,10:1,11:1,12:1,13:1,14:1,15:1,16:1,17:1,18:1,19:1,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:1,28:1,29:1,30:1,31:1,32:1,33:1,34:1,35:1,36:1,37:1}],257:[[[[38,1]],[[39,0],[0,1]]],{6:1,8:1,9:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],258:[[[[40,1]],[[41,0],[0,1]]],{6:1,7:1,8:1,9:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],259:[[[[42,1],[43,2],[44,3]],[[45,4]],[[46,5],[0,2]],[[45,6]],[[46,7],[0,4]],[[42,1],[43,2],[44,3],[0,5]],[[0,6]],[[43,4],[44,3]]],{6:1,7:1,8:1,9:1,11:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1,42:1,44:1}],260:[[[[45,1]],[[47,2],[48,3],[0,1]],[[45,3]],[[0,3]]],{6:1,7:1,8:1,9:1,11:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],261:[[[[49,1]],[[26,0],[37,0],[0,1]]],{6:1,8:1,9:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],262:[[[[21,1]],[[45,2]],[[46,3],[0,2]],[[45,4]],[[0,4]]],{21:1}],263:[[[[19,1],[8,2],[9,5],[30,4],[14,3],[15,6],[22,2]],[[19,1],[0,1]],[[0,2]],[[50,7],[51,2]],[[52,2],[53,8],[54,8]],[[55,2],[56,9]],[[57,10]],[[51,2]],[[52,2]],[[55,2]],[[15,2]]],{8:1,9:1,14:1,15:1,19:1,22:1,30:1}],264:[[[[58,1],[59,1],[60,1],[61,1],[62,1],[63,1],[64,1],[65,1],[66,1],[67,1],[68,1],[69,1]],[[0,1]]],{58:1,59:1,60:1,61:1,62:1,63:1,64:1,65:1,66:1,67:1,68:1,69:1}],265:[[[[33,1]],[[0,1]]],{33:1}],266:[[[[10,1]],[[22,2]],[[70,3],[30,4]],[[71,5]],[[52,6],[72,7]],[[0,5]],[[70,3]],[[52,6]]],{10:1}],267:[[[[29,1]],[[73,2]],[[74,3]],[[75,4]],[[76,5],[0,4]],[[0,5]]],{29:1}],268:[[[[32,1]],[[77,2]],[[76,3],[0,2]],[[0,3]]],{32:1}],269:[[[[78,1],[48,1]],[[0,1]]],{29:1,32:1}],270:[[[[79,1],[80,1],[7,2],[81,1],[79,1],[74,1],[82,1],[83,3],[84,1],[85,1]],[[0,1]],[[74,1]],[[7,1],[0,3]]],{7:1,74:1,79:1,80:1,81:1,82:1,83:1,84:1,85:1}],271:[[[[86,1]],[[87,0],[0,1]]],{6:1,8:1,9:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],272:[[[[88,1],[89,1],[90,1],[91,1],[92,1],[93,1],[94,1],[95,1]],[[0,1]]],{4:1,10:1,16:1,18:1,29:1,32:1,35:1,36:1}],273:[[[[34,1]],[[0,1]]],{34:1}],274:[[[[13,1]],[[0,1]]],{13:1}],275:[[[[96,1]],[[94,2],[91,2]],[[0,2]]],{35:1}],276:[[[[35,1]],[[97,2]],[[2,4],[30,3]],[[52,5],[98,6]],[[0,4]],[[2,4]],[[52,5]]],{35:1}],277:[[[[99,1]],[[99,1],[0,1]]],{35:1}],278:[[[[23,1]],[[73,2]],[[0,2]]],{23:1}],279:[[[[45,1]],[[70,2],[48,3],[46,4],[0,1]],[[45,5]],[[0,3]],[[45,6],[0,4]],[[48,3],[46,7],[0,5]],[[46,4],[0,6]],[[45,8],[0,7]],[[70,9]],[[45,10]],[[46,7],[0,10]]],{6:1,7:1,8:1,9:1,11:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],280:[[[[97,1]],[[100,2],[0,1]],[[22,3]],[[0,3]]],{22:1}],281:[[[[101,1]],[[46,0],[0,1]]],{22:1}],282:[[[[22,1]],[[102,0],[0,1]]],{22:1}],283:[[[[22,1]],[[0,1]]],{22:1}],284:[[[[72,1]],[[2,1],[103,2]],[[0,2]]],{6:1,7:1,8:1,9:1,11:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],285:[[[[104,1]],[[45,2],[0,1]],[[100,3],[46,3],[0,2]],[[45,4]],[[0,4]]],{104:1}],286:[[[[17,1]],[[86,2]],[[74,3],[0,2]],[[45,4]],[[46,5],[0,4]],[[45,6]],[[0,6]]],{17:1}],287:[[[[105,1]],[[106,0],[0,1]]],{6:1,8:1,9:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],288:[[[[72,1]],[[107,2],[47,3],[0,1]],[[72,4],[53,4]],[[72,5],[53,5]],[[0,4]],[[47,3],[0,5]]],{6:1,7:1,8:1,9:1,11:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],289:[[[[86,1]],[[46,2],[0,1]],[[86,1],[0,2]]],{6:1,8:1,9:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],290:[[[[37,2],[26,2],[6,2],[108,1]],[[0,1]],[[109,1]]],{6:1,8:1,9:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],291:[[[[2,0],[103,1],[110,0]],[[0,1]]],{2:1,4:1,5:1,6:1,7:1,8:1,9:1,10:1,11:1,12:1,13:1,14:1,15:1,16:1,17:1,18:1,19:1,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:1,28:1,29:1,30:1,31:1,32:1,33:1,34:1,35:1,36:1,37:1,103:1}],292:[[[[111,1],[112,1],[113,1],[114,1],[115,1]],[[0,1]]],{5:1,20:1,27:1,33:1,34:1}],293:[[[[29,1]],[[73,2]],[[74,3]],[[72,4]],[[70,5]],[[71,6]],[[116,7],[0,6]],[[70,8]],[[71,9]],[[0,9]]],{29:1}],294:[[[[30,1],[22,2]],[[117,3]],[[0,2]],[[52,2]]],{22:1,30:1}],295:[[[[118,1]],[[46,2],[0,1]],[[118,1],[0,2]]],{22:1,30:1}],296:[[[[4,1]],[[22,2]],[[119,3]],[[70,4]],[[71,5]],[[0,5]]],{4:1}],297:[[[[28,1]],[[22,2]],[[46,1],[0,2]]],{28:1}],298:[[[[32,1]],[[45,2]],[[70,3]],[[71,4]],[[116,5],[120,1],[0,4]],[[70,6]],[[71,7]],[[0,7]]],{32:1}],299:[[[[22,1]],[[100,2],[0,1]],[[22,3]],[[0,3]]],{22:1}],300:[[[[121,1]],[[46,2],[0,1]],[[121,1],[0,2]]],{22:1}],301:[[[[31,1]],[[97,2],[102,3]],[[25,4]],[[97,2],[25,4],[102,3]],[[122,5],[42,5],[30,6]],[[0,5]],[[122,7]],[[52,5]]],{31:1}],302:[[[[25,1]],[[123,2]],[[0,2]]],{25:1}],303:[[[[124,1],[125,1]],[[0,1]]],{25:1,31:1}],304:[[[[11,1]],[[70,2],[126,3]],[[45,4]],[[70,2]],[[0,4]]],{11:1}],305:[[[[29,1]],[[73,2]],[[74,3]],[[127,4]],[[128,5],[0,4]],[[0,5]]],{29:1}],306:[[[[32,1]],[[77,2]],[[128,3],[0,2]],[[0,3]]],{32:1}],307:[[[[129,1],[130,1]],[[0,1]]],{29:1,32:1}],308:[[[[45,1]],[[129,2],[46,3],[0,1]],[[0,2]],[[45,4],[0,3]],[[46,3],[0,4]]],{6:1,7:1,8:1,9:1,11:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],309:[[[[7,1],[131,2]],[[40,2]],[[0,2]]],{6:1,7:1,8:1,9:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],310:[[[[11,1]],[[70,2],[126,3]],[[77,4]],[[70,2]],[[0,4]]],{11:1}],311:[[[[132,1],[75,1]],[[0,1]]],{6:1,7:1,8:1,9:1,11:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],312:[[[[133,1]],[[134,0],[0,1]]],{6:1,7:1,8:1,9:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],313:[[[[30,1]],[[52,2],[126,3]],[[0,2]],[[52,2]]],{30:1}],314:[[[[24,1]],[[0,1]]],{24:1}],315:[[[[135,1]],[[44,2],[136,1],[0,1]],[[109,3]],[[0,3]]],{8:1,9:1,14:1,15:1,19:1,22:1,30:1}],316:[[[[12,1]],[[45,2],[137,3],[0,1]],[[46,4],[0,2]],[[45,5]],[[45,2],[0,4]],[[46,6],[0,5]],[[45,7]],[[46,8],[0,7]],[[45,7],[0,8]]],{12:1}],317:[[[[5,1]],[[45,2],[0,1]],[[46,3],[0,2]],[[45,4]],[[46,5],[0,4]],[[45,6]],[[0,6]]],{5:1}],318:[[[[20,1]],[[72,2],[0,1]],[[0,2]]],{20:1}],319:[[[[138,1]],[[139,0],[137,0],[0,1]]],{6:1,8:1,9:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],320:[[[[140,1]],[[2,2],[141,3]],[[0,2]],[[140,1],[2,2]]],{5:1,6:1,7:1,8:1,9:1,11:1,12:1,13:1,14:1,15:1,17:1,19:1,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:1,28:1,30:1,31:1,33:1,34:1,37:1}],321:[[[[70,1]],[[45,2],[0,1]],[[0,2]]],{70:1}],322:[[[[142,1],[143,1],[144,1],[145,1],[146,1],[147,1],[148,1],[149,1],[150,1],[151,1]],[[0,1]]],{5:1,6:1,7:1,8:1,9:1,11:1,12:1,13:1,14:1,15:1,17:1,19:1,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:1,28:1,30:1,31:1,33:1,34:1,37:1}],323:[[[[1,1],[3,1]],[[0,1]]],{4:1,5:1,6:1,7:1,8:1,9:1,10:1,11:1,12:1,13:1,14:1,15:1,16:1,17:1,18:1,19:1,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:1,28:1,29:1,30:1,31:1,32:1,33:1,34:1,35:1,36:1,37:1}],324:[[[[45,1],[70,2],[102,3]],[[70,2],[0,1]],[[45,4],[152,5],[0,2]],[[102,6]],[[152,5],[0,4]],[[0,5]],[[102,5]]],{6:1,7:1,8:1,9:1,11:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1,70:1,102:1}],325:[[[[153,1]],[[46,2],[0,1]],[[153,1],[0,2]]],{6:1,7:1,8:1,9:1,11:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1,70:1,102:1}],326:[[[[1,1],[2,2]],[[0,1]],[[154,3]],[[110,4]],[[155,1],[110,4]]],{2:1,5:1,6:1,7:1,8:1,9:1,11:1,12:1,13:1,14:1,15:1,17:1,19:1,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:1,28:1,30:1,31:1,33:1,34:1,37:1}],327:[[[[109,1]],[[156,0],[42,0],[157,0],[158,0],[0,1]]],{6:1,8:1,9:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],328:[[[[75,1],[159,2]],[[32,3],[0,1]],[[0,2]],[[75,4]],[[116,5]],[[45,2]]],{6:1,7:1,8:1,9:1,11:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],329:[[[[45,1]],[[46,2],[0,1]],[[45,1],[0,2]]],{6:1,7:1,8:1,9:1,11:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],330:[[[[45,1]],[[46,0],[0,1]]],{6:1,7:1,8:1,9:1,11:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],331:[[[[45,1]],[[48,2],[46,3],[0,1]],[[0,2]],[[45,4],[0,3]],[[46,3],[0,4]]],{6:1,7:1,8:1,9:1,11:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],332:[[[[77,1]],[[46,2],[0,1]],[[77,3]],[[46,4],[0,3]],[[77,3],[0,4]]],{6:1,7:1,8:1,9:1,11:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],333:[[[[30,1],[102,2],[14,3]],[[52,4],[98,5]],[[22,4]],[[160,6]],[[0,4]],[[52,4]],[[51,4]]],{14:1,30:1,102:1}],334:[[[[16,1]],[[70,2]],[[71,3]],[[161,4],[162,5]],[[70,6]],[[70,7]],[[71,8]],[[71,9]],[[161,4],[116,10],[162,5],[0,8]],[[0,9]],[[70,11]],[[71,12]],[[162,5],[0,12]]],{16:1}],335:[[[[42,1],[118,2],[44,3]],[[22,4]],[[47,5],[46,6],[0,2]],[[22,7]],[[46,8],[0,4]],[[45,9]],[[42,1],[118,2],[44,3],[0,6]],[[0,7]],[[44,3]],[[46,6],[0,9]]],{22:1,30:1,42:1,44:1}],336:[[[[18,1]],[[45,2]],[[70,3]],[[71,4]],[[116,5],[0,4]],[[70,6]],[[71,7]],[[0,7]]],{18:1}],337:[[[[45,1]],[[100,2],[0,1]],[[86,3]],[[0,3]]],{6:1,7:1,8:1,9:1,11:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],338:[[[[36,1]],[[163,2]],[[70,3],[46,1]],[[71,4]],[[0,4]]],{36:1}],339:[[[[164,1]],[[165,0],[0,1]]],{6:1,8:1,9:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],340:[[[[27,1]],[[72,2],[0,1]],[[0,2]]],{27:1}],341:[[[[53,1]],[[0,1]]],{27:1}]},states:[[[[1,1],[2,1],[3,2]],[[0,1]],[[2,1]]],[[[38,1]],[[39,0],[0,1]]],[[[40,1]],[[41,0],[0,1]]],[[[42,1],[43,2],[44,3]],[[45,4]],[[46,5],[0,2]],[[45,6]],[[46,7],[0,4]],[[42,1],[43,2],[44,3],[0,5]],[[0,6]],[[43,4],[44,3]]],[[[45,1]],[[47,2],[48,3],[0,1]],[[45,3]],[[0,3]]],[[[49,1]],[[26,0],[37,0],[0,1]]],[[[21,1]],[[45,2]],[[46,3],[0,2]],[[45,4]],[[0,4]]],[[[19,1],[8,2],[9,5],[30,4],[14,3],[15,6],[22,2]],[[19,1],[0,1]],[[0,2]],[[50,7],[51,2]],[[52,2],[53,8],[54,8]],[[55,2],[56,9]],[[57,10]],[[51,2]],[[52,2]],[[55,2]],[[15,2]]],[[[58,1],[59,1],[60,1],[61,1],[62,1],[63,1],[64,1],[65,1],[66,1],[67,1],[68,1],[69,1]],[[0,1]]],[[[33,1]],[[0,1]]],[[[10,1]],[[22,2]],[[70,3],[30,4]],[[71,5]],[[52,6],[72,7]],[[0,5]],[[70,3]],[[52,6]]],[[[29,1]],[[73,2]],[[74,3]],[[75,4]],[[76,5],[0,4]],[[0,5]]],[[[32,1]],[[77,2]],[[76,3],[0,2]],[[0,3]]],[[[78,1],[48,1]],[[0,1]]],[[[79,1],[80,1],[7,2],[81,1],[79,1],[74,1],[82,1],[83,3],[84,1],[85,1]],[[0,1]],[[74,1]],[[7,1],[0,3]]],[[[86,1]],[[87,0],[0,1]]],[[[88,1],[89,1],[90,1],[91,1],[92,1],[93,1],[94,1],[95,1]],[[0,1]]],[[[34,1]],[[0,1]]],[[[13,1]],[[0,1]]],[[[96,1]],[[94,2],[91,2]],[[0,2]]],[[[35,1]],[[97,2]],[[2,4],[30,3]],[[52,5],[98,6]],[[0,4]],[[2,4]],[[52,5]]],[[[99,1]],[[99,1],[0,1]]],[[[23,1]],[[73,2]],[[0,2]]],[[[45,1]],[[70,2],[48,3],[46,4],[0,1]],[[45,5]],[[0,3]],[[45,6],[0,4]],[[48,3],[46,7],[0,5]],[[46,4],[0,6]],[[45,8],[0,7]],[[70,9]],[[45,10]],[[46,7],[0,10]]],[[[97,1]],[[100,2],[0,1]],[[22,3]],[[0,3]]],[[[101,1]],[[46,0],[0,1]]],[[[22,1]],[[102,0],[0,1]]],[[[22,1]],[[0,1]]],[[[72,1]],[[2,1],[103,2]],[[0,2]]],[[[104,1]],[[45,2],[0,1]],[[100,3],[46,3],[0,2]],[[45,4]],[[0,4]]],[[[17,1]],[[86,2]],[[74,3],[0,2]],[[45,4]],[[46,5],[0,4]],[[45,6]],[[0,6]]],[[[105,1]],[[106,0],[0,1]]],[[[72,1]],[[107,2],[47,3],[0,1]],[[72,4],[53,4]],[[72,5],[53,5]],[[0,4]],[[47,3],[0,5]]],[[[86,1]],[[46,2],[0,1]],[[86,1],[0,2]]],[[[37,2],[26,2],[6,2],[108,1]],[[0,1]],[[109,1]]],[[[2,0],[103,1],[110,0]],[[0,1]]],[[[111,1],[112,1],[113,1],[114,1],[115,1]],[[0,1]]],[[[29,1]],[[73,2]],[[74,3]],[[72,4]],[[70,5]],[[71,6]],[[116,7],[0,6]],[[70,8]],[[71,9]],[[0,9]]],[[[30,1],[22,2]],[[117,3]],[[0,2]],[[52,2]]],[[[118,1]],[[46,2],[0,1]],[[118,1],[0,2]]],[[[4,1]],[[22,2]],[[119,3]],[[70,4]],[[71,5]],[[0,5]]],[[[28,1]],[[22,2]],[[46,1],[0,2]]],[[[32,1]],[[45,2]],[[70,3]],[[71,4]],[[116,5],[120,1],[0,4]],[[70,6]],[[71,7]],[[0,7]]],[[[22,1]],[[100,2],[0,1]],[[22,3]],[[0,3]]],[[[121,1]],[[46,2],[0,1]],[[121,1],[0,2]]],[[[31,1]],[[97,2],[102,3]],[[25,4]],[[97,2],[25,4],[102,3]],[[122,5],[42,5],[30,6]],[[0,5]],[[122,7]],[[52,5]]],[[[25,1]],[[123,2]],[[0,2]]],[[[124,1],[125,1]],[[0,1]]],[[[11,1]],[[70,2],[126,3]],[[45,4]],[[70,2]],[[0,4]]],[[[29,1]],[[73,2]],[[74,3]],[[127,4]],[[128,5],[0,4]],[[0,5]]],[[[32,1]],[[77,2]],[[128,3],[0,2]],[[0,3]]],[[[129,1],[130,1]],[[0,1]]],[[[45,1]],[[129,2],[46,3],[0,1]],[[0,2]],[[45,4],[0,3]],[[46,3],[0,4]]],[[[7,1],[131,2]],[[40,2]],[[0,2]]],[[[11,1]],[[70,2],[126,3]],[[77,4]],[[70,2]],[[0,4]]],[[[132,1],[75,1]],[[0,1]]],[[[133,1]],[[134,0],[0,1]]],[[[30,1]],[[52,2],[126,3]],[[0,2]],[[52,2]]],[[[24,1]],[[0,1]]],[[[135,1]],[[44,2],[136,1],[0,1]],[[109,3]],[[0,3]]],[[[12,1]],[[45,2],[137,3],[0,1]],[[46,4],[0,2]],[[45,5]],[[45,2],[0,4]],[[46,6],[0,5]],[[45,7]],[[46,8],[0,7]],[[45,7],[0,8]]],[[[5,1]],[[45,2],[0,1]],[[46,3],[0,2]],[[45,4]],[[46,5],[0,4]],[[45,6]],[[0,6]]],[[[20,1]],[[72,2],[0,1]],[[0,2]]],[[[138,1]],[[139,0],[137,0],[0,1]]],[[[140,1]],[[2,2],[141,3]],[[0,2]],[[140,1],[2,2]]],[[[70,1]],[[45,2],[0,1]],[[0,2]]],[[[142,1],[143,1],[144,1],[145,1],[146,1],[147,1],[148,1],[149,1],[150,1],[151,1]],[[0,1]]],[[[1,1],[3,1]],[[0,1]]],[[[45,1],[70,2],[102,3]],[[70,2],[0,1]],[[45,4],[152,5],[0,2]],[[102,6]],[[152,5],[0,4]],[[0,5]],[[102,5]]],[[[153,1]],[[46,2],[0,1]],[[153,1],[0,2]]],[[[1,1],[2,2]],[[0,1]],[[154,3]],[[110,4]],[[155,1],[110,4]]],[[[109,1]],[[156,0],[42,0],[157,0],[158,0],[0,1]]],[[[75,1],[159,2]],[[32,3],[0,1]],[[0,2]],[[75,4]],[[116,5]],[[45,2]]],[[[45,1]],[[46,2],[0,1]],[[45,1],[0,2]]],[[[45,1]],[[46,0],[0,1]]],[[[45,1]],[[48,2],[46,3],[0,1]],[[0,2]],[[45,4],[0,3]],[[46,3],[0,4]]],[[[77,1]],[[46,2],[0,1]],[[77,3]],[[46,4],[0,3]],[[77,3],[0,4]]],[[[30,1],[102,2],[14,3]],[[52,4],[98,5]],[[22,4]],[[160,6]],[[0,4]],[[52,4]],[[51,4]]],[[[16,1]],[[70,2]],[[71,3]],[[161,4],[162,5]],[[70,6]],[[70,7]],[[71,8]],[[71,9]],[[161,4],[116,10],[162,5],[0,8]],[[0,9]],[[70,11]],[[71,12]],[[162,5],[0,12]]],[[[42,1],[118,2],[44,3]],[[22,4]],[[47,5],[46,6],[0,2]],[[22,7]],[[46,8],[0,4]],[[45,9]],[[42,1],[118,2],[44,3],[0,6]],[[0,7]],[[44,3]],[[46,6],[0,9]]],[[[18,1]],[[45,2]],[[70,3]],[[71,4]],[[116,5],[0,4]],[[70,6]],[[71,7]],[[0,7]]],[[[45,1]],[[100,2],[0,1]],[[86,3]],[[0,3]]],[[[36,1]],[[163,2]],[[70,3],[46,1]],[[71,4]],[[0,4]]],[[[164,1]],[[165,0],[0,1]]],[[[27,1]],[[72,2],[0,1]],[[0,2]]],[[[53,1]],[[0,1]]]],labels:[[0,"EMPTY"],[320,null],[4,null],[272,null],[1,"def"],[1,"raise"],[32,null],[1,"not"],[2,null],[26,null],[1,"class"],[1,"lambda"],[1,"print"],[1,"debugger"],[9,null],[25,null],[1,"try"],[1,"exec"],[1,"while"],[3,null],[1,"return"],[1,"assert"],[1,null],[1,"del"],[1,"pass"],[1,"import"],[15,null],[1,"yield"],[1,"global"],[1,"for"],[7,null],[1,"from"],[1,"if"],[1,"break"],[1,"continue"],[50,null],[1,"with"],[14,null],[319,null],[19,null],[309,null],[1,"and"],[16,null],[260,null],[36,null],[328,null],[12,null],[22,null],[267,null],[327,null],[308,null],[10,null],[8,null],[340,null],[331,null],[27,null],[279,null],[330,null],[46,null],[39,null],[41,null],[47,null],[42,null],[43,null],[37,null],[44,null],[49,null],[45,null],[38,null],[40,null],[11,null],[326,null],[329,null],[289,null],[1,"in"],[312,null],[269,null],[311,null],[268,null],[29,null],[21,null],[28,null],[30,null],[1,"is"],[31,null],[20,null],[287,null],[270,null],[334,null],[298,null],[293,null],[266,null],[338,null],[336,null],[296,null],[275,null],[277,null],[282,null],[259,null],[276,null],[1,"as"],[280,null],[23,null],[0,null],[1,"except"],[339,null],[18,null],[264,null],[315,null],[290,null],[323,null],[265,null],[273,null],[317,null],[318,null],[341,null],[1,"else"],[295,null],[294,null],[313,null],[1,"elif"],[299,null],[300,null],[281,null],[302,null],[301,null],[335,null],[332,null],[307,null],[305,null],[306,null],[271,null],[310,null],[258,null],[1,"or"],[263,null],[333,null],[35,null],[261,null],[34,null],[322,null],[13,null],[292,null],[278,null],[288,null],[314,null],[316,null],[262,null],[286,null],[297,null],[303,null],[274,null],[321,null],[324,null],[5,null],[6,null],[48,null],[17,null],[24,null],[304,null],[325,null],[285,null],[1,"finally"],[337,null],[257,null],[33,null]],keywords:{and:41,as:100,assert:21,break:33,class:10,continue:34,debugger:13,def:4,del:23,elif:120,else:116,except:104,exec:17,finally:162,for:29,from:31,global:28,if:32,import:25,in:74,is:83,lambda:11,not:7,or:134,pass:24,print:12,raise:5,return:20,try:16,while:18,with:36,yield:27},tokens:{0:103,1:22,2:8,3:19,4:2,5:154,6:155,7:30,8:52,9:14,10:51,11:70,12:46,13:141,14:37,15:26,16:42,17:157,18:106,19:39,20:85,21:80,22:47,23:102,24:158,25:15,26:9,27:55,28:81,29:79,30:82,31:84,32:6,33:165,34:139,35:137,36:44,37:64,38:68,39:59,40:69,41:60,42:62,43:63,44:65,45:67,46:58,47:61,48:156,49:66,50:35},start:256},g.FUTURE_PRINT_FUNCTION="print_function",g.FUTURE_UNICODE_LITERALS="unicode_literals",g.FUTURE_DIVISION="division",g.FUTURE_ABSOLUTE_IMPORT="absolute_import",g.FUTURE_WITH_STATEMENT="with_statement",g.FUTURE_NESTED_SCOPES="nested_scopes",g.FUTURE_GENERATORS="generators",g.CO_FUTURE_PRINT_FUNCTION=65536,g.CO_FUTURE_UNICODE_LITERALS=131072,g.CO_FUTURE_DIVISON=8192,g.CO_FUTURE_ABSOLUTE_IMPORT=16384,g.CO_FUTURE_WITH_STATEMENT=32768,g.prototype.setup=function(t){var e,n;n={type:t=t||this.grammar.start,value:null,context:null,children:[]},e={dfa:this.grammar.dfas[t],state:0,node:n},this.stack=[e],this.used_names={}},g.prototype.addtoken=function(t,e,i){var o,s,u,l,a,c,p,f,b,_=this.classify(t,e,i);t:for(;;){for(f=(b=this.stack[this.stack.length-1]).dfa[0],b.dfa[1],p=f[b.state],c=0;c<p.length;++c){if(a=p[c][0],l=p[c][1],u=this.grammar.labels[a][0],this.grammar.labels[a][1],_===a){for(n.asserts.assert(u<256),this.shift(t,e,l,i),s=l;1===f[s].length&&0===f[s][0][0]&&f[s][0][1]===s;){if(this.pop(),0===this.stack.length)return!0;s=(b=this.stack[this.stack.length-1]).state,f=b.dfa[0],b.dfa[1]}return!1}if(u>=256&&this.grammar.dfas[u][1].hasOwnProperty(_)){this.push(u,this.grammar.dfas[u],l,i);continue t}}if(!w(p,[0,b.state])){o=i[0][0];var h=this,y=p.map(function(t){var e=t[0],n=h.grammar.labels[e][0];return r.nameForToken(n)}),d={kind:"DAG_MISS",expected:y,found:r.nameForToken(t),found_val:e,inside:r.nameForToken(b.node.type),node:b.node,parent:this.stack.length>1?this.stack[this.stack.length-2].node:void 0},m="expected "+y.join(", ")+" but found "+d.found+" while parsing "+d.inside;throw new r.builtin.SyntaxError(m,this.filename,o,i,d)}if(this.pop(),0===this.stack.length)throw new r.builtin.SyntaxError("too much input",this.filename)}},g.prototype.classify=function(t,e,n){var i;if(t===r.Tokenizer.Tokens.T_NAME&&(this.used_names[e]=!0,i=this.grammar.keywords.hasOwnProperty(e)&&this.grammar.keywords[e],"print"===e&&(this.p_flags&g.CO_FUTURE_PRINT_FUNCTION||!0===r.python3)&&(i=!1),i))return i;if(!(i=this.grammar.tokens.hasOwnProperty(t)&&this.grammar.tokens[t])){var o={kind:"CLASSIFY",type:t,value:e};throw new r.builtin.SyntaxError("bad token",this.filename,n[0][0],n,o)}return i},g.prototype.shift=function(t,e,n,r){var i=this.stack[this.stack.length-1].dfa,o=(this.stack[this.stack.length-1].state,this.stack[this.stack.length-1].node),s={type:t,value:e,lineno:r[0][0],col_offset:r[0][1],children:null};s&&o.children.push(s),this.stack[this.stack.length-1]={dfa:i,state:n,node:o}},g.prototype.push=function(t,e,n,r){var i=this.stack[this.stack.length-1].dfa,o=this.stack[this.stack.length-1].node,s={type:t,value:null,lineno:r[0][0],col_offset:r[0][1],children:[]};this.stack[this.stack.length-1]={dfa:i,state:n,node:o},this.stack.push({dfa:e,state:0,node:s})},g.prototype.pop=function(){var t=this.stack.pop().node;t&&(0!==this.stack.length?this.stack[this.stack.length-1].node.children.push(t):(this.rootnode=t,this.rootnode.used_names=this.used_names))},r.parse=function(t,e){var i,o,s,u=function(t,e){var i,o,s,u,l;void 0===e&&(e="file_input"),l=new g(t,r.ParseTables),"file_input"===e?l.setup(r.ParseTables.sym.file_input):n.asserts.fail("todo;"),u=r.Tokenizer.Tokens.T_COMMENT,s=r.Tokenizer.Tokens.T_NL,o=r.Tokenizer.Tokens.T_OP,i=new r.Tokenizer(t,"single_input"===e,function(t,e,n,i,a){return n[0],n[1],t===u||t===s?(i[0],i[1],void e[e.length-1]):(t===o&&(t=r.OpMap[e]),!!l.addtoken(t,e,[n,i,a])||void 0)});var a=function(t){var e=i.generateTokens(t);if(e){if("done"!==e)throw new r.builtin.SyntaxError("incomplete input",this.filename);return l.rootnode}return!1};return a.p_flags=l.p_flags,a}(t);for("\n"!==e.substr(e.length-1,1)&&(e+="\n"),s=e.split("\n"),i=0;i<s.length;++i)o=u(s[i]+(i===s.length-1?"":"\n"));return{cst:o,flags:u.p_flags}},r.parseTreeDump=function(t,e){var n,i;if(i="",i+=e=e||"",t.type>=256)for(i+=r.ParseTables.number2symbol[t.type]+"\n",n=0;n<t.children.length;++n)i+=r.parseTreeDump(t.children[n],e+"  ");else i+=r.Tokenizer.tokenNames[t.type]+": "+new r.builtin.str(t.value).$r().v+"\n";return i},n.exportSymbol("Sk.parse",r.parse),n.exportSymbol("Sk.parseTreeDump",r.parseTreeDump),nt.prototype._astname="Module",nt.prototype._fields=["body",function(t){return t.body}],rt.prototype._astname="Interactive",rt.prototype._fields=["body",function(t){return t.body}],it.prototype._astname="Expression",it.prototype._fields=["body",function(t){return t.body}],ot.prototype._astname="Suite",ot.prototype._fields=["body",function(t){return t.body}],st.prototype._astname="FunctionDef",st.prototype._fields=["name",function(t){return t.name},"args",function(t){return t.args},"body",function(t){return t.body},"decorator_list",function(t){return t.decorator_list}],ut.prototype._astname="ClassDef",ut.prototype._fields=["name",function(t){return t.name},"bases",function(t){return t.bases},"body",function(t){return t.body},"decorator_list",function(t){return t.decorator_list}],lt.prototype._astname="Return",lt.prototype._fields=["value",function(t){return t.value}],at.prototype._astname="Delete",at.prototype._fields=["targets",function(t){return t.targets}],ct.prototype._astname="Assign",ct.prototype._fields=["targets",function(t){return t.targets},"value",function(t){return t.value}],pt.prototype._astname="AugAssign",pt.prototype._fields=["target",function(t){return t.target},"op",function(t){return t.op},"value",function(t){return t.value}],ft.prototype._astname="Print",ft.prototype._fields=["dest",function(t){return t.dest},"values",function(t){return t.values},"nl",function(t){return t.nl}],bt.prototype._astname="For",bt.prototype._fields=["target",function(t){return t.target},"iter",function(t){return t.iter},"body",function(t){return t.body},"orelse",function(t){return t.orelse}],_t.prototype._astname="While",_t.prototype._fields=["test",function(t){return t.test},"body",function(t){return t.body},"orelse",function(t){return t.orelse}],ht.prototype._astname="If",ht.prototype._fields=["test",function(t){return t.test},"body",function(t){return t.body},"orelse",function(t){return t.orelse}],yt.prototype._astname="With",yt.prototype._fields=["context_expr",function(t){return t.context_expr},"optional_vars",function(t){return t.optional_vars},"body",function(t){return t.body}],dt.prototype._astname="Raise",dt.prototype._fields=["type",function(t){return t.type},"inst",function(t){return t.inst},"tback",function(t){return t.tback}],mt.prototype._astname="TryExcept",mt.prototype._fields=["body",function(t){return t.body},"handlers",function(t){return t.handlers},"orelse",function(t){return t.orelse}],vt.prototype._astname="TryFinally",vt.prototype._fields=["body",function(t){return t.body},"finalbody",function(t){return t.finalbody}],gt.prototype._astname="Assert",gt.prototype._fields=["test",function(t){return t.test},"msg",function(t){return t.msg}],wt.prototype._astname="Import",wt.prototype._fields=["names",function(t){return t.names}],Tt.prototype._astname="ImportFrom",Tt.prototype._fields=["module",function(t){return t.module},"names",function(t){return t.names},"level",function(t){return t.level}],xt.prototype._astname="Exec",xt.prototype._fields=["body",function(t){return t.body},"globals",function(t){return t.globals},"locals",function(t){return t.locals}],kt.prototype._astname="Global",kt.prototype._fields=["names",function(t){return t.names}],Et.prototype._astname="Expr",Et.prototype._fields=["value",function(t){return t.value}],St.prototype._astname="Pass",St.prototype._fields=[],$t.prototype._astname="Break",$t.prototype._fields=[],At.prototype._astname="Continue",At.prototype._fields=[],Ot.prototype._astname="Debugger",Ot.prototype._fields=[],jt.prototype._astname="BoolOp",jt.prototype._fields=["op",function(t){return t.op},"values",function(t){return t.values}],Rt.prototype._astname="BinOp",Rt.prototype._fields=["left",function(t){return t.left},"op",function(t){return t.op},"right",function(t){return t.right}],Nt.prototype._astname="UnaryOp",Nt.prototype._fields=["op",function(t){return t.op},"operand",function(t){return t.operand}],It.prototype._astname="Lambda",It.prototype._fields=["args",function(t){return t.args},"body",function(t){return t.body}],Ct.prototype._astname="IfExp",Ct.prototype._fields=["test",function(t){return t.test},"body",function(t){return t.body},"orelse",function(t){return t.orelse}],Lt.prototype._astname="Dict",Lt.prototype._fields=["keys",function(t){return t.keys},"values",function(t){return t.values}],Ut.prototype._astname="Set",Ut.prototype._fields=["elts",function(t){return t.elts}],Pt.prototype._astname="ListComp",Pt.prototype._fields=["elt",function(t){return t.elt},"generators",function(t){return t.generators}],Dt.prototype._astname="SetComp",Dt.prototype._fields=["elt",function(t){return t.elt},"generators",function(t){return t.generators}],Mt.prototype._astname="DictComp",Mt.prototype._fields=["key",function(t){return t.key},"value",function(t){return t.value},"generators",function(t){return t.generators}],Ft.prototype._astname="GeneratorExp",Ft.prototype._fields=["elt",function(t){return t.elt},"generators",function(t){return t.generators}],qt.prototype._astname="Yield",qt.prototype._fields=["value",function(t){return t.value}],Bt.prototype._astname="Compare",Bt.prototype._fields=["left",function(t){return t.left},"ops",function(t){return t.ops},"comparators",function(t){return t.comparators}],zt.prototype._astname="Call",zt.prototype._fields=["func",function(t){return t.func},"args",function(t){return t.args},"keywords",function(t){return t.keywords},"starargs",function(t){return t.starargs},"kwargs",function(t){return t.kwargs}],Gt.prototype._astname="Repr",Gt.prototype._fields=["value",function(t){return t.value}],Qt.prototype._astname="Num",Qt.prototype._fields=["n",function(t){return t.n}],Vt.prototype._astname="Str",Vt.prototype._fields=["s",function(t){return t.s}],Ht.prototype._astname="Attribute",Ht.prototype._fields=["value",function(t){return t.value},"attr",function(t){return t.attr},"ctx",function(t){return t.ctx}],Wt.prototype._astname="Subscript",Wt.prototype._fields=["value",function(t){return t.value},"slice",function(t){return t.slice},"ctx",function(t){return t.ctx}],Xt.prototype._astname="Name",Xt.prototype._fields=["id",function(t){return t.id},"ctx",function(t){return t.ctx}],Jt.prototype._astname="List",Jt.prototype._fields=["elts",function(t){return t.elts},"ctx",function(t){return t.ctx}],Kt.prototype._astname="Tuple",Kt.prototype._fields=["elts",function(t){return t.elts},"ctx",function(t){return t.ctx}],T.prototype._astname="Load",T.prototype._isenum=!0,x.prototype._astname="Store",x.prototype._isenum=!0,k.prototype._astname="Del",k.prototype._isenum=!0,E.prototype._astname="AugLoad",E.prototype._isenum=!0,S.prototype._astname="AugStore",S.prototype._isenum=!0,$.prototype._astname="Param",$.prototype._isenum=!0,Zt.prototype._astname="Ellipsis",Zt.prototype._fields=[],Yt.prototype._astname="Slice",Yt.prototype._fields=["lower",function(t){return t.lower},"upper",function(t){return t.upper},"step",function(t){return t.step}],te.prototype._astname="ExtSlice",te.prototype._fields=["dims",function(t){return t.dims}],ee.prototype._astname="Index",ee.prototype._fields=["value",function(t){return t.value}],A.prototype._astname="And",A.prototype._isenum=!0,O.prototype._astname="Or",O.prototype._isenum=!0,j.prototype._astname="Add",j.prototype._isenum=!0,R.prototype._astname="Sub",R.prototype._isenum=!0,N.prototype._astname="Mult",N.prototype._isenum=!0,I.prototype._astname="Div",I.prototype._isenum=!0,C.prototype._astname="Mod",C.prototype._isenum=!0,L.prototype._astname="Pow",L.prototype._isenum=!0,U.prototype._astname="LShift",U.prototype._isenum=!0,P.prototype._astname="RShift",P.prototype._isenum=!0,D.prototype._astname="BitOr",D.prototype._isenum=!0,M.prototype._astname="BitXor",M.prototype._isenum=!0,F.prototype._astname="BitAnd",F.prototype._isenum=!0,q.prototype._astname="FloorDiv",q.prototype._isenum=!0,B.prototype._astname="Invert",B.prototype._isenum=!0,z.prototype._astname="Not",z.prototype._isenum=!0,G.prototype._astname="UAdd",G.prototype._isenum=!0,Q.prototype._astname="USub",Q.prototype._isenum=!0,V.prototype._astname="Eq",V.prototype._isenum=!0,H.prototype._astname="NotEq",H.prototype._isenum=!0,W.prototype._astname="Lt",W.prototype._isenum=!0,X.prototype._astname="LtE",X.prototype._isenum=!0,J.prototype._astname="Gt",J.prototype._isenum=!0,K.prototype._astname="GtE",K.prototype._isenum=!0,Z.prototype._astname="Is",Z.prototype._isenum=!0,Y.prototype._astname="IsNot",Y.prototype._isenum=!0,tt.prototype._astname="In",tt.prototype._isenum=!0,et.prototype._astname="NotIn",et.prototype._isenum=!0,ne.prototype._astname="comprehension",ne.prototype._fields=["target",function(t){return t.target},"iter",function(t){return t.iter},"ifs",function(t){return t.ifs}],re.prototype._astname="ExceptHandler",re.prototype._fields=["type",function(t){return t.type},"name",function(t){return t.name},"body",function(t){return t.body}],ie.prototype._astname="arguments",ie.prototype._fields=["args",function(t){return t.args},"vararg",function(t){return t.vararg},"kwarg",function(t){return t.kwarg},"defaults",function(t){return t.defaults}],oe.prototype._astname="keyword",oe.prototype._fields=["arg",function(t){return t.arg},"value",function(t){return t.value}],se.prototype._astname="alias",se.prototype._fields=["name",function(t){return t.name},"asname",function(t){return t.asname}];var ue=r.ParseTables.sym,le=r.Tokenizer.Tokens,ae=0,ce=1;function pe(t,e,n){this.c_encoding=t,this.c_filename=e,this.c_flags=n||0}function fe(t){return n.asserts.assert(void 0!==t),null===t.children?0:t.children.length}function be(t,e){return n.asserts.assert(void 0!==t),n.asserts.assert(void 0!==e),t.children[e]}function _e(t,e){n.asserts.assert(t.type===e,"node wasn't expected type")}function he(t){return n.asserts.assert("string"==typeof t,"expecting string, got "+typeof t),new r.builtin.str(t)}function ye(t){var e,r,i;switch(t.type){case ue.single_input:return be(t,0).type===le.T_NEWLINE?0:ye(be(t,0));case ue.file_input:for(i=0,r=0;r<fe(t);++r)(e=be(t,r)).type===ue.stmt&&(i+=ye(e));return i;case ue.stmt:return ye(be(t,0));case ue.compound_stmt:return 1;case ue.simple_stmt:return Math.floor(fe(t)/2);case ue.suite:if(1===fe(t))return ye(be(t,0));for(i=0,r=2;r<fe(t)-1;++r)i+=ye(be(t,r));return i;default:n.asserts.fail("Non-statement found")}return 0}function de(t,e,n,i){if("None"===n)throw new r.builtin.SyntaxError("assignment to None",t.c_filename,i,[],{node:e});if("True"===n||"False"===n)throw new r.builtin.SyntaxError("assignment to True or False is forbidden",t.c_filename,i,[],{node:e})}function me(t,e,i,o){var s,u,l;switch(n.asserts.assert(i!==S&&i!==E),l=null,u=null,e.constructor){case Ht:case Xt:i===x&&de(t,o,e.attr,o.lineno),e.ctx=i;break;case Wt:e.ctx=i;break;case Jt:e.ctx=i,l=e.elts;break;case Kt:if(0===e.elts.length)throw new r.builtin.SyntaxError("can't assign to ()",t.c_filename,o.lineno,i,{node:o});e.ctx=i,l=e.elts;break;case It:u="lambda";break;case zt:u="function call";break;case jt:case Rt:case Nt:u="operator";break;case Ft:u="generator expression";break;case qt:u="yield expression";break;case Pt:u="list comprehension";break;case Dt:u="set comprehension";break;case Mt:u="dict comprehension";break;case Lt:case Ut:case Qt:case Vt:u="literal";break;case Bt:u="comparison";break;case Gt:u="repr";break;case Ct:u="conditional expression";break;default:n.asserts.fail("unhandled expression in assignment")}if(u)throw new r.builtin.SyntaxError("can't "+(i===x?"assign to":"delete")+" "+u,t.c_filename,o.lineno,[],{node:o});if(l)for(s=0;s<l.length;++s)me(t,l[s],i,o)}var ve={};function ge(t){return n.asserts.assert(void 0!==ve[t.type]),ve[t.type]}function we(t,e){if(_e(e,ue.comp_op),1===fe(e))switch((e=be(e,0)).type){case le.T_LESS:return W;case le.T_GREATER:return J;case le.T_EQEQUAL:return V;case le.T_LESSEQUAL:return X;case le.T_GREATEREQUAL:return K;case le.T_NOTEQUAL:return H;case le.T_NAME:if("in"===e.value)return tt;if("is"===e.value)return Z}else if(2===fe(e)&&be(e,0).type===le.T_NAME){if("in"===be(e,1).value)return et;if("is"===be(e,0).value)return Y}n.asserts.fail("invalid comp_op")}function Te(t,e){var r,i=[];for(n.asserts.assert(e.type===ue.testlist||e.type===ue.listmaker||e.type===ue.testlist_comp||e.type===ue.testlist_safe||e.type===ue.testlist1),r=0;r<fe(e);r+=2)n.asserts.assert(be(e,r).type===ue.test||be(e,r).type===ue.old_test),i[r/2]=bn(t,be(e,r));return i}function xe(t,e){var r,i,o,s,u,l;if(_e(e,ue.suite),l=[],u=0,be(e,0).type===ue.simple_stmt)for(e=be(e,0),be(e,(o=fe(e)-1)-1).type===le.T_SEMI&&(o-=1),i=0;i<o;i+=2)l[u++]=_n(t,be(e,i));else for(i=2;i<fe(e)-1;++i)if(_e(s=be(e,i),ue.stmt),1===ye(s))l[u++]=_n(t,s);else for(_e(s=be(s,0),ue.simple_stmt),r=0;r<fe(s);r+=2){if(0===fe(be(s,r))){n.asserts.assert(r+1===fe(s));break}l[u++]=_n(t,be(s,r))}return n.asserts.assert(u===ye(e)),l}function ke(t,e,r){var i;return _e(e,ue.except_clause),_e(r,ue.suite),1===fe(e)?new re(null,null,xe(t,r),e.lineno,e.col_offset):2===fe(e)?new re(bn(t,be(e,1)),null,xe(t,r),e.lineno,e.col_offset):4===fe(e)?(me(t,i=bn(t,be(e,3)),x,be(e,3)),new re(bn(t,be(e,1)),i,xe(t,r),e.lineno,e.col_offset)):void n.asserts.fail("wrong number of children for except clause")}function Ee(t,e){var n,r,i,o;for(_e(e,ue.dotted_name),o=e.lineno,i=e.col_offset,r=new Xt(he(be(e,0).value),T,o,i),n=2;n<fe(e);n+=2)r=new Ht(r,he(be(e,n).value),T,o,i);return r}function Se(t,e){var n;return _e(e,ue.decorator),_e(be(e,0),le.T_AT),_e(be(e,fe(e)-1),le.T_NEWLINE),n=Ee(t,be(e,1)),3===fe(e)?n:5===fe(e)?new zt(n,[],[],null,null,e.lineno,e.col_offset):ze(t,be(e,3),n)}function $e(t,e){var n,r;for(_e(e,ue.decorators),r=[],n=0;n<fe(e);++n)r[n]=Se(t,be(e,n));return r}function Ae(t,e){var r,i;return _e(e,ue.decorated),i=$e(t,be(e,0)),n.asserts.assert(be(e,1).type===ue.funcdef||be(e,1).type===ue.classdef),r=null,be(e,1).type===ue.funcdef?r=He(t,be(e,1),i):be(e,1)===ue.classdef&&(r=Xe(t,be(e,1),i)),r&&(r.lineno=e.lineno,r.col_offset=e.col_offset),r}function Oe(t,e){return _e(e,ue.with_item),bn(t,be(e,1))}function je(t,e){var r,i,o=3;return n.asserts.assert(e.type===ue.with_stmt),i=bn(t,be(e,1)),be(e,2).type===ue.with_item&&(me(t,r=Oe(t,be(e,2)),x,e),o=4),new yt(i,r,xe(t,be(e,o)),e.lineno,e.col_offset)}function Re(t,e){var r,i=null,o=null,s=fe(e);return n.asserts.assert(2===s||4===s||6===s),_e(e,ue.exec_stmt),r=bn(t,be(e,1)),s>=4&&(i=bn(t,be(e,3))),6===s&&(o=bn(t,be(e,5))),new xt(r,i,o,e.lineno,e.col_offset)}function Ne(t,e){var r,i,o,s,u,l;if(_e(e,ue.if_stmt),4===fe(e))return new ht(bn(t,be(e,1)),xe(t,be(e,3)),[],e.lineno,e.col_offset);if("s"===(l=be(e,4).value.charAt(2)))return new ht(bn(t,be(e,1)),xe(t,be(e,3)),xe(t,be(e,6)),e.lineno,e.col_offset);if("i"===l){for(s=!1,o=[],be(e,(u=fe(e)-4)+1).type===le.T_NAME&&"s"===be(e,u+1).value.charAt(2)&&(s=!0,u-=3),u/=4,s&&(o=[new ht(bn(t,be(e,fe(e)-6)),xe(t,be(e,fe(e)-4)),xe(t,be(e,fe(e)-1)),be(e,fe(e)-6).lineno,be(e,fe(e)-6).col_offset)],u--),i=0;i<u;++i)o=[new ht(bn(t,be(e,r=5+4*(u-i-1))),xe(t,be(e,r+2)),o,be(e,r).lineno,be(e,r).col_offset)];return new ht(bn(t,be(e,1)),xe(t,be(e,3)),o,e.lineno,e.col_offset)}n.asserts.fail("unexpected token in 'if' statement")}function Ie(t,e,n){var r,i,o;for(_e(e,ue.exprlist),o=[],i=0;i<fe(e);i+=2)r=bn(t,be(e,i)),o[i/2]=r,n&&me(t,r,n,be(e,i));return o}function Ce(t,e){return _e(e,ue.del_stmt),new at(Ie(t,be(e,1),k),e.lineno,e.col_offset)}function Le(t,e){var n,r=[];for(_e(e,ue.global_stmt),n=1;n<fe(e);n+=2)r[(n-1)/2]=he(be(e,n).value);return new kt(r,e.lineno,e.col_offset)}function Ue(t,e){return _e(e,ue.assert_stmt),2===fe(e)?new gt(bn(t,be(e,1)),null,e.lineno,e.col_offset):4===fe(e)?new gt(bn(t,be(e,1)),bn(t,be(e,3)),e.lineno,e.col_offset):void n.asserts.fail("improper number of parts to assert stmt")}function Pe(t,e){var i,o,s,u;t:for(;;){switch(e.type){case ue.import_as_name:return u=null,s=he(be(e,0).value),3===fe(e)&&(u=be(e,2).value),new se(s,null==u?null:he(u));case ue.dotted_as_name:if(1===fe(e)){e=be(e,0);continue t}return o=Pe(t,be(e,0)),n.asserts.assert(!o.asname),o.asname=he(be(e,2).value),o;case ue.dotted_name:if(1===fe(e))return new se(he(be(e,0).value),null);for(u="",i=0;i<fe(e);i+=2)u+=be(e,i).value+".";return new se(he(u.substr(0,u.length-1)),null);case le.T_STAR:return new se(he("*"),null);default:throw new r.builtin.SyntaxError("unexpected import name",t.c_filename,e.lineno)}break}}function De(t,e){var n,i,o,s,u,l,a;if(_e(e,ue.import_stmt),a=e.lineno,l=e.col_offset,(e=be(e,0)).type===ue.import_name){for(_e(e=be(e,1),ue.dotted_as_names),u=[],s=0;s<fe(e);s+=2)u[s/2]=Pe(t,be(e,s));return new wt(u,a,l)}if(e.type===ue.import_from){for(o=null,i=0,n=1;n<fe(e);++n){if(be(e,n).type===ue.dotted_name){o=Pe(t,be(e,n)),n++;break}if(be(e,n).type!==le.T_DOT)break;i++}switch(be(e,++n).type){case le.T_STAR:e=be(e,n),1;break;case le.T_LPAR:fe(e=be(e,n+1));break;case ue.import_as_names:if(fe(e=be(e,n))%2==0)throw new r.builtin.SyntaxError("trailing comma not allowed without surrounding parentheses",t.c_filename,e.lineno);break;default:throw new r.builtin.SyntaxError("Unexpected node-type in from-import",t.c_filename,e.lineno)}if(u=[],e.type===le.T_STAR)u[0]=Pe(t,e);else for(s=0;s<fe(e);s+=2)u[s/2]=Pe(t,be(e,s));return new Tt(he(o?o.name.v:""),u,i,a,l)}throw new r.builtin.SyntaxError("unknown import statement",t.c_filename,e.lineno)}function Me(t,e){return n.asserts.assert(e.type===ue.testlist_comp||e.type===ue.argument),fe(e)>1&&be(e,1).type===ue.comp_for?tn(t,e):sn(t,e)}function Fe(t,e){function r(t,e){for(var n=0;;){if(_e(e,ue.list_iter),be(e,0).type===ue.list_for)return n;if(_e(e=be(e,0),ue.list_if),n++,2==fe(e))return n;e=be(e,2)}}var i,o,s,u,l,a,c,p,f,b,_,h;for(_e(e,ue.listmaker),n.asserts.assert(fe(e)>1),h=bn(t,be(e,0)),_=function(t,e){var n=0,r=be(e,1);t:for(;;){if(n++,_e(r,ue.list_for),5!==fe(r))return n;r=be(r,4);e:for(;;){if(_e(r,ue.list_iter),(r=be(r,0)).type===ue.list_for)continue t;if(r.type===ue.list_if){if(3===fe(r)){r=be(r,2);continue e}return n}break}break}}(0,e),b=[],f=be(e,1),p=0;p<_;++p){if(_e(f,ue.list_for),a=Ie(t,c=be(f,1),x),l=sn(t,be(f,3)),u=1===fe(c)?new ne(a[0],l,[]):new ne(new Kt(a,x,f.lineno,f.col_offset),l,[]),5===fe(f)){for(s=r(0,f=be(f,4)),o=[],i=0;i<s;++i)_e(f,ue.list_iter),_e(f=be(f,0),ue.list_if),o[i]=bn(t,be(f,1)),3===fe(f)&&(f=be(f,2));f.type===ue.list_iter&&(f=be(f,0)),u.ifs=o}b[p]=u}return new Pt(h,b,e.lineno,e.col_offset)}function qe(t,e){var r,i,o,s,u;if(be(e,0).type===le.T_MINUS&&2===fe(e)&&(u=be(e,1)).type===ue.factor&&1===fe(u)&&(s=be(u,0)).type===ue.power&&1===fe(s)&&(o=be(s,0)).type===ue.atom&&(i=be(o,0)).type===le.T_NUMBER)return i.value="-"+i.value,pn(t,o);switch(r=bn(t,be(e,1)),be(e,0).type){case le.T_PLUS:return new Nt(G,r,e.lineno,e.col_offset);case le.T_MINUS:return new Nt(Q,r,e.lineno,e.col_offset);case le.T_TILDE:return new Nt(B,r,e.lineno,e.col_offset)}n.asserts.fail("unhandled factor")}function Be(t,e){var n,r,i=[];return _e(e,ue.for_stmt),9===fe(e)&&(i=xe(t,be(e,8))),n=Ie(t,r=be(e,1),x),new bt(1===fe(r)?n[0]:new Kt(n,x,e.lineno,e.col_offset),sn(t,be(e,3)),xe(t,be(e,5)),i,e.lineno,e.col_offset)}function ze(t,e,n){var i,o,s,u,l,a,c,p,f,b,_,h;for(_e(e,ue.arglist),h=0,_=0,b=0,f=0;f<fe(e);f++)(p=be(e,f)).type===ue.argument&&(1===fe(p)?h++:be(p,1).type===ue.comp_for?b++:_++);if(b>1||b&&(h||_))throw new r.builtin.SyntaxError("Generator expression must be parenthesized if not sole argument",t.c_filename,e.lineno);if(h+_+b>255)throw new r.builtin.SyntaxError("more than 255 arguments",t.c_filename,e.lineno);for(c=[],a=[],h=0,_=0,l=null,u=null,f=0;f<fe(e);f++)if((p=be(e,f)).type===ue.argument)if(1===fe(p)){if(_)throw new r.builtin.SyntaxError("non-keyword arg after keyword arg",t.c_filename,e.lineno);if(l)throw new r.builtin.SyntaxError("only named arguments may follow *expression",t.c_filename,e.lineno);c[h++]=bn(t,be(p,0))}else if(be(p,1).type===ue.comp_for)c[h++]=tn(t,p);else{if((s=bn(t,be(p,0))).constructor===It)throw new r.builtin.SyntaxError("lambda cannot contain assignment",t.c_filename,e.lineno);if(s.constructor!==Xt)throw new r.builtin.SyntaxError("keyword can't be an expression",t.c_filename,e.lineno);for(o=s.id,de(t,be(p,0),o,e.lineno),i=0;i<_;++i)if(a[i].arg===o)throw new r.builtin.SyntaxError("keyword argument repeated",t.c_filename,e.lineno);a[_++]=new oe(o,bn(t,be(p,2)))}else p.type===le.T_STAR?l=bn(t,be(e,++f)):p.type===le.T_DOUBLESTAR&&(u=bn(t,be(e,++f)));return new zt(n,c,a,l,u,n.lineno,n.col_offset)}function Ge(t,e,r){var i,o,s,u,l;if(_e(e,ue.trailer),be(e,0).type===le.T_LPAR)return 2===fe(e)?new zt(r,[],[],null,null,e.lineno,e.col_offset):ze(t,be(e,1),r);if(be(e,0).type===le.T_DOT)return new Ht(r,he(be(e,1).value),T,e.lineno,e.col_offset);if(_e(be(e,0),le.T_LSQB),_e(be(e,2),le.T_RSQB),1===fe(e=be(e,1)))return new Wt(r,cn(t,be(e,0)),T,e.lineno,e.col_offset);for(l=!0,u=[],s=0;s<fe(e);s+=2)(o=cn(t,be(e,s))).constructor!==ee&&(l=!1),u[s/2]=o;if(!l)return new Wt(r,new te(u),T,e.lineno,e.col_offset);for(i=[],s=0;s<u.length;++s)o=u[s],n.asserts.assert(o.constructor===ee&&null!==o.value&&void 0!==o.value),i[s]=o.value;return new Wt(r,new ee(new Kt(i,T,e.lineno,e.col_offset)),T,e.lineno,e.col_offset)}function Qe(t,e){var r;switch(_e(e,ue.flow_stmt),(r=be(e,0)).type){case ue.break_stmt:return new $t(e.lineno,e.col_offset);case ue.continue_stmt:return new At(e.lineno,e.col_offset);case ue.yield_stmt:return new Et(bn(t,be(r,0)),e.lineno,e.col_offset);case ue.return_stmt:return 1===fe(r)?new lt(null,e.lineno,e.col_offset):new lt(sn(t,be(r,1)),e.lineno,e.col_offset);case ue.raise_stmt:if(1===fe(r))return new dt(null,null,null,e.lineno,e.col_offset);if(2===fe(r))return new dt(bn(t,be(r,1)),null,null,e.lineno,e.col_offset);if(4===fe(r))return new dt(bn(t,be(r,1)),bn(t,be(r,3)),null,e.lineno,e.col_offset);if(6===fe(r))return new dt(bn(t,be(r,1)),bn(t,be(r,3)),bn(t,be(r,5)),e.lineno,e.col_offset);break;default:n.asserts.fail("unexpected flow_stmt")}n.asserts.fail("unhandled flow statement")}function Ve(t,e){var i,o,s,u,l,a,c,p,f,b=null,_=null;if(e.type===ue.parameters){if(2===fe(e))return new ie([],null,null,[]);e=be(e,1)}for(_e(e,ue.varargslist),p=[],c=[],a=!1,l=0,u=0,s=0;l<fe(e);)switch((f=be(e,l)).type){case ue.fpdef:for(0,i=0;;){if(l+1<fe(e)&&be(e,l+1).type===le.T_EQUAL)c[u++]=bn(t,be(e,l+2)),l+=2,a=!0;else if(a){if(i)throw new r.builtin.SyntaxError("parenthesized arg with default",t.c_filename,e.lineno);throw new r.builtin.SyntaxError("non-default argument follows default argument",t.c_filename,e.lineno)}if(3!==fe(f)){if(be(f,0).type===le.T_NAME&&(de(t,e,be(f,0).value,e.lineno),o=he(be(f,0).value),p[s++]=new Xt(o,$,f.lineno,f.col_offset)),l+=2,i)throw new r.builtin.SyntaxError("parenthesized argument names are invalid",t.c_filename,e.lineno);break}if(1!==fe(f=be(f,1)))throw new r.builtin.SyntaxError("tuple parameter unpacking has been removed",t.c_filename,e.lineno);i=!0,f=be(f,0),n.asserts.assert(f.type===ue.fpdef)}break;case le.T_STAR:de(t,be(e,l+1),be(e,l+1).value,e.lineno),b=he(be(e,l+1).value),l+=3;break;case le.T_DOUBLESTAR:de(t,be(e,l+1),be(e,l+1).value,e.lineno),_=he(be(e,l+1).value),l+=3;break;default:n.asserts.fail("unexpected node in varargslist")}return new ie(p,b,_,c)}function He(t,e,n){var r;return _e(e,ue.funcdef),r=he(be(e,1).value),de(t,be(e,1),be(e,1).value,e.lineno),new st(r,Ve(t,be(e,2)),xe(t,be(e,4)),n,e.lineno,e.col_offset)}function We(t,e){return n.asserts.assert(fe(e)>0),_e(e,ue.testlist),1===fe(e)?[bn(t,be(e,0))]:Te(t,e)}function Xe(t,e,n){var r;return _e(e,ue.classdef),de(t,e,be(e,1).value,e.lineno),r=he(be(e,1).value),4===fe(e)?new ut(r,[],xe(t,be(e,3)),n,e.lineno,e.col_offset):be(e,3).type===le.T_RPAR?new ut(r,[],xe(t,be(e,5)),n,e.lineno,e.col_offset):new ut(r,We(t,be(e,3)),xe(t,be(e,6)),n,e.lineno,e.col_offset)}function Je(t,e){var n,r;return 3===fe(e)?(n=new ie([],null,null,[]),r=bn(t,be(e,2))):(n=Ve(t,be(e,1)),r=bn(t,be(e,3))),new It(n,r,e.lineno,e.col_offset)}function Ke(t,e){var r,i,o,s,u,l,a,c,p,f;function b(t,e){for(var n=0;;){if(_e(e,ue.comp_iter),be(e,0).type===ue.comp_for)return n;if(_e(e=be(e,0),ue.comp_if),n++,2==fe(e))return n;e=be(e,2)}}for(c=function(t,e){var r=0;t:for(;;){if(r++,_e(e,ue.comp_for),5!==fe(e))return r;e=be(e,4);e:for(;;){if(_e(e,ue.comp_iter),(e=be(e,0)).type===ue.comp_for)continue t;if(e.type===ue.comp_if){if(3===fe(e)){e=be(e,2);continue e}return r}break}break}n.asserts.fail("logic error in countCompFors")}(0,e),p=[],a=0;a<c;++a){if(_e(e,ue.comp_for),u=Ie(t,l=be(e,1),x),s=bn(t,be(e,3)),f=1===fe(l)?new ne(u[0],s,[]):new ne(new Kt(u,x,e.lineno,e.col_offset),s,[]),5===fe(e)){for(o=b(0,e=be(e,4)),i=[],r=0;r<o;++r)_e(e,ue.comp_iter),_e(e=be(e,0),ue.comp_if),s=bn(t,be(e,1)),i[r]=s,3===fe(e)&&(e=be(e,2));e.type===ue.comp_iter&&(e=be(e,0)),f.ifs=i}p[a]=f}return p}function Ze(t,e,r){var i,o;return n.asserts.assert(fe(e)>1),i=bn(t,be(e,0)),o=Ke(t,be(e,1)),r===ae?new Ft(i,o,e.lineno,e.col_offset):r===ce?new Dt(i,o,e.lineno,e.col_offset):void 0}function Ye(t,e){return n.asserts.assert(fe(e)>3),_e(be(e,1),le.T_COLON),new Mt(bn(t,be(e,0)),bn(t,be(e,2)),Ke(t,be(e,3)),e.lineno,e.col_offset)}function tn(t,e){return n.asserts.assert(e.type===ue.testlist_comp||e.type===ue.argument),Ze(t,e,ae)}function en(t,e){return n.asserts.assert(e.type===ue.dictorsetmaker),Ze(t,e,ce)}function nn(t,e){return _e(e,ue.while_stmt),4===fe(e)?new _t(bn(t,be(e,1)),xe(t,be(e,3)),[],e.lineno,e.col_offset):7===fe(e)?new _t(bn(t,be(e,1)),xe(t,be(e,3)),xe(t,be(e,6)),e.lineno,e.col_offset):void n.asserts.fail("wrong number of tokens for 'while' stmt")}function rn(t,e){switch(_e(e,ue.augassign),(e=be(e,0)).value.charAt(0)){case"+":return j;case"-":return R;case"/":return"/"===e.value.charAt(1)?q:I;case"%":return C;case"<":return U;case">":return P;case"&":return F;case"^":return M;case"|":return D;case"*":return"*"===e.value.charAt(1)?L:N;default:n.asserts.fail("invalid augassign")}}function on(t,e){var n,r,i=new Rt(bn(t,be(e,0)),ge(be(e,1)),bn(t,be(e,2)),e.lineno,e.col_offset),o=(fe(e)-1)/2;for(r=1;r<o;++r)i=new Rt(i,ge(n=be(e,2*r+1)),bn(t,be(e,2*r+2)),n.lineno,n.col_offset);return i}function sn(t,e){return n.asserts.assert(fe(e)>0),e.type===ue.testlist_comp?fe(e)>1&&n.asserts.assert(be(e,1).type!==ue.comp_for):n.asserts.assert(e.type===ue.testlist||e.type===ue.testlist_safe||e.type===ue.testlist1),1===fe(e)?bn(t,be(e,0)):new Kt(Te(t,e),T,e.lineno,e.col_offset)}function un(t,e){var n,i,o,s,u,l,a;if(_e(e,ue.expr_stmt),1===fe(e))return new Et(sn(t,be(e,0)),e.lineno,e.col_offset);if(be(e,1).type===ue.augassign){switch((l=sn(t,a=be(e,0))).constructor){case Ft:throw new r.builtin.SyntaxError("augmented assignment to generator expression not possible",t.c_filename,e.lineno);case qt:throw new r.builtin.SyntaxError("augmented assignment to yield expression not possible",t.c_filename,e.lineno);case Xt:de(t,a,l.id,e.lineno);break;case Ht:case Wt:break;default:throw new r.builtin.SyntaxError("illegal expression for augmented assignment",t.c_filename,e.lineno)}return me(t,l,x,a),u=(a=be(e,2)).type===ue.testlist?sn(t,a):bn(t,a),new pt(l,rn(t,be(e,1)),u,e.lineno,e.col_offset)}for(_e(be(e,1),le.T_EQUAL),s=[],o=0;o<fe(e)-2;o+=2){if((a=be(e,o)).type===ue.yield_expr)throw new r.builtin.SyntaxError("assignment to yield expression not possible",t.c_filename,e.lineno);me(t,i=sn(t,a),x,be(e,o)),s[o/2]=i}return new ct(s,(n=be(e,fe(e)-1)).type===ue.testlist?sn(t,n):bn(t,n),e.lineno,e.col_offset)}function ln(t,e){return n.asserts.assert(5===fe(e)),new Ct(bn(t,be(e,2)),bn(t,be(e,0)),bn(t,be(e,4)),e.lineno,e.col_offset)}function an(t,e){var i=e.charAt(0),o=!1,s=!1;return(t.c_flags&g.CO_FUTURE_UNICODE_LITERALS||!0===r.python3)&&(s=!0),"u"===i||"U"===i?(i=(e=e.substr(1)).charAt(0),s=!0):"r"!==i&&"R"!==i||(i=(e=e.substr(1)).charAt(0),o=!0),n.asserts.assert("b"!==i&&"B"!==i,"todo; haven't done b'' strings yet"),n.asserts.assert("'"===i||'"'===i&&e.charAt(e.length-1)===i),e=e.substr(1,e.length-2),s&&(e=function(t){return unescape(encodeURIComponent(t))}(e)),e.length>=4&&e.charAt(0)===i&&e.charAt(1)===i&&(n.asserts.assert(e.charAt(e.length-1)===i&&e.charAt(e.length-2)===i),e=e.substr(2,e.length-4)),o||-1===e.indexOf("\\")?he(function(t){return decodeURIComponent(escape(t))}(e)):he(function(t,e){var n,r,i,o,s,u,l=t.length,a="";for(u=0;u<l;++u)"\\"===(s=t.charAt(u))?(++u,"n"===(s=t.charAt(u))?a+="\n":"\\"===s?a+="\\":"t"===s?a+="\t":"r"===s?a+="\r":"b"===s?a+="\b":"f"===s?a+="\f":"v"===s?a+="\v":"0"===s?a+="\0":'"'===s?a+='"':"'"===s?a+="'":"\n"===s||("x"===s?(o=t.charAt(++u),i=t.charAt(++u),a+=String.fromCharCode(parseInt(o+i,16))):"u"===s||"U"===s?(o=t.charAt(++u),i=t.charAt(++u),r=t.charAt(++u),n=t.charAt(++u),a+=String.fromCharCode(parseInt(o+i,16),parseInt(r+n,16))):a+="\\"+s)):a+=s;return a}(e))}function cn(t,e){var n,r,i,o,s;return _e(e,ue.subscript),o=null,i=null,r=null,(s=be(e,0)).type===le.T_DOT?new Zt:1===fe(e)&&s.type===ue.test?new ee(bn(t,s)):(s.type===ue.test&&(o=bn(t,s)),s.type===le.T_COLON?fe(e)>1&&(n=be(e,1)).type===ue.test&&(i=bn(t,n)):fe(e)>2&&(n=be(e,2)).type===ue.test&&(i=bn(t,n)),(s=be(e,fe(e)-1)).type===ue.sliceop&&(1===fe(s)?(s=be(s,0),r=new Xt(he("None"),T,s.lineno,s.col_offset)):(s=be(s,1)).type===ue.test&&(r=bn(t,s))),new Yt(o,i,r))}function pn(t,e){var i,o,s,u,l=be(e,0);switch(l.type){case le.T_NAME:return new Xt(he(l.value),T,e.lineno,e.col_offset);case le.T_STRING:return new Vt(function(t,e){var n,i;for(_e(be(e,0),le.T_STRING),i=new r.builtin.str(""),n=0;n<fe(e);++n)try{i=i.sq$concat(an(t,be(e,n).value))}catch(i){throw new r.builtin.SyntaxError("invalid string (possibly contains a unicode character)",t.c_filename,be(e,n).lineno)}return i}(t,e),e.lineno,e.col_offset);case le.T_NUMBER:return new Qt(function(t,e,n){var i,o,s,u=e.charAt(e.length-1);if("j"===u||"J"===u)return r.builtin.complex.complex_subtype_from_string(e);if("l"===u||"L"===u)return r.longFromStr(e.substr(0,e.length-1),0);if(-1!==e.indexOf("."))return new r.builtin.float_(parseFloat(e));if(s=e,i=!1,"-"===e.charAt(0)&&(s=e.substr(1),i=!0),"0"!==s.charAt(0)||"x"!==s.charAt(1)&&"X"!==s.charAt(1)){if(-1!==e.indexOf("e")||-1!==e.indexOf("E"))return new r.builtin.float_(parseFloat(e));"0"!==s.charAt(0)||"b"!==s.charAt(1)&&"B"!==s.charAt(1)?"0"===s.charAt(0)?"0"===s?o=0:("o"!==(s=s.substring(1)).charAt(0)&&"O"!==s.charAt(0)||(s=s.substring(1)),o=parseInt(s,8)):o=parseInt(s,10):(s=s.substring(2),o=parseInt(s,2))}else s=s.substring(2),o=parseInt(s,16);return o>r.builtin.int_.threshold$&&Math.floor(o)===o&&-1===e.indexOf("e")&&-1===e.indexOf("E")?r.longFromStr(e,0):i?new r.builtin.int_(-o):new r.builtin.int_(o)}(0,l.value,e.lineno),e.lineno,e.col_offset);case le.T_LPAR:return(l=be(e,1)).type===le.T_RPAR?new Kt([],T,e.lineno,e.col_offset):l.type===ue.yield_expr?bn(t,l):Me(t,l);case le.T_LSQB:return(l=be(e,1)).type===le.T_RSQB?new Jt([],T,e.lineno,e.col_offset):(_e(l,ue.listmaker),1===fe(l)||be(l,1).type===le.T_COMMA?new Jt(Te(t,l),T,e.lineno,e.col_offset):Fe(t,l));case le.T_LBRACE:if(s=[],o=[],l=be(e,1),e.type===le.T_RBRACE)return new Lt([],null,e.lineno,e.col_offset);if(1===fe(l)||0!==fe(l)&&be(l,1).type===le.T_COMMA){for(u=[],Math.floor((fe(l)+1)/2),i=0;i<fe(l);i+=2){var a=bn(t,be(l,i));u[i/2]=a}return new Ut(u,e.lineno,e.col_offset)}if(0!==fe(l)&&be(l,1).type==ue.comp_for)return en(t,l);if(fe(l)>3&&be(l,3).type===ue.comp_for)return Ye(t,l);for(Math.floor((fe(l)+1)/4),i=0;i<fe(l);i+=4)s[i/4]=bn(t,be(l,i)),o[i/4]=bn(t,be(l,i+2));return new Lt(s,o,e.lineno,e.col_offset);case le.T_BACKQUOTE:return new Gt(sn(t,be(e,1)),e.lineno,e.col_offset);default:n.asserts.fail("unhandled atom",l.type)}}function fn(t,e){var n,r,i,o;if(_e(e,ue.power),o=pn(t,be(e,0)),1===fe(e))return o;for(i=1;i<fe(e)&&(r=be(e,i)).type===ue.trailer;++i)(n=Ge(t,r,o)).lineno=o.lineno,n.col_offset=o.col_offset,o=n;return be(e,fe(e)-1).type===ue.factor&&(o=new Rt(o,L,bn(t,be(e,fe(e)-1)),e.lineno,e.col_offset)),o}function bn(t,e){var r,i,o,s,u;t:for(;;){switch(e.type){case ue.test:case ue.old_test:if(be(e,0).type===ue.lambdef||be(e,0).type===ue.old_lambdef)return Je(t,be(e,0));if(fe(e)>1)return ln(t,e);case ue.or_test:case ue.and_test:if(1===fe(e)){e=be(e,0);continue t}for(u=[],s=0;s<fe(e);s+=2)u[s/2]=bn(t,be(e,s));return"and"===be(e,1).value?new jt(A,u,e.lineno,e.col_offset):(n.asserts.assert("or"===be(e,1).value),new jt(O,u,e.lineno,e.col_offset));case ue.not_test:if(1===fe(e)){e=be(e,0);continue t}return new Nt(z,bn(t,be(e,1)),e.lineno,e.col_offset);case ue.comparison:if(1===fe(e)){e=be(e,0);continue t}for(o=[],i=[],s=1;s<fe(e);s+=2)o[(s-1)/2]=we(t,be(e,s)),i[(s-1)/2]=bn(t,be(e,s+1));return new Bt(bn(t,be(e,0)),o,i,e.lineno,e.col_offset);case ue.expr:case ue.xor_expr:case ue.and_expr:case ue.shift_expr:case ue.arith_expr:case ue.term:if(1===fe(e)){e=be(e,0);continue t}return on(t,e);case ue.yield_expr:return r=null,2===fe(e)&&(r=sn(t,be(e,1))),new qt(r,e.lineno,e.col_offset);case ue.factor:if(1===fe(e)){e=be(e,0);continue t}return qe(t,e);case ue.power:return fn(t,e);default:n.asserts.fail("unhandled expr","n.type: %d",e.type)}break}}function _n(t,e){var i;if(e.type===ue.stmt&&(n.asserts.assert(1===fe(e)),e=be(e,0)),e.type===ue.simple_stmt&&(n.asserts.assert(1===ye(e)),e=be(e,0)),e.type===ue.small_stmt)switch(_e(e,ue.small_stmt),(e=be(e,0)).type){case ue.expr_stmt:return un(t,e);case ue.print_stmt:return function(t,e){var n,r,i,o=1,s=null;for(_e(e,ue.print_stmt),fe(e)>=2&&be(e,1).type===le.T_RIGHTSHIFT&&(s=bn(t,be(e,2)),o=4),i=[],n=o,r=0;n<fe(e);n+=2,++r)i[r]=bn(t,be(e,n));return new ft(s,i,be(e,fe(e)-1).type!==le.T_COMMA,e.lineno,e.col_offset)}(t,e);case ue.del_stmt:return Ce(t,e);case ue.pass_stmt:return new St(e.lineno,e.col_offset);case ue.flow_stmt:return Qe(t,e);case ue.import_stmt:return De(t,e);case ue.global_stmt:return Le(t,e);case ue.exec_stmt:return Re(t,e);case ue.assert_stmt:return Ue(t,e);case ue.debugger_stmt:return new Ot(e.lineno,e.col_offset);default:n.asserts.fail("unhandled small_stmt")}else switch(i=be(e,0),_e(e,ue.compound_stmt),i.type){case ue.if_stmt:return Ne(t,i);case ue.while_stmt:return nn(t,i);case ue.for_stmt:return Be(t,i);case ue.try_stmt:return function(t,e){var i,o,s,u,l=fe(e),a=(l-3)/3,c=[],p=null;if(_e(e,ue.try_stmt),u=xe(t,be(e,2)),be(e,l-3).type===le.T_NAME)"finally"===be(e,l-3).value?(l>=9&&be(e,l-6).type===le.T_NAME&&(c=xe(t,be(e,l-4)),a--),p=xe(t,be(e,l-1)),a--):(c=xe(t,be(e,l-1)),a--);else if(be(e,l-3).type!==ue.except_clause)throw new r.builtin.SyntaxError("malformed 'try' statement",t.c_filename,e.lineno);if(a>0){for(s=[],o=0;o<a;++o)s[o]=ke(t,be(e,3+3*o),be(e,5+3*o));if(i=new mt(u,s,c,e.lineno,e.col_offset),!p)return i;u=[i]}return n.asserts.assert(null!==p),new vt(u,p,e.lineno,e.col_offset)}(t,i);case ue.with_stmt:return je(t,i);case ue.funcdef:return He(t,i,[]);case ue.classdef:return Xe(t,i,[]);case ue.decorated:return Ae(t,i);default:n.asserts.assert("unhandled compound_stmt")}}function hn(t,e,n){return e=e||2,function(r){var i=arguments[e-1],o=t.apply(void 0,arguments);return o.range=i.range,o.str=i.str,o.loc=i.loc,n&&(console.log(i),console.log(o)),o}}ve[le.T_VBAR]=D,ve[le.T_CIRCUMFLEX]=M,ve[le.T_AMPER]=F,ve[le.T_LEFTSHIFT]=U,ve[le.T_RIGHTSHIFT]=P,ve[le.T_PLUS]=j,ve[le.T_MINUS]=R,ve[le.T_STAR]=N,ve[le.T_SLASH]=I,ve[le.T_DOUBLESLASH]=q,ve[le.T_PERCENT]=C,r.astFromParse=function(t,e,r){var i,o,s,u,l=new pe("utf-8",e,r),a=[],c=0;switch(t.type){case ue.file_input:for(u=0;u<fe(t)-1;++u)if(s=be(t,u),t.type!==le.T_NEWLINE)if(_e(s,ue.stmt),1===(o=ye(s)))a[c++]=_n(l,s);else for(_e(s=be(s,0),ue.simple_stmt),i=0;i<o;++i)a[c++]=_n(l,be(s,2*i));return new nt(a);case ue.eval_input:n.asserts.fail("todo;");case ue.single_input:n.asserts.fail("todo;");default:n.asserts.fail("todo;")}},r.astDump=function(t){var e=function(t){var e,n="";for(e=0;e<t;++e)n+=" ";return n},i=function(t,o){var s,u,l,a,c,p,f,b,_,h,y;if(null===t)return o+"None";if(t.prototype&&void 0!==t.prototype._astname&&t.prototype._isenum)return o+t.prototype._astname+"()";if(void 0!==t._astname){for(y=e(t._astname.length+1),h=[],_=0;_<t._fields.length;_+=2)b=t._fields[_],f=t._fields[_+1](t),p=e(b.length+1),h.push([b,i(f,o+y+p)]);for(c=[],_=0;_<h.length;++_)a=h[_],c.push(a[0]+"="+a[1].replace(/^\s+/,""));return l=c.join(",\n"+o+y),o+t._astname+"("+l+")"}if(n.isArrayLike(t)){for(u=[],_=0;_<t.length;++_)s=t[_],u.push(i(s,o+" "));return o+"["+u.join(",\n").replace(/^\s+/,"")+"]"}return o+(!0===t?"True":!1===t?"False":t instanceof r.builtin.lng?t.tp$str().v:t instanceof r.builtin.str?t.$r().v:""+t)};return i(t,"")},n.exportSymbol("Sk.astFromParse",r.astFromParse),n.exportSymbol("Sk.astDump",r.astDump),pn=hn(pn),we=hn(we),xe=hn(xe),ke=hn(ke),Ee=hn(Ee),Se=hn(Se),$e=hn($e),Ae=hn(Ae),Oe=hn(Oe),je=hn(je),Re=hn(Re),Ne=hn(Ne),Ie=hn(Ie),Ce=hn(Ce),Le=hn(Le),Ue=hn(Ue),De=hn(De),Me=hn(Me),Fe=hn(Fe),qe=hn(qe),Be=hn(Be),Ge=hn(Ge),Qe=hn(Qe),Ve=hn(Ve),He=hn(He),We=hn(We),Xe=hn(Xe),Je=hn(Je),Ke=hn(Ke),Ze=hn(Ze),Ye=hn(Ye),tn=hn(tn),en=hn(en),nn=hn(nn),rn=hn(rn),on=hn(on),sn=hn(sn),un=hn(un),ln=hn(ln),bn=hn(bn),r.astFromParse=hn(r.astFromParse,1),r.nameForToken=function(t){if("string"==typeof t)return t;for(var e in r.Tokenizer.Tokens)if(r.Tokenizer.Tokens[e]==t)return e;return t in r.ParseTables.number2symbol?r.ParseTables.number2symbol[t]:"???:"+t},r.Parser=g,r.builtin.str.prototype.valueOf=function(){return this.v},r.builtin.str.prototype.toString=function(){return this.v},r.builtin.SyntaxError=function(t,e,n,r,i){var o=new SyntaxError(t,e,n);return o.context=r,o.extra=i,o.line=n,o},r.builtin.IndentationError=function(t,e,n,r,i){var o=new SyntaxError("Indentation Error: "+t,e,n);return o.context=[[n,r],[n,r]],o.extra={},o.line=n,o},t.exports=r}).call(e,function(){return this}())},function(t,e){"use strict";var n=Array.isArray;function r(t){if(t.prototype._astname)return t.prototype._astname;throw new Error("Coudlnt decode operator name for: "+(t.name||t.toString()))}function i(t){throw console.log(new Error("ABORT:"+t).stack),new Error(t)}var o=0;function s(t){return"__temp$"+t+"$"+o++}function u(t){var e=t;n(t)||(e=[e]);for(var r=0;r<e.length;++r){var i=e[r];/Expression$/.test(i.type)&&(e[r]={type:"ExpressionStatement",expression:i})}return n(t)?t:e[0]}function l(t){return{type:"Identifier",name:t.valueOf()}}function a(t,e){return{type:"MemberExpression",object:t,property:e,computed:!1}}function c(t){return"object"==typeof t&&(t=t.valueOf()),"number"==typeof t&&1/t!=1/Math.abs(t)?{type:"UnaryExpression",argument:c(-t),operator:"-"}:{type:"Literal",value:t,raw:JSON.stringify(t)}}function p(t,e,n){return{type:"BinaryExpression",left:t,right:n,operator:e}}function f(t,e,n){return{type:"LogicalExpression",left:t,right:n,operator:e}}function b(t,e,n){return{type:"ConditionalExpression",test:t,consequent:e,alternate:n}}function _(t,e){var o=function(t,e){e.locals||(e.locals=Object.create(null));if(!t)throw console.log("WAT!",(new Error).stack),new Error("What?");if(n(t)){for(var o=[],b=0;b<t.length;++b){var m=_(t[b],e);n(m)?o.push.apply(o,m):o.push(m)}return o}switch(t._astname){case"Attribute":return function(t,e){var n=t.attr;n=n._astname?_(n,e):{type:"Identifier",name:n.valueOf()};return a(_(t.value,e),n)}(t,e);case"Assign":return function(t,e){for(var n=[],r=0;r<t.targets.length;++r){var i=t.targets[r];e.writeTarget&&(i=a(e.writeTarget,_(i,e))),n.push.apply(n,v(i,_(t.value,e),e))}return 1==n.length?n[0]:{type:"BlockStatement",body:n}}(t,e);case"AugAssign":return function(t,e){var n=_(t.value,e),i=_(t.target,e),o=s("left"),a=r(t.op);return[(c=l(o),p=i,{type:"VariableDeclaration",kind:"var",declarations:[{type:"VariableDeclarator",id:c,init:p||void 0}]}),u({type:"AssignmentExpression",operator:"=",left:i,right:y(i,a,n)})];var c,p}(t,e);case"BinOp":return function(t,e){var n=_(t.left,e),i=_(t.right,e);return y(n,r(t.op),i)}(t,e);case"BoolOp":return function(t,e){for(var n=new Array(t.values.length),o=0;o<t.values.length;++o)n[o]=_(t.values[o],e);var s=r(t.op),u={And:"&&",Or:"||"};s in u||i("Unknown bool opeartor: "+s);var l=u[s],a=n.pop();for(;n.length>0;)a=f(n.pop(),l,a);return a}(t,e);case"Break":return{type:"BreakStatement"};case"Call":return function(t,e){if("Name"==t.func._astname)switch(t.func.id.v){case"len":return{type:"MemberExpression",object:_(t.args[0],e),property:{type:"Identifier",name:"length"}};case"all":case"ord":case"sum":case"any":case"str":case"chr":case"ascii":case"divmod":case"range":case"enumerate":case"round":case"filter":case"abs":case"float":case"int":case"hex":case"tuple":case"map":case"bool":case"max":case"sorted":case"min":case"list":case"oct":case"pow":case"reversed":case"repr":return{type:"CallExpression",callee:h("__pythonRuntime.functions."+t.func.id.v),arguments:_(t.args,e)};case"dict":for(var n=[],r=0;r<t.keywords.length;++r)n.push({type:"ArrayExpression",elements:[c(t.keywords[r].arg.v),_(t.keywords[r].value,e)]});return{type:"NewExpression",callee:h("__pythonRuntime.objects.dict"),arguments:n}}var n=_(t.args,e);if(t.keywords.length>0){for(var i={type:"ObjectExpression",properties:[{type:"Property",key:l("__kwp"),value:c(!0)}]},r=0;r<t.keywords.length;++r){var o=t.keywords[r];i.properties.push({type:"Property",key:l(o.arg.v),value:_(o.value,e)})}var s={type:"CallExpression",callee:h("__pythonRuntime.utils.createParamsObj"),arguments:[i]};n.push(s)}return{type:"CallExpression",callee:_(t.func,e),arguments:n}}(t,e);case"ClassDef":return function(t,e){var n=[],r=a(l(t.name),l("prototype")),i={writeTarget:r,inClass:!0,locals:Object.create(null)};t.bases.length>1&&alert("Multiple base classes not supported.");var o=t.bases.length>0?_(t.bases[0],e):void 0,s=[];s.push({type:"VariableDeclaration",kind:"var",declarations:[{type:"VariableDeclarator",id:l("that"),init:{type:"ThisExpression"}}]}),s.push({type:"IfStatement",test:{type:"UnaryExpression",argument:p(l("that"),"instanceof",l(t.name)),operator:"!"},consequent:u({type:"AssignmentExpression",left:l("that"),right:{type:"CallExpression",callee:h("Object.create"),arguments:[r]},operator:"="})}),s.push({type:"IfStatement",test:{type:"CallExpression",callee:a(r,l("hasOwnProperty")),arguments:[c("__init__")]},consequent:u({type:"CallExpression",callee:a(a(r,l("__init__")),l("apply")),arguments:[l("that"),l("arguments")]})}),o&&s.push(u({type:"CallExpression",callee:{type:"MemberExpression",object:o,property:l("apply"),computed:!1},arguments:[l("that"),l("arguments")]}));s.push({type:"ReturnStatement",argument:l("that")}),n.push({type:"FunctionDeclaration",id:l(t.name),params:[],body:{type:"BlockStatement",body:s}}),o&&n.push({type:"AssignmentExpression",left:r,right:{type:"CallExpression",callee:h("Object.create"),arguments:[a(o,l("prototype"))]},operator:"="});return(n=n.concat(_(t.body,i))).push({type:"ReturnStatement",argument:l(t.name)}),{type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:l(t.name),init:{type:"CallExpression",callee:{type:"FunctionExpression",params:[],body:{type:"BlockStatement",body:u(n)}},arguments:[]}}],kind:e.varType||"var"}}(t,e);case"Continue":return{type:"ContinueStatement"};case"Compare":return function(t,e){for(var n,r=_(t.left,e),i=0;i<t.comparators.length;++i){var o=_(t.comparators[i],e),s=d(r,t.ops[i],o);n=n?f(n,"&&",s):s,r=o}return n}(t,e);case"Dict":return function(t,e){for(var n=[],r=0;r<t.keys.length;++r)n.push({type:"ArrayExpression",elements:[_(t.keys[r],e),_(t.values[r],e)]});return{type:"NewExpression",callee:h("__pythonRuntime.objects.dict"),arguments:n}}(t,e);case"Delete":return function(t,e){for(var n=[],r=0;r<t.targets.length;++r){var i=t.targets[r],o=_(i,e);n.push({type:"AssignmentExpression",operator:"=",left:o,right:{type:"UnaryExpression",argument:c(0),operator:"void",prefix:!0}})}return u({type:"SequenceExpression",expressions:n})}(t,e);case"Expr":return function(t,e){return{type:"ExpressionStatement",expression:_(t.value,e)}}(t,e);case"For":return function(t,e){var n=l(s("idx")),r={type:"Identifier",name:s("target")},o=_(t.iter,e),a=u(_(t.body,e));t.orelse&&t.orelse.length>0&&i("else: for-else statement unsupported.");return g(n,r,o,t.target,a,e)}(t,e);case"FunctionDef":return function(t,e){var n=w(t,e);return e.writeTarget?u({type:"AssignmentExpression",left:{type:"MemberExpression",object:e.writeTarget,property:l(t.name)},right:{type:"FunctionExpression",name:l(t.name),params:n.params,body:{type:"BlockStatement",body:n.body}},operator:"="}):{type:"FunctionDeclaration",id:{type:"Identifier",name:t.name.v},params:n.params,body:{type:"BlockStatement",body:n.body}}}(t,e);case"GeneratorExp":return T(t,e);case"Global":return function(t,e){for(var n=0;n<t.names.length;++n)e.locals[t.names[n].v]=!0;return[]}(t,e);case"If":return function(t,e){var n=u(_(t.body,e));return{type:"IfStatement",test:_(t.test,e),consequent:{type:"BlockStatement",body:n},alternate:t.orelse&&t.orelse.length>0?{type:"BlockStatement",body:u(_(t.orelse,e))}:void 0}}(t,e);case"Import":return[];case"Lambda":return function(t,e){var n=w(t,e),r=n.body[n.body.length-1];return n.body[n.body.length-1]={type:"ReturnStatement",argument:r.expression},{type:"FunctionExpression",params:n.params,body:{type:"BlockStatement",body:n.body}}}(t,e);case"List":return function(t,e){return{type:"CallExpression",callee:h("__pythonRuntime.objects.list"),arguments:_(t.elts,e)}}(t,e);case"ListComp":return T(t,e);case"Module":return function(t,e){return{type:"Program",body:u(_(t.body,e))}}(t,e);case"Name":return function(t,e){return"True"===t.id.v?{type:"Literal",value:!0,raw:"true"}:"False"===t.id.v?{type:"Literal",value:!1,raw:"false"}:"None"===t.id.v?{type:"Literal",value:null,raw:"null"}:"random"===t.id.v?h("__pythonRuntime.imports.random"):l(t.id)}(t);case"Print":return function(t,e){return{type:"CallExpression",callee:h("console.log"),arguments:_(t.values,e)}}(t,e);case"Return":return function(t,e){return{type:"ReturnStatement",argument:t.value?_(t.value,e):void 0}}(t,e);case"Str":return function(t,e){return c(t.s.valueOf())}(t);case"Subscript":return function(t,e){var n=_(t.value,e);if(t.slice.value){var r=_(t.slice.value,e);return r={type:"CallExpression",callee:h("__pythonRuntime.ops.subscriptIndex"),arguments:[n,r]},{type:"MemberExpression",computed:!0,object:n,property:r}}return{type:"CallExpression",callee:h("__pythonRuntime.internal.slice"),arguments:[n,t.slice.lower?_(t.slice.lower,e):l("undefined"),t.slice.upper?_(t.slice.upper,e):l("undefined"),t.slice.step?_(t.slice.step,e):l("undefined")]}}(t,e);case"Tuple":return function(t,e){return{type:"CallExpression",callee:h("__pythonRuntime.objects.tuple"),arguments:_(t.elts,e)}}(t,e);case"Num":return function(t,e){return c(t.n)}(t);case"Pass":return{type:"EmptyStatement"};case"UnaryOp":return function(t,e){var n=_(t.operand,e),o={Add:"add",Mult:"multiply"},s=r(t.op);if(s in o){var u={type:"CallExpression",callee:h("__pythonRuntime.ops."+o[s]),arguments:[n]};return u}var l={Not:"!",USub:"-",Invert:"~"};s in l||i("Unknown unary operator: "+s);return{type:"UnaryExpression",argument:n,operator:l[s]}}(t,e);case"While":return function(t,e){t.orelse&&t.orelse.length>0&&i("else: statement for while unsupported.");return{type:"WhileStatement",test:_(t.test,e),body:{type:"BlockStatement",body:u(_(t.body,e))}}}(t,e);default:throw console.log("Dont know how to transform: "+t._astname),console.log(JSON.stringify(t,null,"  ")),new Error("Dont know how to transform: "+t._astname)}}(t,e);return t.range&&(o.range=[t.range[0],t.range[1]]),t.loc&&(o.loc=t.loc),o.str=t.str,o}function h(t){var e=Array.isArray(t)?t:t.split(/\./g);if(1===e.length)return l(t);var n=e.pop();return a(h(e),l(n))}function y(t,e,n){if("FloorDiv"===e)return{type:"CallExpression",callee:h("Math.floor"),arguments:[{type:"BinaryExpression",left:t,right:n,operator:"/"}]};var r={Add:"__pythonRuntime.ops.add",Mult:"__pythonRuntime.ops.multiply",Pow:"Math.pow"};if(e in r)return{type:"CallExpression",callee:h(r[e]),arguments:[t,n]};var o={Add:"+",Sub:"-",Mod:"%",Div:"/",BitAnd:"&",BitOr:"|",BitXor:"^",LShift:"<<",RShift:">>"};return e in o||i("Unknown binary operator: "+e),p(t,o[e],n)}function d(t,e,n){var o={In_:"in",In:"in",NotIn:"in"},s=r(e);if(s in o){var u={type:"CallExpression",callee:h("__pythonRuntime.ops."+o[s]),arguments:[t,n]};return"NotIn"==s?{type:"UnaryExpression",argument:u,operator:"!"}:u}var l={Eq:"===",NotEq:"!==",LtE:"<=",Lt:"<",GtE:">=",Gt:">",Is:"===",IsNot:"!=="};return s in l||i("Unsuported Compare operator: "+s),p(t,l[s],n)}function m(t,e,n){var r,i=t._astname?_(t,n):t;return"Identifier"===i.type&&(r=i.name),r&&n&&n.locals&&!n.locals[r]?(n.locals[r]=!0,{type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:i,init:e}],kind:n.varType||"var"}):{type:"ExpressionStatement",expression:{type:"AssignmentExpression",operator:"=",left:i,right:e}}}function v(t,e,n){if("Tuple"===t._astname){var r=[],i=s("right");r.push({type:"VariableDeclaration",kind:"var",declarations:[{type:"VariableDeclarator",id:l(i),init:e}]});for(var o=0;o<t.elts.length;++o)r.push.apply(r,v(t.elts[o],{type:"MemberExpression",object:l(i),property:c(o),computed:!0},n));return r}return[m(t,e,n)]}function g(t,e,n,r,i,o){i=v(r,{type:"MemberExpression",object:e,property:t,computed:!0},o).concat(i);var s=b({type:"CallExpression",callee:h("Array.isArray"),arguments:[n]},n,{type:"CallExpression",callee:h("Object.keys"),arguments:[n]});return{type:"ForStatement",init:{type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:t,init:c(0)},{type:"VariableDeclarator",id:e,init:s}],kind:o.varType},test:p(t,"<",{type:"MemberExpression",object:e,property:{type:"Identifier",name:"length"}}),update:{type:"UpdateExpression",operator:"++",prefix:!0,argument:t},body:{type:"BlockStatement",body:i}}}function w(t,e){var n=t.args.args.slice(0);e.inClass&&n.shift();var r=n.length>0||t.args.vararg||t.args.kwarg,i={locals:Object.create(null),varType:e.varType},o=u(_(t.body,i)),a=[];if(e.inClass&&a.push({type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:l("self"),init:{type:"ThisExpression"}}],kind:"var"}),r){var y=s("hasParams"),d=s("param0"),m=s("realArgCount"),v=h("arguments.length"),g={type:"MemberExpression",object:l("arguments"),property:p(v,"-",c(1)),computed:!0},w={type:"MemberExpression",object:g,property:l("keywords"),computed:!1};a.push({type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:l(y),init:f(p(v,">",c(0)),"&&",f(g,"&&",w))}],kind:"var"});var T=[];T.push({type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:l(d),init:b(l(y),w,{type:"ObjectExpression",properties:[]})},{type:"VariableDeclarator",id:l(m),init:p(v,"-",b(l(y),c(1),c(0)))}],kind:"var"});for(var x=0;x<n.length;++x){var k=t.args.args[x],E=x-(t.args.args.length-t.args.defaults.length),S=E>=0?_(t.args.defaults[E],e):l("undefined");T.push({type:"IfStatement",test:p(l(m),"<",c(x+1)),consequent:u({type:"AssignmentExpression",operator:"=",left:l(k.id),right:b(p(c(k.id),"in",l(d)),{type:"MemberExpression",object:l(d),property:l(k.id),computed:!1},S)})})}if(t.args.vararg&&T.push({type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:l(t.args.vararg),init:{type:"CallExpression",callee:h("Array.prototype.slice.call"),arguments:[l("arguments"),c(t.args.args.length),r?l(m):void 0]}}],kind:"var"}),t.args.kwarg){for(x=0;x<t.args.args.length;++x)T.push(u({type:"UnaryExpression",operator:"delete",argument:{type:"MemberExpression",object:l(d),property:l(t.args.args[x].id),computed:!1}}));T.push({type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:l(t.args.kwarg),init:l(d)}],kind:"var"})}a=a.concat(T)}return o=a.concat(o),{premble:a,body:o,params:_(n,e)}}function T(t,e){var n=[],r=s("result");n.push({type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:l(r),init:{type:"NewExpression",callee:h("__pythonRuntime.objects.list"),arguments:[]}}],kind:"var"});var i=[];i.push(u({type:"CallExpression",callee:{type:"MemberExpression",object:l(r),property:l("push"),computed:!1},arguments:[_(t.elt,e)]}));for(var o=t.generators[0],a=t.generators.length-1;a>=0;--a){for(var c=s("idx"),p=s("list"+a),f=s("iter"),b=(o=t.generators[a],0);b<o.ifs.length;++b)i.unshift({type:"IfStatement",test:{type:"UnaryExpression",argument:_(o.ifs[b],e),operator:"!"},consequent:{type:"ContinueStatement"}});i=[{type:"VariableDeclaration",kind:"var",declarations:[{type:"VariableDeclarator",id:l(p),init:_(o.iter,e)}]},g(l(c),l(f),l(p),o.target,i,e)]}return n.push.apply(n,i),n.push({type:"ReturnStatement",argument:l(r)}),{type:"CallExpression",callee:{type:"FunctionExpression",params:[],body:{type:"BlockStatement",body:n}},arguments:[]}}t.exports=_},function(t,e,n){"use strict";var r=n(1);function i(t,e,n){t.loc={line:e,column:n},t.line=e,t.column=n}function o(t){switch(t){case"if_stmt":return"if statement";case"while_stmt":return"while statement";case"funcdef":return"function";default:return"?"+t+"?"}}t.exports=function(t,e,n){var s;t.context&&t.context.length>0&&(s=t.context[0]),t.extra&&t.extra.node&&(s||(s=[t.extra.node.loc.start.line,t.extra.node.loc.start.column])),s&&i(t,s[0],s[1]),e.friendlyErrors&&t.extra&&(t.message=function(t,e){if("DAG_MISS"==t.extra.kind){if(-1!==t.extra.expected.indexOf("T_COLON")){var n=(t.context&&t.context[2]?t.context[2]:t.extra.found_val).replace(/\s+$/,""),s=t.extra.node.children[t.extra.node.children.length-1];if("else"===s.value&&(n="else"),"T_SEMI"==t.extra.found)return"Replace the `;` at the end of `"+n+"` with a `:`";if("T_NEWLINE"==t.extra.found)return"Need a `:` on the end of the line following `"+n+"`.";if("T_NAME"==t.extra.found)return"Need a `:` after `"+n+"`.";if("T_EQUAL"==t.extra.found)return"Can't assign to a variable within the condition of an "+o(t.extra.inside)+".  Did you mean to use `==` instead of `=`?"}if(-1!==t.extra.expected.indexOf("T_DEDENT"))return"else"===t.extra.found_val.toLowerCase()?"`else` needs to line up with its `if`.":"Indentation error.";if(-1!==t.extra.expected.indexOf("T_INDENT")){var s=t.extra.parent||t.extra.node,u=function t(e){var n=r.nameForToken(e.type);return"suite"===n?t(e.children[0]):o(n)}(s);if("if statement"===u)for(var l=0;l<s.children.length;++l)-1!==["if","elif","else"].indexOf(s.children[l].value)&&(u=s.children[l].value+" statement");return"else"===s.value&&(u="else statement"),"Empty "+u+". Put 4 spaces in front of statements inside the "+u+"."}if("T_NAME"===t.extra.found)switch(t.extra.found_val){case"else":case"elif":return"`"+t.extra.found_val+"` must be paired with an `if`";case"elseif":return"`elseif` should be shortened to `elif`"}if("T_AMPER"===t.extra.found&&"and_expr"==t.extra.inside)return"Python uses the word `and` instead of `&&` for boolean AND expressions.";if("trailer"===t.extra.inside&&0===t.extra.expected.indexOf("T_RPAR")){if(t.line>t.extra.node.lineno){i(t,t.extra.node.lineno,t.extra.node.col_offset);var a=t.extra.node.loc;return t.context=[[a.start.line,a.start.column],[a.end.line,a.end.column]],"Unclosed `(` in function arguments."+t.extra.node.lineno}return"Function calls paramaters must be seperated by `,`s"}if("T_INDENT"===t.extra.found&&-1!==t.extra.expected.indexOf("stmt"))return"Too much indentation at the beginning of this line.";if(0===t.extra.expected.indexOf("subscriptlist"))return"Malformed subscript";if(-1!==t.extra.expected.indexOf("T_NEWLINE")){var c=t.extra.node;if(t.extra.node.children[0]){var c=t.extra.node.children[0],p=r.nameForToken(c.type);if("small_stmt"==p){for(;c.children&&1==c.children.length;)c=c.children[0];var f=e.substring(c.range[0],c.range[1]);return"If you want to call `"+f+"` as function, you need `()`'s"}}}return"Unexpected token: "+t.message}if("CLASSIFY"==t.extra.kind)return'"'===t.extra.value?'Unterminated string. Add a matching `"` at the end of your string.':"Unterminated `"+t.extra.value+"`";if("STRING_EOF"==t.extra.kind)return'Unterminated muti-line string. Add a matching `"""` at the end of your string.';if("STATEMENT_EOF"==t.extra.kind){if(t.extra.parenlev>0){var b=t.extra.parenstack[t.extra.parenstack.length-1],_=b[0],h=")]}"["([{".indexOf(_)];return i(t,b[1],b[2]-1),"Unmatched `"+_+"`.  Every opening `"+_+"` needs a closing `"+h+"` to match it."}return t.message}return t.message}(t,n))}},function(t,e,n){!function(e,n){"use strict";t.exports=function(){var t={internal:{isSeq:function(t){return t&&("list"===t._type||"tuple"===t._type)},slice:function(e,n,r,i){var o;o="string"==typeof e?function(t,n){return e.substring(t,n)}:e.slice.bind(e),null!=i&&0!==i||(i=1),null==n?n=i<0?e.length-1:0:n<0&&(n+=e.length),null==r?r=i<0?-1:e.length:r<0&&(r+=e.length);var s,u,l=new t.objects.list;if(i<0)for(s=o(r+1,n+1),u=s.length-1;u>=0;u+=i)l.append(s[u]);else if(s=o(n,r),1===i&&"string"!=typeof s)l=t.utils.createList(s);else for(u=0;u<s.length;u+=i)l.append(s[u]);return"string"==typeof e?l.join(""):l},isJSArray:Array.isArray||function(t){return"[object Array]"===toString.call(t)}},utils:{createDict:function(){var e=new t.objects.dict;if(!(1===arguments.length&&arguments[0]instanceof Object))throw TypeError("createDict expects a single JavaScript object");for(var n in arguments[0])e[n]=arguments[0][n];return e},createParamsObj:function(){for(var n={formals:new t.objects.list,keywords:new e},r=0;r<arguments.length;r++)if(arguments[r]&&!0===arguments[r].__kwp)for(var i in arguments[r])"__kwp"!==i&&(n.keywords[i]=arguments[r][i]);else n.formals.push(arguments[r]);return n},convertToList:function(e){return Object.defineProperties(e,t.utils.listPropertyDescriptor),e},convertToDict:function(e){return Object.defineProperties(e,t.utils.dictPropertyDescriptor),e},listPropertyDescriptor:{_type:{value:"list",writable:!1,enumerable:!1},_isPython:{value:!0,writable:!1,enumerable:!1},append:{value:function(t){this.push(t)},enumerable:!1},clear:{value:function(){this.splice(0,this.length)},enumerable:!1},copy:{value:function(){return this.slice(0)},enumerable:!1},count:{value:function(t){for(var e=0,n=0;n<this.length;n++)this[n]===t&&e++;return e},enumerable:!1},equals:{value:function(t){try{if(this.length!==t.length)return!1;for(var e=0;e<this.length;e++)if(this[e].hasOwnProperty("equals")){if(!this[e].equals(t[e]))return!1}else if(this[e]!==t[e])return!1;return!0}catch(t){}return!1},enumerable:!1},extend:{value:function(t){for(var e=0;e<t.length;e++)this.push(t[e])},enumerable:!1},index:{value:function(t){return this.indexOf(t)},enumerable:!1},indexOf:{value:function(t,e){try{for(var n=e||0;n<this.length;n++)if(this[n].hasOwnProperty("equals")){if(this[n].equals(t))return n}else if(this[n]===t)return n}catch(t){}return-1},enumerable:!1},insert:{value:function(t,e){this.splice(t,0,e)},enumerable:!1},pop:{value:function(t){arguments.length<1&&(t=this.length-1);var e=this[t];return this.splice(t,1),e},enumerable:!1},_pySlice:{value:function(e,n,r){return t.internal.slice(this,e,n,r)},enumerable:!1},remove:{value:function(t){this.splice(this.indexOf(t),1)},enumerable:!1},sort:{value:function(t,e){var n=this.slice(0),r=function(e,r){var i=n.map(t),o={};for(var s in i)o[i[s]]=n[s];for(var s in r?i.sort(function(t,e){return t-e}):i.sort(),e)e[s]=o[i[s]]};for(var i in this)if("number"!=typeof this[i]||!isFinite(this[i])){if(void 0!==t)r(this,!1);else for(var o in n.sort(),this)this[o]=n[o];return void(e&&this.reverse())}if(void 0!==t)r(this,!0);else for(var i in n.sort(function(t,e){return t-e}),this)this[i]=n[i];e&&this.reverse()},enumerable:!1},toString:{value:function(){return"["+this.join(", ")+"]"},enumerable:!1}},createList:function(){var e=new t.objects.list;if(1===arguments.length&&arguments[0]instanceof Array)for(var n in arguments[0])e.push(arguments[0][n]);else for(var n in arguments)e.push(arguments[n]);return e},dictPropertyDescriptor:{_type:{value:"dict",writable:!1},_isPython:{value:!0,enumerable:!1},items:{value:function(){var e=new t.objects.list;for(var n in this)e.append(new t.objects.tuple(n,this[n]));return e},enumerable:!1},length:{get:function(){return Object.keys(this).length},enumerable:!1},clear:{value:function(){for(var t in this)delete this[t]},enumerable:!1},get:{value:function(t,e){return t in this?this[t]:void 0!==e?e:null},enumerable:!1},keys:{value:function(){return Object.keys(this)},enumerable:!1},pop:{value:function(t,e){var n;if(t in this)n=this[t],delete this[t];else{if(void 0===e)return new Error("KeyError");n=e}return n},enumerable:!1},values:{value:function(){var e=new t.objects.list;for(var n in this)e.append(this[n]);return e},enumerable:!1}}},ops:{add:function(e,n){if("object"==typeof e&&t.internal.isSeq(e)&&t.internal.isSeq(n)){if(e._type!==n._type)throw TypeError("can only concatenate "+e._type+" (not '"+n._type+"') to "+e._type);var r;if("list"===e._type?r=new t.objects.list:"tuple"===e._type&&(r=new t.objects.tuple),r){for(var i=0;i<e.length;i++)r.push(e[i]);for(var i=0;i<n.length;i++)r.push(n[i]);return r}}return e+n},in:function(t,e,n){var r=e.hasOwnProperty("indexOf")?e.indexOf(t)>=0:t in e;return n?!r:r},multiply:function(e,n){if("object"==typeof e)if(t.internal.isSeq(e)&&!isNaN(parseInt(n))){if("list"===e._type?o=new t.objects.list:"tuple"===e._type&&(o=new t.objects.tuple),o){for(var r=0;r<n;r++)for(var i=0;i<e.length;i++)o.push(e[i]);return o}}else if(t.internal.isSeq(n)&&!isNaN(parseInt(e))){var o;if("list"===n._type?o=new t.objects.list:"tuple"===n._type&&(o=new t.objects.tuple),o){for(var r=0;r<e;r++)for(var i=0;i<n.length;i++)o.push(n[i]);return o}}return e*n},subscriptIndex:function(e,n){return n>=0?n:t.internal.isSeq(e)?e.length+n:t.internal.isJSArray(e)?e.length+n:"string"==typeof e?e.length+n:n}},objects:{dict:function(){for(var t=new e,n=0;n<arguments.length;++n)t[arguments[n][0]]=arguments[n][1];return t},list:function(){var e=[];return e.push.apply(e,arguments),t.utils.convertToList(e),e},tuple:function(){var e=[];return e.push.apply(e,arguments),Object.defineProperty(e,"_type",{get:function(){return"tuple"},enumerable:!1}),Object.defineProperty(e,"_isPython",{get:function(){return!0},enumerable:!1}),Object.defineProperty(e,"count",{value:function(t){for(var e=0,n=0;n<this.length;n++)this[n]===t&&e++;return e},enumerable:!1}),Object.defineProperty(e,"equals",{value:function(t){try{if(this.length!==t.length)return!1;for(var e=0;e<this.length;e++)if(this[e].hasOwnProperty("equals")){if(!this[e].equals(t[e]))return!1}else if(this[e]!==t[e])return!1;return!0}catch(t){}return!1},enumerable:!1}),Object.defineProperty(e,"index",{value:function(t){return this.indexOf(t)},enumerable:!1}),Object.defineProperty(e,"indexOf",{value:function(t,e){try{for(var n=e||0;n<this.length;n++)if(this[n].hasOwnProperty("equals")){if(this[n].equals(t))return n}else if(this[n]===t)return n}catch(t){}return-1},enumerable:!1}),Object.defineProperty(e,"_pySlice",{value:function(e,n,r){return t.internal.slice(this,e,n,r)},enumerable:!1}),Object.defineProperty(e,"toString",{value:function(){var t="("+this.join(", ");return 1===this.length&&(t+=","),t+=")"},enumerable:!1}),e}},functions:{abs:function(t){return Math.abs(t)},all:function(e){for(var n in e)if(!0!==t.functions.bool(e[n]))return!1;return!0},any:function(e){for(var n in e)if(!0===t.functions.bool(e[n]))return!0;return!1},ascii:function(e){for(var n,r=t.functions.repr(e),i="",o=0;o<r.length;o++)(n=r.charCodeAt(o))<=127?i+=r[o]:n<=255?i+="\\x"+n.toString(16):55296<=n&&n<=56319?(n=1024*(n-55296)+(r.charCodeAt(++o)-56320)+65536,i+="\\U"+("000"+n.toString(16)).slice(-8)):n<=65535?i+="\\u"+("0"+n.toString(16)).slice(-4):n<=1114111&&(i+="\\U"+("000"+n.toString(16)).slice(-8));return i},bool:function(t){return!(null==t||!1===t||0===t||0===t.length||void 0!==t.__bool__&&!1===t.__bool__()||void 0!==t.__len__&&(!1===t.__len__()||0===t.__len__()))},chr:function(t){return String.fromCharCode(t)},divmod:function(e,n){return t.objects.tuple(Math.floor(e/n),e%n)},enumerate:function(e,n){n=n||0;var r=new t.objects.list;for(var i in e)r.push(new t.objects.tuple(n++,e[i]));return r},filter:function(e,n){e=e||function(){return!0};var r=new t.objects.list;for(var i in n)e(n[i])&&r.push(n[i]);return r},float:function(t){return void 0===t?0:"string"==typeof t?(t=t.trim().toLowerCase(),null!==/^[+-]?inf(inity)?$/i.exec(t)?1/0*("-"===t[0]?-1:1):null!==/^nan$/i.exec(t)?NaN:parseFloat(t)):"number"==typeof t?t:void 0!==t.__float__?t.__float__():null},hex:function(t){return t.toString(16)},int:function(t){return parseInt(t)},len:function(t){return t.length},list:function(e){var n=new t.objects.list;if(0==arguments.length)return n;if(arguments.length>1)throw new TypeError("list() takes at most 1 argument ("+arguments.length+" given)");if(e instanceof Array)for(var r in e)n.push(e[r]);else for(var r in e)n.push(r);return n},map:function(e,n){var r=new t.objects.list;for(var i in n)r.push(e(n[i]));return r},max:function(t,e){if(e)return t>=e?t:e;var n=null;for(var r in t)(null===n||t[r]>n)&&(n=t[r]);return n},min:function(t,e){if(e)return t<=e?t:e;var n=null;for(var r in t)(null===n||t[r]<n)&&(n=t[r]);return n},oct:function(t){return t.toString(8)},ord:function(t){return t.charCodeAt(0)},pow:function(t,e,n){return n?Math.pow(t,e)%n:Math.pow(t,e)},print:function(){for(var t="",e=0;e<arguments.length;e++)t+=0===e?arguments[e]:" "+arguments[e];console.log(t)},range:function(e,n,r){void 0===n?(n=e,e=0,r=1):void 0===r&&(r=1);var i=~~((n-e)/r);if(i<0)return t.utils.convertToList([]);for(var o=new Array(i),s=0,u=e;u<n&&r>0||u>n&&r<0;)o[s++]=u,u+=r;return t.utils.convertToList(o),o},repr:function(t){return"string"==typeof t?"'"+t+"'":void 0!==t.__repr__?t.__repr__():void 0!==t.__class__&&void 0!==t.__class__.module&&t.__class__.__name__?"<"+t.__class__.__module__+"."+t.__class__.__name__+" object>":t.toString()},reversed:function(e){var n=new t.objects.list;for(var r in e)n.push(e[r]);return n.reverse()},round:function(t,e){if(e){var n=Math.pow(10,e);return Math.round(t*n)/n}return Math.round(t)},sorted:function(e,n,r){var i=new t.objects.list;for(var o in e)i.push(e[o]);return n?i.sort(n):i.sort(),r&&i.reverse(),i},str:function(t){return t.toString()},sum:function(t,e){var n=e||0;for(var r in t)n+=t[r];return n},tuple:function(e){var n=new t.objects.tuple;for(var r in e)n.push(e[r]);return n}},imports:{random:{random:function(){return Math.random()}}}};function e(){}return Object.defineProperties(e.prototype,t.utils.dictPropertyDescriptor),t}()}()}])},t.exports=r()},function(t,e,n){"use strict";(function(e){const r=n(5),i=n(6);let o;o=r.readFileSync?r.readFileSync(i.join(e,"node_modules","skulpty","lib","stdlib.js"),"utf8"):n(8),t.exports=o.replace(/^var pythonRuntime = module.exports/,"var __pythonRuntime")}).call(this,"/")},function(t,e){},function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(t){return r.exec(t).slice(1)};function o(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e="",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var s=i>=0?arguments[i]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,r="/"===s.charAt(0))}return(r?"/":"")+(e=n(o(e.split("/"),function(t){return!!t}),!r).join("/"))||"."},e.normalize=function(t){var r=e.isAbsolute(t),i="/"===s(t,-1);return(t=n(o(t.split("/"),function(t){return!!t}),!r).join("/"))||r||(t="."),t&&i&&(t+="/"),(r?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(o(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),o=r(n.split("/")),s=Math.min(i.length,o.length),u=s,l=0;l<s;l++)if(i[l]!==o[l]){u=l;break}var a=[];for(l=u;l<i.length;l++)a.push("..");return(a=a.concat(o.slice(u))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=i(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},e.basename=function(t,e){var n=i(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return i(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n(7))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var l,a=[],c=!1,p=-1;function f(){c&&l&&(c=!1,l.length?a=l.concat(a):p=-1,a.length&&b())}function b(){if(!c){var t=u(f);c=!0;for(var e=a.length;e;){for(l=a,a=[];++p<e;)l&&l[p].run();p=-1,e=a.length}l=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function _(t,e){this.fun=t,this.array=e}function h(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];a.push(new _(t,e)),1!==a.length||c||u(b)},_.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=h,i.addListener=h,i.once=h,i.off=h,i.removeListener=h,i.removeAllListeners=h,i.emit=h,i.prependListener=h,i.prependOnceListener=h,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e){t.exports='(function (root, factory) {\n  \'use strict\';\n  if(typeof exports === \'object\' && typeof module === \'object\')\n    module.exports = factory();\n  else if(typeof define === \'function\' && define.amd)\n    define([], factory);\n  else if(typeof exports === \'object\')\n    exports["__pythonRuntime"] = factory();\n  else\n    root["__pythonRuntime"] = factory();\n}(this, function() {\n  \'use strict\';\n  var pythonRuntime = {\n    internal: {\n      // Only used within runtime\n      isSeq: function (a) { return a && (a._type === "list" || a._type === "tuple"); },\n      slice: function (obj, start, end, step) {\n        var slice;\n        if ( typeof obj === \'string\' ) slice = function(x,y) { return obj.substring(x,y); }\n        else slice = obj.slice.bind(obj);\n\n        if (step == null || step === 0) step = 1; // TODO: step === 0 is a runtime error\n        if (start == null) {\n          if (step < 0) start = obj.length - 1;\n          else start = 0;\n        } else if (start < 0) start += obj.length;\n        if (end == null) {\n          if (step < 0) end = -1;\n          else end = obj.length;\n        } else if (end < 0) end += obj.length;\n\n        var ret = new pythonRuntime.objects.list(), tmp, i;\n        if (step < 0) {\n          tmp = slice(end + 1, start + 1);\n          for (i = tmp.length - 1; i >= 0; i += step) ret.append(tmp[i]);\n        } else {\n          tmp = slice(start, end);\n          if (step === 1 && typeof tmp !== \'string\') ret = pythonRuntime.utils.createList(tmp);\n          else for (i = 0; i < tmp.length; i += step) ret.append(tmp[i]);\n        }\n        if ( typeof obj === \'string\' ) return ret.join(\'\');\n        return ret;\n      },\n      isJSArray: Array.isArray || function(obj) {\n        return toString.call(obj) === \'[object Array]\';\n      }\n    },\n\n    utils: {\n      createDict: function () {\n        var ret = new pythonRuntime.objects.dict();\n        if (arguments.length === 1 && arguments[0] instanceof Object)\n          for (var k in arguments[0]) ret[k] = arguments[0][k];\n        else\n          throw TypeError("createDict expects a single JavaScript object");\n        return ret;\n      },\n      createParamsObj: function () {\n        // In: expr, expr, ..., {id:expr, __kwp:true}, {id:expr, __kwp:true}, ...\n        // Out: {formals:[expr, expr, ...], keywords:{id:expr, id:expr, ...}}\n        var params = { formals: new pythonRuntime.objects.list(), keywords: new PythonDict() };\n        for (var i = 0; i < arguments.length; i++) {\n          if (arguments[i] && arguments[i].__kwp === true) {\n            for (var k in arguments[i])\n              if (k !== \'__kwp\') params.keywords[k] = arguments[i][k];\n          }\n          else params.formals.push(arguments[i]);\n        }\n        return params;\n      },\n      convertToList: function (list) {\n        Object.defineProperties(list, pythonRuntime.utils.listPropertyDescriptor);\n        return list;\n      },\n      convertToDict: function (dict) {\n        Object.defineProperties(dict, pythonRuntime.utils.dictPropertyDescriptor);\n        return dict;\n      }, \n      listPropertyDescriptor: {\n          "_type": {\n            value: \'list\',\n            writable: false,\n            enumerable: false\n          },\n          "_isPython": {\n            value: true,\n            writable: false,\n            enumerable: false\n          },\n          "append": {\n            value: function (x) {\n              this.push(x);\n            },\n            enumerable: false\n          },\n          "clear": {\n            value: function () {\n              this.splice(0, this.length);\n            },\n            enumerable: false\n          },\n          "copy": {\n            value: function () {\n              return this.slice(0);\n            },\n            enumerable: false\n          },\n          "count": {\n            value: function (x) {\n              var c = 0;\n              for (var i = 0; i < this.length; i++)\n                if (this[i] === x) c++;\n              return c;\n            },\n            enumerable: false\n          },\n          "equals": {\n            value: function (x) {\n              try {\n                if (this.length !== x.length) return false;\n                for (var i = 0; i < this.length; i++) {\n                  if (this[i].hasOwnProperty("equals")) {\n                    if (!this[i].equals(x[i])) return false;\n                  } else if (this[i] !== x[i]) return false;\n                }\n                return true;\n              }\n              catch (e) { }\n              return false;\n            },\n            enumerable: false\n          },\n          "extend": {\n            value: function (L) {\n              for (var i = 0; i < L.length; i++) this.push(L[i]);\n            },\n            enumerable: false\n          },\n          "index": {\n            value: function (x) {\n              return this.indexOf(x);\n            },\n            enumerable: false\n          },\n          "indexOf": {\n            value: function (x, fromIndex) {\n              try {\n                for (var i = fromIndex ? fromIndex : 0; i < this.length; i++) {\n                  if (this[i].hasOwnProperty("equals")) {\n                    if (this[i].equals(x)) return i;\n                  } else if (this[i] === x) return i;\n                }\n              }\n              catch (e) { }\n              return -1;\n            },\n            enumerable: false\n          },\n          "insert": {\n            value: function (i, x) {\n              this.splice(i, 0, x);\n            },\n            enumerable: false\n          },\n          "pop": {\n            value: function (i) {\n              if (arguments.length<1) i = this.length - 1;\n              var item = this[i];\n              this.splice(i, 1);\n              return item;\n            },\n            enumerable: false\n          },\n          "_pySlice": {\n            value: function (start, end, step) {\n              return pythonRuntime.internal.slice(this, start, end, step);\n            },\n            enumerable: false\n          },\n          "remove": {\n            value: function (x) {\n              this.splice(this.indexOf(x), 1);\n            },\n            enumerable: false\n          },\n          "sort": {\n            value: function(x, reverse) {\n              var list2 = this.slice(0);\n              var apply_key = function(a, numerical) {\n                var list3 = list2.map(x);\n                // construct a dict that maps the listay before and after the map\n                var mapping = {};\n                for(var i in list3) mapping[list3[i]] = list2[i];\n                if(numerical)\n                  list3.sort(function(a, b) { return a - b; });\n                else\n                  list3.sort();\n                for(var i in a) a[i] = mapping[list3[i]];\n              };\n              for(var i in this) {\n                if(typeof this[i] !== \'number\' || !isFinite(this[i])) {\n                  if(typeof x != \'undefined\') {\n                    apply_key(this, false);\n                  }\n                  else {\n                    list2.sort();\n                    for (var j in this) this[j] = list2[j];\n                  }\n                  if(reverse)\n                    this.reverse();\n                  return;\n                }\n              }\n              if(typeof x != \'undefined\') {\n                apply_key(this, true);\n              }\n              else {\n                list2.sort(function(a, b) { return a - b; });\n                for(var i in this) this[i] = list2[i];\n              }\n              if(reverse)\n                this.reverse();\n            },\n            enumerable: false\n          },\n          "toString": {\n            value: function () {\n              return \'[\' + this.join(\', \') + \']\';\n            },\n            enumerable: false\n          }\n      },\n      createList: function () {\n        var ret = new pythonRuntime.objects.list();\n        if (arguments.length === 1 && arguments[0] instanceof Array)\n          for (var i in arguments[0]) ret.push(arguments[0][i]);\n        else\n          for (var i in arguments) ret.push(arguments[i]);\n        return ret;\n      },\n      dictPropertyDescriptor: {\n        "_type": {\n          value: \'dict\',\n          writable: false\n        },\n        "_isPython": {\n          value: true,\n          enumerable: false\n        },\n        "items": {\n          value: function () {\n            var items = new pythonRuntime.objects.list();\n            for (var k in this) items.append(new pythonRuntime.objects.tuple(k, this[k]));\n            return items;\n          },\n          enumerable: false\n        },\n        "length": {\n          get: function () {\n            return Object.keys(this).length;\n          },\n          enumerable: false\n        },\n        "clear": {\n          value: function () {\n            for (var i in this) delete this[i];\n          },\n          enumerable: false\n        },\n        "get": {\n          value: function (key, def) {\n            if (key in this) return this[key];\n            else if (def !== undefined) return def;\n            return null;\n          },\n          enumerable: false\n        },\n        "keys": {\n          value: function () {\n            return Object.keys(this);\n          },\n          enumerable: false\n        },\n        "pop": {\n          value: function (key, def) {\n            var value;\n            if (key in this) {\n              value = this[key];\n              delete this[key];\n            } else if (def !== undefined) value = def;\n            else return new Error("KeyError");\n            return value;\n          },\n          enumerable: false\n        }, "values": {\n          value: function () {\n            var values = new pythonRuntime.objects.list();\n            for (var key in this) values.append(this[key]);\n            return values;\n          },\n          enumerable: false\n        }\n      }\n    },\n    ops: {\n      add: function (a, b) {\n        if (typeof a === \'object\' && pythonRuntime.internal.isSeq(a) && pythonRuntime.internal.isSeq(b)) {\n          if (a._type !== b._type)\n            throw TypeError("can only concatenate " + a._type + " (not \'" + b._type + "\') to " + a._type);\n          var ret;\n          if (a._type === \'list\') ret = new pythonRuntime.objects.list();\n          else if (a._type === \'tuple\') ret = new pythonRuntime.objects.tuple();\n          if (ret) {\n            for (var i = 0; i < a.length; i++) ret.push(a[i]);\n            for (var i = 0; i < b.length; i++) ret.push(b[i]);\n            return ret;\n          }\n        }\n        return a + b;\n      },\n      in: function (a, b, n) {\n        var r = b.hasOwnProperty(\'indexOf\') ? b.indexOf(a) >= 0 : a in b;\n        return n ? !r : r;\n      },\n      multiply: function (a, b) {\n        // TODO: non-sequence operand must be an integer\n        if ( typeof a === \'object\' ) {\n          if (pythonRuntime.internal.isSeq(a) && !isNaN(parseInt(b))) {\n            var ret;\n            if (a._type === \'list\') ret = new pythonRuntime.objects.list();\n            else if (a._type === \'tuple\') ret = new pythonRuntime.objects.tuple();\n            if (ret) {\n              for (var i = 0; i < b; i++)\n                for (var j = 0; j < a.length; j++) ret.push(a[j]);\n              return ret;\n            }\n          } else if (pythonRuntime.internal.isSeq(b) && !isNaN(parseInt(a))) {\n            var ret;\n            if (b._type === \'list\') ret = new pythonRuntime.objects.list();\n            else if (b._type === \'tuple\') ret = new pythonRuntime.objects.tuple();\n            if (ret) {\n              for (var i = 0; i < a; i++)\n                for (var j = 0; j < b.length; j++) ret.push(b[j]);\n              return ret;\n            }\n          }\n        }\n        return a * b;\n      },\n      subscriptIndex: function (o, i) {\n        if ( i >= 0 ) return i;\n        if ( pythonRuntime.internal.isSeq(o) ) return o.length + i;\n        if ( pythonRuntime.internal.isJSArray(o) ) return o.length + i;\n        if ( typeof o === "string" ) return o.length + i;\n        return i;\n      }\n    },\n\n    objects: {\n      dict: function () {\n        var obj = new PythonDict();\n        for (var i = 0; i < arguments.length; ++i ) obj[arguments[i][0]] = arguments[i][1];\n        return obj;\n      },\n      list: function () {\n        var arr = [];\n        arr.push.apply(arr, arguments);\n        pythonRuntime.utils.convertToList(arr);\n        return arr;\n      },\n      tuple: function () {\n        var arr = [];\n        arr.push.apply(arr, arguments);\n        Object.defineProperty(arr, "_type",\n        {\n          get: function () { return \'tuple\'; },\n          enumerable: false\n        });\n        Object.defineProperty(arr, "_isPython",\n        {\n          get: function () { return true; },\n          enumerable: false\n        });\n        Object.defineProperty(arr, "count",\n        {\n          value: function (x) {\n            var c = 0;\n            for (var i = 0; i < this.length; i++)\n              if (this[i] === x) c++;\n            return c;\n          },\n          enumerable: false\n        });\n        Object.defineProperty(arr, "equals",\n        {\n          value: function (x) {\n            try {\n              if (this.length !== x.length) return false;\n              for (var i = 0; i < this.length; i++) {\n                if (this[i].hasOwnProperty("equals")) {\n                  if (!this[i].equals(x[i])) return false;\n                } else if (this[i] !== x[i]) return false;\n              }\n              return true;\n            }\n            catch (e) { }\n            return false;\n          },\n          enumerable: false\n        });\n        Object.defineProperty(arr, "index",\n        {\n          value: function (x) {\n            return this.indexOf(x);\n          },\n          enumerable: false\n        });\n        Object.defineProperty(arr, "indexOf",\n        {\n          value: function (x, fromIndex) {\n            try {\n              for (var i = fromIndex ? fromIndex : 0; i < this.length; i++) {\n                if (this[i].hasOwnProperty("equals")) {\n                  if (this[i].equals(x)) return i;\n                } else if (this[i] === x) return i;\n              }\n            }\n            catch (e) { }\n            return -1;\n          },\n          enumerable: false\n        });\n        Object.defineProperty(arr, "_pySlice",\n        {\n          value: function (start, end, step) { \n            return pythonRuntime.internal.slice(this, start, end, step);\n          },\n            enumerable: false\n        });\n        Object.defineProperty(arr, "toString",\n        {\n          value: function () {\n            var s = \'(\' + this.join(\', \');\n            if (this.length === 1) s += \',\';\n            s += \')\';\n            return s;\n          },\n          enumerable: false\n        });\n        return arr;\n      }\n    },\n\n    // Python built-in functions\n\n    functions: {\n      abs: function(x) {\n        return Math.abs(x);\n      },\n      all: function(iterable) {\n        for (var i in iterable) if (pythonRuntime.functions.bool(iterable[i]) !== true) return false;\n        return true;\n      },\n      any: function(iterable) {\n        for (var i in iterable) if (pythonRuntime.functions.bool(iterable[i]) === true) return true;\n        return false;\n      },\n      ascii: function(obj) {\n        var s = pythonRuntime.functions.repr(obj),\n            asc = "",\n            code;\n        for (var i = 0; i < s.length; i++) {\n          code = s.charCodeAt(i);\n          if (code <= 127) asc += s[i];\n          else if (code <= 0xFF) asc += "\\\\x" + code.toString(16);\n          else if (0xD800 <= code && code <= 0xDBFF) { // UCS-2 for the astral chars\n            // if (i+1 >= s.length) throw "High surrogate not followed by low surrogate"; // Is this needed?\n            code = ((code-0xD800)*0x400)+(s.charCodeAt(++i)-0xDC00)+0x10000;\n            asc += "\\\\U" + ("000"+code.toString(16)).slice(-8);\n          } else if (code <= 0xFFFF) asc += "\\\\u" + ("0"+code.toString(16)).slice(-4);\n          else if (code <= 0x10FFFF) asc += "\\\\U" + ("000"+code.toString(16)).slice(-8);\n          else; // Invalid value, should probably throw something. It should never get here though as strings shouldn\'t contain them in the first place\n        }\n        return asc;\n      },\n      bool: function(x) {\n        return !(x === undefined || // No argument\n                 x === null || // None\n                 x === false || // False\n                 x === 0 || // Zero\n                 x.length === 0 || // Empty Sequence\n                 // TODO: Empty Mapping, needs more support for python mappings first\n                 (x.__bool__ !== undefined && x.__bool__() === false) || // If it has bool conversion defined\n                 (x.__len__ !== undefined && (x.__len__() === false || x.__len__() === 0))); // If it has length conversion defined\n      },\n      chr: function(i) {\n        return String.fromCharCode(i); // TODO: Error code for not 0 <= i <= 1114111\n      },\n      divmod: function(a, b) {\n        return pythonRuntime.objects.tuple(Math.floor(a/b), a%b);\n      },\n      enumerate: function(iterable, start) {\n        start = start || 0;\n        var ret = new pythonRuntime.objects.list();\n        for (var i in iterable) ret.push(new pythonRuntime.objects.tuple(start++, iterable[i]));\n        return ret;\n      },\n      filter: function(fn, iterable) {\n        fn = fn || function () { return true; };\n        var ret = new pythonRuntime.objects.list();\n        for (var i in iterable) if (fn(iterable[i])) ret.push(iterable[i]);\n        return ret;\n      },\n      float: function(x) {\n        if (x === undefined) return 0.0;\n        else if (typeof x == "string") { // TODO: Fix type check\n          x = x.trim().toLowerCase();\n          if ((/^[+-]?inf(inity)?$/i).exec(x) !== null) return Infinity*(x[0]==="-"?-1:1);\n          else if ((/^nan$/i).exec(x) !== null) return NaN;\n          else return parseFloat(x);\n        } else if (typeof x == "number") { // TODO: Fix type check\n          return x; // TODO: Get python types working right so we can return an actual float\n        } else {\n          if (x.__float__ !== undefined) return x.__float__();\n          else return null; // TODO: Throw TypeError: float() argument must be a string or a number, not \'<type of x>\'\n        }\n      },\n      hex: function(x) {\n        return x.toString(16);\n      },\n      int: function (s) {\n        return parseInt(s);\n      },\n      len: function (o) {\n        return o.length;\n      },\n      list: function (iterable) {\n        var ret = new pythonRuntime.objects.list();\n        if ( arguments.length == 0 ) return ret;\n        if ( arguments.length > 1 ) throw new TypeError(\'list() takes at most 1 argument (\' + arguments.length + \' given)\');\n        if (iterable instanceof Array) for (var i in iterable) ret.push(iterable[i]);\n        else for (var i in iterable) ret.push(i);\n        return ret;\n      },\n      map: function(fn, iterable) {\n        // TODO: support additional iterables passed\n        var ret = new pythonRuntime.objects.list();\n        for (var i in iterable) ret.push(fn(iterable[i]));\n        return ret;\n      },\n      max: function(arg1, arg2) {\n        // TODO: support optional keyword-only arguments\n        // TODO: empty iterable raises Python ValueError\n        if (!arg2) { // iterable\n          var max = null;\n          for (var i in arg1) if (max === null || arg1[i] > max) max = arg1[i];\n          return max;\n        } else return arg1 >= arg2 ? arg1 : arg2;\n      },\n      min: function(arg1, arg2) {\n        // TODO: support optional keyword-only arguments\n        // TODO: empty iterable raises Python ValueError\n        if (!arg2) { // iterable\n          var max = null;\n          for (var i in arg1) if (max === null || arg1[i] < max) max = arg1[i];\n          return max;\n        } else return arg1 <= arg2 ? arg1 : arg2;\n      },\n      oct: function(x) {\n        return x.toString(8);\n      },\n      ord: function(c) {\n        return c.charCodeAt(0);\n      },\n      pow: function(x, y, z) {\n        return z ? Math.pow(x, y) % z : Math.pow(x, y);\n      },\n      print: function () {\n        var s = "";\n        for (var i = 0; i < arguments.length; i++)\n          s += i === 0 ? arguments[i] : " " + arguments[i];\n        console.log(s);\n      },\n      range: function (start, stop, step) {\n        if (stop === undefined) {\n          stop = start;\n          start = 0;\n          step = 1;\n        }\n        else if (step === undefined) step = 1;\n        var len = ~~((stop - start) / step); //~~ is a fast floor\n        if ( len < 0 ) return pythonRuntime.utils.convertToList([]);\n        var r = new Array(len);\n        var element = 0;\n\n        var i = start;\n        while (i < stop && step > 0 || i > stop && step < 0) {\n          r[element++] = i;\n          i += step;\n        }\n\n        pythonRuntime.utils.convertToList(r);\n        return r;\n      },\n      repr: function (obj) {\n        if (typeof obj === \'string\') return "\'" + obj + "\'"; // TODO: Patch until typesystem comes up.\n        if (obj.__repr__ !== undefined) return obj.__repr__();\n        else if (obj.__class__ !== undefined && obj.__class__.module !== undefined && obj.__class__.__name__) {\n          return \'<\'+obj.__class__.__module__+\'.\'+obj.__class__.__name__+\' object>\';\n        } else return obj.toString(); // Raise a please report warning here, we should never reach this piece of code\n      },\n      reversed: function (seq) {\n        var ret = new pythonRuntime.objects.list();\n        for (var i in seq) ret.push(seq[i]);\n        return ret.reverse();\n      },\n      round: function (num, ndigits) {\n        if (ndigits) {\n          var scale = Math.pow(10, ndigits);\n          return Math.round(num * scale) / scale;\n        }\n        return Math.round(num);\n      },\n      sorted: function (iterable, key, reverse) {\n        var ret = new pythonRuntime.objects.list();\n        for (var i in iterable) ret.push(iterable[i]);\n        if(key) ret.sort(key); else ret.sort();\n        if (reverse) ret.reverse();\n        return ret;\n      },\n      str: function (obj) {\n        return obj.toString();\n      },\n      sum: function (iterable, start) {\n        // TODO: start can\'t be a string\n        var ret = start || 0;\n        for (var i in iterable) ret += iterable[i];\n        return ret;\n      },\n      tuple: function (iterable) {\n        var ret = new pythonRuntime.objects.tuple();\n        for (var i in iterable) ret.push(iterable[i]);\n        return ret;\n      }\n    },\n\n    // Python imports\n    // TODO: from x import y, z\n\n    imports: {\n      random: {\n        random: function () { return Math.random(); }\n      }\n    }\n  };\n\n  function PythonDict() {\n\n  }\n\n  Object.defineProperties(PythonDict.prototype, pythonRuntime.utils.dictPropertyDescriptor);\n  return pythonRuntime;\n}));\n\n'}])});